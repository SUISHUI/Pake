/*! For license information please see npm.zone.js.5d187b7e98623bae5b05.js.LICENSE.txt */
"use strict";(self.webpackChunkwinscope=self.webpackChunkwinscope||[]).push([[529],{8216:(e,t,n)=>{!function(e){const t=e.performance;function mark(e){t&&t.mark&&t.mark(e)}function performanceMeasure(e,n){t&&t.measure&&t.measure(e,n)}mark("Zone");const n=e.__Zone_symbol_prefix||"__zone_symbol__";function __symbol__(e){return n+e}const o=!0===e[__symbol__("forceDuplicateZoneCheck")];if(e.Zone){if(o||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}class Zone{constructor(e,t){this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new _ZoneDelegate(this,this._parent&&this._parent._zoneDelegate,t)}static assertZonePatched(){if(e.Promise!==v.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let e=Zone.current;for(;e.parent;)e=e.parent;return e}static get current(){return E.zone}static get currentTask(){return w}static __load_patch(t,n,r=!1){if(v.hasOwnProperty(t)){if(!r&&o)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const o="Zone:"+t;mark(o),v[t]=n(e,Zone,b),performanceMeasure(o,o)}}get parent(){return this._parent}get name(){return this._name}get(e){const t=this.getZoneWith(e);if(t)return t._properties[e]}getZoneWith(e){let t=this;for(;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null}fork(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)}wrap(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);const n=this._zoneDelegate.intercept(this,e,t),o=this;return function(){return o.runGuarded(n,this,arguments,t)}}run(e,t,n,o){E={parent:E,zone:this};try{return this._zoneDelegate.invoke(this,e,t,n,o)}finally{E=E.parent}}runGuarded(e,t=null,n,o){E={parent:E,zone:this};try{try{return this._zoneDelegate.invoke(this,e,t,n,o)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{E=E.parent}}runTask(e,t,n){if(e.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(e.zone||u).name+"; Execution: "+this.name+")");if(e.state===p&&(e.type===y||e.type===T))return;const o=e.state!=_;o&&e._transitionTo(_,d),e.runCount++;const r=w;w=e,E={parent:E,zone:this};try{e.type==T&&e.data&&!e.data.isPeriodic&&(e.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,e,t,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{e.state!==p&&e.state!==g&&(e.type==y||e.data&&e.data.isPeriodic?o&&e._transitionTo(d,_):(e.runCount=0,this._updateTaskCount(e,-1),o&&e._transitionTo(p,_,p))),E=E.parent,w=r}}scheduleTask(e){if(e.zone&&e.zone!==this){let t=this;for(;t;){if(t===e.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${e.zone.name}`);t=t.parent}}e._transitionTo(f,p);const t=[];e._zoneDelegates=t,e._zone=this;try{e=this._zoneDelegate.scheduleTask(this,e)}catch(t){throw e._transitionTo(g,f,p),this._zoneDelegate.handleError(this,t),t}return e._zoneDelegates===t&&this._updateTaskCount(e,1),e.state==f&&e._transitionTo(d,f),e}scheduleMicroTask(e,t,n,o){return this.scheduleTask(new ZoneTask(m,e,t,n,o,void 0))}scheduleMacroTask(e,t,n,o,r){return this.scheduleTask(new ZoneTask(T,e,t,n,o,r))}scheduleEventTask(e,t,n,o,r){return this.scheduleTask(new ZoneTask(y,e,t,n,o,r))}cancelTask(e){if(e.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(e.zone||u).name+"; Execution: "+this.name+")");e._transitionTo(k,d,_);try{this._zoneDelegate.cancelTask(this,e)}catch(t){throw e._transitionTo(g,k),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(e,-1),e._transitionTo(p,k),e.runCount=0,e}_updateTaskCount(e,t){const n=e._zoneDelegates;-1==t&&(e._zoneDelegates=null);for(let o=0;o<n.length;o++)n[o]._updateTaskCount(e.type,t)}}Zone.__symbol__=__symbol__;const r={name:"",onHasTask:(e,t,n,o)=>e.hasTask(n,o),onScheduleTask:(e,t,n,o)=>e.scheduleTask(n,o),onInvokeTask:(e,t,n,o,r,s)=>e.invokeTask(n,o,r,s),onCancelTask:(e,t,n,o)=>e.cancelTask(n,o)};class _ZoneDelegate{constructor(e,t,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=n&&(n&&n.onFork?n:t._forkZS),this._forkDlgt=n&&(n.onFork?t:t._forkDlgt),this._forkCurrZone=n&&(n.onFork?this.zone:t._forkCurrZone),this._interceptZS=n&&(n.onIntercept?n:t._interceptZS),this._interceptDlgt=n&&(n.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=n&&(n.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=n&&(n.onInvoke?n:t._invokeZS),this._invokeDlgt=n&&(n.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=n&&(n.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=n&&(n.onHandleError?n:t._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=n&&(n.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=n&&(n.onScheduleTask?n:t._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=n&&(n.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=n&&(n.onInvokeTask?n:t._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=n&&(n.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=n&&(n.onCancelTask?n:t._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=n&&(n.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const o=n&&n.onHasTask,s=t&&t._hasTaskZS;(o||s)&&(this._hasTaskZS=o?n:r,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=e,n.onScheduleTask||(this._scheduleTaskZS=r,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),n.onInvokeTask||(this._invokeTaskZS=r,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),n.onCancelTask||(this._cancelTaskZS=r,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new Zone(e,t)}intercept(e,t,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,e,t,n):t}invoke(e,t,n,o,r){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,e,t,n,o,r):t.apply(n,o)}handleError(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,e,t)}scheduleTask(e,t){let n=t;if(this._scheduleTaskZS)this._hasTaskZS&&n._zoneDelegates.push(this._hasTaskDlgtOwner),n=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,e,t),n||(n=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=m)throw new Error("Task is missing scheduleFn.");scheduleMicroTask(t)}return n}invokeTask(e,t,n,o){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,e,t,n,o):t.callback.apply(n,o)}cancelTask(e,t){let n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,e,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");n=t.cancelFn(t)}return n}hasTask(e,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,e,t)}catch(t){this.handleError(e,t)}}_updateTaskCount(e,t){const n=this._taskCounts,o=n[e],r=n[e]=o+t;if(r<0)throw new Error("More tasks executed then were scheduled.");if(0==o||0==r){const t={microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:e};this.hasTask(this.zone,t)}}}class ZoneTask{constructor(t,n,o,r,s,a){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=t,this.source=n,this.data=r,this.scheduleFn=s,this.cancelFn=a,!o)throw new Error("callback is not defined");this.callback=o;const i=this;t===y&&r&&r.useG?this.invoke=ZoneTask.invokeTask:this.invoke=function(){return ZoneTask.invokeTask.call(e,i,this,arguments)}}static invokeTask(e,t,n){e||(e=this),Z++;try{return e.runCount++,e.zone.runTask(e,t,n)}finally{1==Z&&drainMicroTaskQueue(),Z--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(p,f)}_transitionTo(e,t,n){if(this._state!==t&&this._state!==n)throw new Error(`${this.type} '${this.source}': can not transition to '${e}', expecting state '${t}'${n?" or '"+n+"'":""}, was '${this._state}'.`);this._state=e,e==p&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const s=__symbol__("setTimeout"),a=__symbol__("Promise"),i=__symbol__("then");let c,l=[],h=!1;function nativeScheduleMicroTask(t){if(c||e[a]&&(c=e[a].resolve(0)),c){let e=c[i];e||(e=c.then),e.call(c,t)}else e[s](t,0)}function scheduleMicroTask(e){0===Z&&0===l.length&&nativeScheduleMicroTask(drainMicroTaskQueue),e&&l.push(e)}function drainMicroTaskQueue(){if(!h){for(h=!0;l.length;){const e=l;l=[];for(let t=0;t<e.length;t++){const n=e[t];try{n.zone.runTask(n,null,null)}catch(e){b.onUnhandledError(e)}}}b.microtaskDrainDone(),h=!1}}const u={name:"NO ZONE"},p="notScheduled",f="scheduling",d="scheduled",_="running",k="canceling",g="unknown",m="microTask",T="macroTask",y="eventTask",v={},b={symbol:__symbol__,currentZoneFrame:()=>E,onUnhandledError:noop,microtaskDrainDone:noop,scheduleMicroTask,showUncaughtError:()=>!Zone[__symbol__("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:noop,patchMethod:()=>noop,bindArguments:()=>[],patchThen:()=>noop,patchMacroTask:()=>noop,patchEventPrototype:()=>noop,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>noop,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>noop,wrapWithCurrentZone:()=>noop,filterProperties:()=>[],attachOriginToPatched:()=>noop,_redefineProperty:()=>noop,patchCallbacks:()=>noop,nativeScheduleMicroTask};let E={parent:null,zone:new Zone(null,null)},w=null,Z=0;function noop(){}performanceMeasure("Zone","Zone"),e.Zone=Zone}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||n.g);const o=Object.getOwnPropertyDescriptor,r=Object.defineProperty,s=Object.getPrototypeOf,a=Object.create,i=Array.prototype.slice,c="addEventListener",l="removeEventListener",h=Zone.__symbol__(c),u=Zone.__symbol__(l),p="true",f="false",d=Zone.__symbol__("");function wrapWithCurrentZone(e,t){return Zone.current.wrap(e,t)}function scheduleMacroTaskWithCurrentZone(e,t,n,o,r){return Zone.current.scheduleMacroTask(e,t,n,o,r)}const _=Zone.__symbol__,k="undefined"!=typeof window,g=k?window:void 0,m=k&&g||"object"==typeof self&&self||n.g,T="removeAttribute";function bindArguments(e,t){for(let n=e.length-1;n>=0;n--)"function"==typeof e[n]&&(e[n]=wrapWithCurrentZone(e[n],t+"_"+n));return e}function isPropertyWritable(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}const y="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,v=!("nw"in m)&&void 0!==m.process&&"[object process]"==={}.toString.call(m.process),b=!v&&!y&&!(!k||!g.HTMLElement),E=void 0!==m.process&&"[object process]"==={}.toString.call(m.process)&&!y&&!(!k||!g.HTMLElement),w={},wrapFn=function(e){if(!(e=e||m.event))return;let t=w[e.type];t||(t=w[e.type]=_("ON_PROPERTY"+e.type));const n=this||e.target||m,o=n[t];let r;if(b&&n===g&&"error"===e.type){const t=e;r=o&&o.call(this,t.message,t.filename,t.lineno,t.colno,t.error),!0===r&&e.preventDefault()}else r=o&&o.apply(this,arguments),null==r||r||e.preventDefault();return r};function patchProperty(e,t,n){let s=o(e,t);if(!s&&n){o(n,t)&&(s={enumerable:!0,configurable:!0})}if(!s||!s.configurable)return;const a=_("on"+t+"patched");if(e.hasOwnProperty(a)&&e[a])return;delete s.writable,delete s.value;const i=s.get,c=s.set,l=t.slice(2);let h=w[l];h||(h=w[l]=_("ON_PROPERTY"+l)),s.set=function(t){let n=this;if(n||e!==m||(n=m),!n)return;"function"==typeof n[h]&&n.removeEventListener(l,wrapFn),c&&c.call(n,null),n[h]=t,"function"==typeof t&&n.addEventListener(l,wrapFn,!1)},s.get=function(){let n=this;if(n||e!==m||(n=m),!n)return null;const o=n[h];if(o)return o;if(i){let e=i.call(this);if(e)return s.set.call(this,e),"function"==typeof n[T]&&n.removeAttribute(t),e}return null},r(e,t,s),e[a]=!0}function patchOnProperties(e,t,n){if(t)for(let o=0;o<t.length;o++)patchProperty(e,"on"+t[o],n);else{const t=[];for(const n in e)"on"==n.slice(0,2)&&t.push(n);for(let o=0;o<t.length;o++)patchProperty(e,t[o],n)}}const Z=_("originalInstance");function patchClass(e){const t=m[e];if(!t)return;m[_(e)]=t,m[e]=function(){const n=bindArguments(arguments,e);switch(n.length){case 0:this[Z]=new t;break;case 1:this[Z]=new t(n[0]);break;case 2:this[Z]=new t(n[0],n[1]);break;case 3:this[Z]=new t(n[0],n[1],n[2]);break;case 4:this[Z]=new t(n[0],n[1],n[2],n[3]);break;default:throw new Error("Arg list too long.")}},attachOriginToPatched(m[e],t);const n=new t((function(){}));let o;for(o in n)"XMLHttpRequest"===e&&"responseBlob"===o||function(t){"function"==typeof n[t]?m[e].prototype[t]=function(){return this[Z][t].apply(this[Z],arguments)}:r(m[e].prototype,t,{set:function(n){"function"==typeof n?(this[Z][t]=wrapWithCurrentZone(n,e+"."+t),attachOriginToPatched(this[Z][t],n)):this[Z][t]=n},get:function(){return this[Z][t]}})}(o);for(o in t)"prototype"!==o&&t.hasOwnProperty(o)&&(m[e][o]=t[o])}function patchMethod(e,t,n){let r=e;for(;r&&!r.hasOwnProperty(t);)r=s(r);!r&&e[t]&&(r=e);const a=_(t);let i=null;if(r&&(!(i=r[a])||!r.hasOwnProperty(a))){i=r[a]=r[t];if(isPropertyWritable(r&&o(r,t))){const e=n(i,a,t);r[t]=function(){return e(this,arguments)},attachOriginToPatched(r[t],i)}}return i}function patchMacroTask(e,t,n){let o=null;function scheduleTask(e){const t=e.data;return t.args[t.cbIdx]=function(){e.invoke.apply(this,arguments)},o.apply(t.target,t.args),e}o=patchMethod(e,t,(e=>function(t,o){const r=n(t,o);return r.cbIdx>=0&&"function"==typeof o[r.cbIdx]?scheduleMacroTaskWithCurrentZone(r.name,o[r.cbIdx],r,scheduleTask):e.apply(t,o)}))}function attachOriginToPatched(e,t){e[_("OriginalDelegate")]=t}let P=!1,S=!1;function isIE(){try{const e=g.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}function isIEOrEdge(){if(P)return S;P=!0;try{const e=g.navigator.userAgent;-1===e.indexOf("MSIE ")&&-1===e.indexOf("Trident/")&&-1===e.indexOf("Edge/")||(S=!0)}catch(e){}return S}Zone.__load_patch("ZoneAwarePromise",((e,t,n)=>{const o=Object.getOwnPropertyDescriptor,r=Object.defineProperty;const s=n.symbol,a=[],i=!0===e[s("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],c=s("Promise"),l=s("then"),h="__creationTrace__";n.onUnhandledError=e=>{if(n.showUncaughtError()){const t=e&&e.rejection;t?console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0):console.error(e)}},n.microtaskDrainDone=()=>{for(;a.length;){const e=a.shift();try{e.zone.runGuarded((()=>{if(e.throwOriginal)throw e.rejection;throw e}))}catch(e){handleUnhandledRejection(e)}}};const u=s("unhandledPromiseRejectionHandler");function handleUnhandledRejection(e){n.onUnhandledError(e);try{const n=t[u];"function"==typeof n&&n.call(this,e)}catch(e){}}function isThenable(e){return e&&e.then}function forwardResolution(e){return e}function forwardRejection(e){return ZoneAwarePromise.reject(e)}const p=s("state"),f=s("value"),d=s("finally"),_=s("parentPromiseValue"),k=s("parentPromiseState"),g="Promise.then",m=null,T=!0,y=!1,v=0;function makeResolver(e,t){return n=>{try{resolvePromise(e,t,n)}catch(t){resolvePromise(e,!1,t)}}}const once=function(){let e=!1;return function wrapper(t){return function(){e||(e=!0,t.apply(null,arguments))}}},b="Promise resolved with itself",E=s("currentTaskTrace");function resolvePromise(e,o,s){const c=once();if(e===s)throw new TypeError(b);if(e[p]===m){let l=null;try{"object"!=typeof s&&"function"!=typeof s||(l=s&&s.then)}catch(t){return c((()=>{resolvePromise(e,!1,t)}))(),e}if(o!==y&&s instanceof ZoneAwarePromise&&s.hasOwnProperty(p)&&s.hasOwnProperty(f)&&s[p]!==m)clearRejectedNoCatch(s),resolvePromise(e,s[p],s[f]);else if(o!==y&&"function"==typeof l)try{l.call(s,c(makeResolver(e,o)),c(makeResolver(e,!1)))}catch(t){c((()=>{resolvePromise(e,!1,t)}))()}else{e[p]=o;const c=e[f];if(e[f]=s,e[d]===d&&o===T&&(e[p]=e[k],e[f]=e[_]),o===y&&s instanceof Error){const e=t.currentTask&&t.currentTask.data&&t.currentTask.data[h];e&&r(s,E,{configurable:!0,enumerable:!1,writable:!0,value:e})}for(let t=0;t<c.length;)scheduleResolveOrReject(e,c[t++],c[t++],c[t++],c[t++]);if(0==c.length&&o==y){e[p]=v;let o=s;try{throw new Error("Uncaught (in promise): "+function readableObjectToString(e){if(e&&e.toString===Object.prototype.toString){return(e.constructor&&e.constructor.name||"")+": "+JSON.stringify(e)}return e?e.toString():Object.prototype.toString.call(e)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(e){o=e}i&&(o.throwOriginal=!0),o.rejection=s,o.promise=e,o.zone=t.current,o.task=t.currentTask,a.push(o),n.scheduleMicroTask()}}}return e}const w=s("rejectionHandledHandler");function clearRejectedNoCatch(e){if(e[p]===v){try{const n=t[w];n&&"function"==typeof n&&n.call(this,{rejection:e[f],promise:e})}catch(e){}e[p]=y;for(let t=0;t<a.length;t++)e===a[t].promise&&a.splice(t,1)}}function scheduleResolveOrReject(e,t,n,o,r){clearRejectedNoCatch(e);const s=e[p],a=s?"function"==typeof o?o:forwardResolution:"function"==typeof r?r:forwardRejection;t.scheduleMicroTask(g,(()=>{try{const o=e[f],r=!!n&&d===n[d];r&&(n[_]=o,n[k]=s);const i=t.run(a,void 0,r&&a!==forwardRejection&&a!==forwardResolution?[]:[o]);resolvePromise(n,!0,i)}catch(e){resolvePromise(n,!1,e)}}),n)}const noop=function(){},Z=e.AggregateError;class ZoneAwarePromise{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(e){return resolvePromise(new this(null),T,e)}static reject(e){return resolvePromise(new this(null),y,e)}static any(e){if(!e||"function"!=typeof e[Symbol.iterator])return Promise.reject(new Z([],"All promises were rejected"));const t=[];let n=0;try{for(let o of e)n++,t.push(ZoneAwarePromise.resolve(o))}catch(e){return Promise.reject(new Z([],"All promises were rejected"))}if(0===n)return Promise.reject(new Z([],"All promises were rejected"));let o=!1;const r=[];return new ZoneAwarePromise(((e,s)=>{for(let a=0;a<t.length;a++)t[a].then((t=>{o||(o=!0,e(t))}),(e=>{r.push(e),n--,0===n&&(o=!0,s(new Z(r,"All promises were rejected")))}))}))}static race(e){let t,n,o=new this(((e,o)=>{t=e,n=o}));function onResolve(e){t(e)}function onReject(e){n(e)}for(let t of e)isThenable(t)||(t=this.resolve(t)),t.then(onResolve,onReject);return o}static all(e){return ZoneAwarePromise.allWithCallback(e)}static allSettled(e){return(this&&this.prototype instanceof ZoneAwarePromise?this:ZoneAwarePromise).allWithCallback(e,{thenCallback:e=>({status:"fulfilled",value:e}),errorCallback:e=>({status:"rejected",reason:e})})}static allWithCallback(e,t){let n,o,r=new this(((e,t)=>{n=e,o=t})),s=2,a=0;const i=[];for(let r of e){isThenable(r)||(r=this.resolve(r));const e=a;try{r.then((o=>{i[e]=t?t.thenCallback(o):o,s--,0===s&&n(i)}),(r=>{t?(i[e]=t.errorCallback(r),s--,0===s&&n(i)):o(r)}))}catch(e){o(e)}s++,a++}return s-=2,0===s&&n(i),r}constructor(e){const t=this;if(!(t instanceof ZoneAwarePromise))throw new Error("Must be an instanceof Promise.");t[p]=m,t[f]=[];try{const n=once();e&&e(n(makeResolver(t,T)),n(makeResolver(t,y)))}catch(e){resolvePromise(t,!1,e)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return ZoneAwarePromise}then(e,n){var o;let r=null===(o=this.constructor)||void 0===o?void 0:o[Symbol.species];r&&"function"==typeof r||(r=this.constructor||ZoneAwarePromise);const s=new r(noop),a=t.current;return this[p]==m?this[f].push(a,s,e,n):scheduleResolveOrReject(this,a,s,e,n),s}catch(e){return this.then(null,e)}finally(e){var n;let o=null===(n=this.constructor)||void 0===n?void 0:n[Symbol.species];o&&"function"==typeof o||(o=ZoneAwarePromise);const r=new o(noop);r[d]=d;const s=t.current;return this[p]==m?this[f].push(s,r,e,e):scheduleResolveOrReject(this,s,r,e,e),r}}ZoneAwarePromise.resolve=ZoneAwarePromise.resolve,ZoneAwarePromise.reject=ZoneAwarePromise.reject,ZoneAwarePromise.race=ZoneAwarePromise.race,ZoneAwarePromise.all=ZoneAwarePromise.all;const P=e[c]=e.Promise;e.Promise=ZoneAwarePromise;const S=s("thenPatched");function patchThen(e){const t=e.prototype,n=o(t,"then");if(n&&(!1===n.writable||!n.configurable))return;const r=t.then;t[l]=r,e.prototype.then=function(e,t){return new ZoneAwarePromise(((e,t)=>{r.call(this,e,t)})).then(e,t)},e[S]=!0}return n.patchThen=patchThen,P&&(patchThen(P),patchMethod(e,"fetch",(e=>function zoneify(e){return function(t,n){let o=e.apply(t,n);if(o instanceof ZoneAwarePromise)return o;let r=o.constructor;return r[S]||patchThen(r),o}}(e)))),Promise[t.__symbol__("uncaughtPromiseErrors")]=a,ZoneAwarePromise})),Zone.__load_patch("toString",(e=>{const t=Function.prototype.toString,n=_("OriginalDelegate"),o=_("Promise"),r=_("Error"),s=function toString(){if("function"==typeof this){const s=this[n];if(s)return"function"==typeof s?t.call(s):Object.prototype.toString.call(s);if(this===Promise){const n=e[o];if(n)return t.call(n)}if(this===Error){const n=e[r];if(n)return t.call(n)}}return t.call(this)};s[n]=t,Function.prototype.toString=s;const a=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":a.call(this)}}));let O=!1;if("undefined"!=typeof window)try{const e=Object.defineProperty({},"passive",{get:function(){O=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){O=!1}const C={useG:!0},D={},j={},R=new RegExp("^"+d+"(\\w+)(true|false)$"),M=_("propagationStopped");function prepareEventNames(e,t){const n=(t?t(e):e)+f,o=(t?t(e):e)+p,r=d+n,s=d+o;D[e]={},D[e][f]=r,D[e][p]=s}function patchEventTarget(e,t,n,o){const r=o&&o.add||c,a=o&&o.rm||l,i=o&&o.listeners||"eventListeners",h=o&&o.rmAll||"removeAllListeners",u=_(r),k="."+r+":",g="prependListener",m="."+g+":",invokeTask=function(e,t,n){if(e.isRemoved)return;const o=e.callback;let r;"object"==typeof o&&o.handleEvent&&(e.callback=e=>o.handleEvent(e),e.originalDelegate=o);try{e.invoke(e,t,[n])}catch(e){r=e}const s=e.options;if(s&&"object"==typeof s&&s.once){const o=e.originalDelegate?e.originalDelegate:e.callback;t[a].call(t,n.type,o,s)}return r};function globalCallback(n,o,r){if(!(o=o||e.event))return;const s=n||o.target||e,a=s[D[o.type][r?p:f]];if(a){const e=[];if(1===a.length){const t=invokeTask(a[0],s,o);t&&e.push(t)}else{const t=a.slice();for(let n=0;n<t.length&&(!o||!0!==o[M]);n++){const r=invokeTask(t[n],s,o);r&&e.push(r)}}if(1===e.length)throw e[0];for(let n=0;n<e.length;n++){const o=e[n];t.nativeScheduleMicroTask((()=>{throw o}))}}}const globalZoneAwareCallback=function(e){return globalCallback(this,e,!1)},globalZoneAwareCaptureCallback=function(e){return globalCallback(this,e,!0)};function patchEventTargetMethods(t,n){if(!t)return!1;let o=!0;n&&void 0!==n.useG&&(o=n.useG);const c=n&&n.vh;let l=!0;n&&void 0!==n.chkDup&&(l=n.chkDup);let T=!1;n&&void 0!==n.rt&&(T=n.rt);let y=t;for(;y&&!y.hasOwnProperty(r);)y=s(y);if(!y&&t[r]&&(y=t),!y)return!1;if(y[u])return!1;const b=n&&n.eventNameToString,E={},w=y[u]=y[r],Z=y[_(a)]=y[a],P=y[_(i)]=y[i],S=y[_(h)]=y[h];let M;n&&n.prepend&&(M=y[_(n.prepend)]=y[n.prepend]);const customSchedulePrepend=function(e){return M.call(E.target,E.eventName,e.invoke,E.options)},z=o?function(e){if(!E.isExisting)return w.call(E.target,E.eventName,E.capture?globalZoneAwareCaptureCallback:globalZoneAwareCallback,E.options)}:function(e){return w.call(E.target,E.eventName,e.invoke,E.options)},A=o?function(e){if(!e.isRemoved){const t=D[e.eventName];let n;t&&(n=t[e.capture?p:f]);const o=n&&e.target[n];if(o)for(let t=0;t<o.length;t++){if(o[t]===e){o.splice(t,1),e.isRemoved=!0,0===o.length&&(e.allRemoved=!0,e.target[n]=null);break}}}if(e.allRemoved)return Z.call(e.target,e.eventName,e.capture?globalZoneAwareCaptureCallback:globalZoneAwareCallback,e.options)}:function(e){return Z.call(e.target,e.eventName,e.invoke,e.options)},I=n&&n.diff?n.diff:function(e,t){const n=typeof t;return"function"===n&&e.callback===t||"object"===n&&e.originalDelegate===t},N=Zone[_("UNPATCHED_EVENTS")],L=e[_("PASSIVE_EVENTS")],makeAddListener=function(t,r,s,a,i=!1,h=!1){return function(){const u=this||e;let d=arguments[0];n&&n.transferEventName&&(d=n.transferEventName(d));let _=arguments[1];if(!_)return t.apply(this,arguments);if(v&&"uncaughtException"===d)return t.apply(this,arguments);let k=!1;if("function"!=typeof _){if(!_.handleEvent)return t.apply(this,arguments);k=!0}if(c&&!c(t,_,u,arguments))return;const g=O&&!!L&&-1!==L.indexOf(d),m=function buildEventListenerOptions(e,t){return!O&&"object"==typeof e&&e?!!e.capture:O&&t?"boolean"==typeof e?{capture:e,passive:!0}:e?"object"==typeof e&&!1!==e.passive?Object.assign(Object.assign({},e),{passive:!0}):e:{passive:!0}:e}(arguments[2],g);if(N)for(let e=0;e<N.length;e++)if(d===N[e])return g?t.call(u,d,_,m):t.apply(this,arguments);const T=!!m&&("boolean"==typeof m||m.capture),y=!(!m||"object"!=typeof m)&&m.once,w=Zone.current;let Z=D[d];Z||(prepareEventNames(d,b),Z=D[d]);const P=Z[T?p:f];let S,R=u[P],M=!1;if(R){if(M=!0,l)for(let e=0;e<R.length;e++)if(I(R[e],_))return}else R=u[P]=[];const z=u.constructor.name,A=j[z];A&&(S=A[d]),S||(S=z+r+(b?b(d):d)),E.options=m,y&&(E.options.once=!1),E.target=u,E.capture=T,E.eventName=d,E.isExisting=M;const H=o?C:void 0;H&&(H.taskData=E);const F=w.scheduleEventTask(S,_,H,s,a);return E.target=null,H&&(H.taskData=null),y&&(m.once=!0),(O||"boolean"!=typeof F.options)&&(F.options=m),F.target=u,F.capture=T,F.eventName=d,k&&(F.originalDelegate=_),h?R.unshift(F):R.push(F),i?u:void 0}};return y[r]=makeAddListener(w,k,z,A,T),M&&(y[g]=makeAddListener(M,m,customSchedulePrepend,A,T,!0)),y[a]=function(){const t=this||e;let o=arguments[0];n&&n.transferEventName&&(o=n.transferEventName(o));const r=arguments[2],s=!!r&&("boolean"==typeof r||r.capture),a=arguments[1];if(!a)return Z.apply(this,arguments);if(c&&!c(Z,a,t,arguments))return;const i=D[o];let l;i&&(l=i[s?p:f]);const h=l&&t[l];if(h)for(let e=0;e<h.length;e++){const n=h[e];if(I(n,a)){if(h.splice(e,1),n.isRemoved=!0,0===h.length&&(n.allRemoved=!0,t[l]=null,"string"==typeof o)){t[d+"ON_PROPERTY"+o]=null}return n.zone.cancelTask(n),T?t:void 0}}return Z.apply(this,arguments)},y[i]=function(){const t=this||e;let o=arguments[0];n&&n.transferEventName&&(o=n.transferEventName(o));const r=[],s=findEventTasks(t,b?b(o):o);for(let e=0;e<s.length;e++){const t=s[e];let n=t.originalDelegate?t.originalDelegate:t.callback;r.push(n)}return r},y[h]=function(){const t=this||e;let o=arguments[0];if(o){n&&n.transferEventName&&(o=n.transferEventName(o));const e=D[o];if(e){const n=e[f],r=e[p],s=t[n],i=t[r];if(s){const e=s.slice();for(let t=0;t<e.length;t++){const n=e[t];let r=n.originalDelegate?n.originalDelegate:n.callback;this[a].call(this,o,r,n.options)}}if(i){const e=i.slice();for(let t=0;t<e.length;t++){const n=e[t];let r=n.originalDelegate?n.originalDelegate:n.callback;this[a].call(this,o,r,n.options)}}}}else{const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=e[t],o=R.exec(n);let r=o&&o[1];r&&"removeListener"!==r&&this[h].call(this,r)}this[h].call(this,"removeListener")}if(T)return this},attachOriginToPatched(y[r],w),attachOriginToPatched(y[a],Z),S&&attachOriginToPatched(y[h],S),P&&attachOriginToPatched(y[i],P),!0}let T=[];for(let e=0;e<n.length;e++)T[e]=patchEventTargetMethods(n[e],o);return T}function findEventTasks(e,t){if(!t){const n=[];for(let o in e){const r=R.exec(o);let s=r&&r[1];if(s&&(!t||s===t)){const t=e[o];if(t)for(let e=0;e<t.length;e++)n.push(t[e])}}return n}let n=D[t];n||(prepareEventNames(t),n=D[t]);const o=e[n[f]],r=e[n[p]];return o?r?o.concat(r):o.slice():r?r.slice():[]}function patchEventPrototype(e,t){const n=e.Event;n&&n.prototype&&t.patchMethod(n.prototype,"stopImmediatePropagation",(e=>function(t,n){t[M]=!0,e&&e.apply(t,n)}))}function patchCallbacks(e,t,n,o,r){const s=Zone.__symbol__(o);if(t[s])return;const a=t[s]=t[o];t[o]=function(s,i,c){return i&&i.prototype&&r.forEach((function(t){const r=`${n}.${o}::`+t,s=i.prototype;try{if(s.hasOwnProperty(t)){const n=e.ObjectGetOwnPropertyDescriptor(s,t);n&&n.value?(n.value=e.wrapWithCurrentZone(n.value,r),e._redefineProperty(i.prototype,t,n)):s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],r))}else s[t]&&(s[t]=e.wrapWithCurrentZone(s[t],r))}catch(e){}})),a.call(t,s,i,c)},e.attachOriginToPatched(t[o],a)}function filterProperties(e,t,n){if(!n||0===n.length)return t;const o=n.filter((t=>t.target===e));if(!o||0===o.length)return t;const r=o[0].ignoreProperties;return t.filter((e=>-1===r.indexOf(e)))}function patchFilteredProperties(e,t,n,o){if(!e)return;patchOnProperties(e,filterProperties(e,t,n),o)}function getOnEventNames(e){return Object.getOwnPropertyNames(e).filter((e=>e.startsWith("on")&&e.length>2)).map((e=>e.substring(2)))}function propertyDescriptorPatch(e,t){if(v&&!E)return;if(Zone[e.symbol("patchEvents")])return;const n=t.__Zone_ignore_on_properties;let o=[];if(b){const e=window;o=o.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const t=isIE()?[{target:e,ignoreProperties:["error"]}]:[];patchFilteredProperties(e,getOnEventNames(e),n?n.concat(t):n,s(e))}o=o.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let e=0;e<o.length;e++){const r=t[o[e]];r&&r.prototype&&patchFilteredProperties(r.prototype,getOnEventNames(r.prototype),n)}}Zone.__load_patch("util",((e,t,n)=>{const s=getOnEventNames(e);n.patchOnProperties=patchOnProperties,n.patchMethod=patchMethod,n.bindArguments=bindArguments,n.patchMacroTask=patchMacroTask;const h=t.__symbol__("BLACK_LISTED_EVENTS"),u=t.__symbol__("UNPATCHED_EVENTS");e[u]&&(e[h]=e[u]),e[h]&&(t[h]=t[u]=e[h]),n.patchEventPrototype=patchEventPrototype,n.patchEventTarget=patchEventTarget,n.isIEOrEdge=isIEOrEdge,n.ObjectDefineProperty=r,n.ObjectGetOwnPropertyDescriptor=o,n.ObjectCreate=a,n.ArraySlice=i,n.patchClass=patchClass,n.wrapWithCurrentZone=wrapWithCurrentZone,n.filterProperties=filterProperties,n.attachOriginToPatched=attachOriginToPatched,n._redefineProperty=Object.defineProperty,n.patchCallbacks=patchCallbacks,n.getGlobalObjects=()=>({globalSources:j,zoneSymbolEventNames:D,eventNames:s,isBrowser:b,isMix:E,isNode:v,TRUE_STR:p,FALSE_STR:f,ZONE_SYMBOL_PREFIX:d,ADD_EVENT_LISTENER_STR:c,REMOVE_EVENT_LISTENER_STR:l})}));const z=_("zoneTask");function patchTimer(e,t,n,o){let r=null,s=null;n+=o;const a={};function scheduleTask(t){const n=t.data;return n.args[0]=function(){return t.invoke.apply(this,arguments)},n.handleId=r.apply(e,n.args),t}function clearTask(t){return s.call(e,t.data.handleId)}r=patchMethod(e,t+=o,(n=>function(r,s){if("function"==typeof s[0]){const e={isPeriodic:"Interval"===o,delay:"Timeout"===o||"Interval"===o?s[1]||0:void 0,args:s},n=s[0];s[0]=function timer(){try{return n.apply(this,arguments)}finally{e.isPeriodic||("number"==typeof e.handleId?delete a[e.handleId]:e.handleId&&(e.handleId[z]=null))}};const r=scheduleMacroTaskWithCurrentZone(t,s[0],e,scheduleTask,clearTask);if(!r)return r;const i=r.data.handleId;return"number"==typeof i?a[i]=r:i&&(i[z]=r),i&&i.ref&&i.unref&&"function"==typeof i.ref&&"function"==typeof i.unref&&(r.ref=i.ref.bind(i),r.unref=i.unref.bind(i)),"number"==typeof i||i?i:r}return n.apply(e,s)})),s=patchMethod(e,n,(t=>function(n,o){const r=o[0];let s;"number"==typeof r?s=a[r]:(s=r&&r[z],s||(s=r)),s&&"string"==typeof s.type?"notScheduled"!==s.state&&(s.cancelFn&&s.data.isPeriodic||0===s.runCount)&&("number"==typeof r?delete a[r]:r&&(r[z]=null),s.zone.cancelTask(s)):t.apply(e,o)}))}function eventTargetPatch(e,t){if(Zone[t.symbol("patchEventTarget")])return;const{eventNames:n,zoneSymbolEventNames:o,TRUE_STR:r,FALSE_STR:s,ZONE_SYMBOL_PREFIX:a}=t.getGlobalObjects();for(let e=0;e<n.length;e++){const t=n[e],i=a+(t+s),c=a+(t+r);o[t]={},o[t][s]=i,o[t][r]=c}const i=e.EventTarget;return i&&i.prototype?(t.patchEventTarget(e,t,[i&&i.prototype]),!0):void 0}Zone.__load_patch("legacy",(e=>{const t=e[Zone.__symbol__("legacyPatch")];t&&t()})),Zone.__load_patch("queueMicrotask",((e,t,n)=>{n.patchMethod(e,"queueMicrotask",(e=>function(e,n){t.current.scheduleMicroTask("queueMicrotask",n[0])}))})),Zone.__load_patch("timers",(e=>{const t="set",n="clear";patchTimer(e,t,n,"Timeout"),patchTimer(e,t,n,"Interval"),patchTimer(e,t,n,"Immediate")})),Zone.__load_patch("requestAnimationFrame",(e=>{patchTimer(e,"request","cancel","AnimationFrame"),patchTimer(e,"mozRequest","mozCancel","AnimationFrame"),patchTimer(e,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",((e,t)=>{const n=["alert","prompt","confirm"];for(let o=0;o<n.length;o++){patchMethod(e,n[o],((n,o,r)=>function(o,s){return t.current.run(n,e,s,r)}))}})),Zone.__load_patch("EventTarget",((e,t,n)=>{!function patchEvent(e,t){t.patchEventPrototype(e,t)}(e,n),eventTargetPatch(e,n);const o=e.XMLHttpRequestEventTarget;o&&o.prototype&&n.patchEventTarget(e,n,[o.prototype])})),Zone.__load_patch("MutationObserver",((e,t,n)=>{patchClass("MutationObserver"),patchClass("WebKitMutationObserver")})),Zone.__load_patch("IntersectionObserver",((e,t,n)=>{patchClass("IntersectionObserver")})),Zone.__load_patch("FileReader",((e,t,n)=>{patchClass("FileReader")})),Zone.__load_patch("on_property",((e,t,n)=>{propertyDescriptorPatch(n,e)})),Zone.__load_patch("customElements",((e,t,n)=>{!function patchCustomElements(e,t){const{isBrowser:n,isMix:o}=t.getGlobalObjects();if(!n&&!o||!e.customElements||!("customElements"in e))return;t.patchCallbacks(t,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,n)})),Zone.__load_patch("XHR",((e,t)=>{!function patchXHR(e){const c=e.XMLHttpRequest;if(!c)return;const l=c.prototype;let p=l[h],f=l[u];if(!p){const t=e.XMLHttpRequestEventTarget;if(t){const e=t.prototype;p=e[h],f=e[u]}}const d="readystatechange",k="scheduled";function scheduleTask(e){const o=e.data,a=o.target;a[s]=!1,a[i]=!1;const c=a[r];p||(p=a[h],f=a[u]),c&&f.call(a,d,c);const l=a[r]=()=>{if(a.readyState===a.DONE)if(!o.aborted&&a[s]&&e.state===k){const n=a[t.__symbol__("loadfalse")];if(0!==a.status&&n&&n.length>0){const r=e.invoke;e.invoke=function(){const n=a[t.__symbol__("loadfalse")];for(let t=0;t<n.length;t++)n[t]===e&&n.splice(t,1);o.aborted||e.state!==k||r.call(e)},n.push(e)}else e.invoke()}else o.aborted||!1!==a[s]||(a[i]=!0)};p.call(a,d,l);return a[n]||(a[n]=e),y.apply(a,o.args),a[s]=!0,e}function placeholderCallback(){}function clearTask(e){const t=e.data;return t.aborted=!0,v.apply(t.target,t.args)}const g=patchMethod(l,"open",(()=>function(e,t){return e[o]=0==t[2],e[a]=t[1],g.apply(e,t)})),m=_("fetchTaskAborting"),T=_("fetchTaskScheduling"),y=patchMethod(l,"send",(()=>function(e,n){if(!0===t.current[T])return y.apply(e,n);if(e[o])return y.apply(e,n);{const t={target:e,url:e[a],isPeriodic:!1,args:n,aborted:!1},o=scheduleMacroTaskWithCurrentZone("XMLHttpRequest.send",placeholderCallback,t,scheduleTask,clearTask);e&&!0===e[i]&&!t.aborted&&o.state===k&&o.invoke()}})),v=patchMethod(l,"abort",(()=>function(e,o){const r=function findPendingTask(e){return e[n]}(e);if(r&&"string"==typeof r.type){if(null==r.cancelFn||r.data&&r.data.aborted)return;r.zone.cancelTask(r)}else if(!0===t.current[m])return v.apply(e,o)}))}(e);const n=_("xhrTask"),o=_("xhrSync"),r=_("xhrListener"),s=_("xhrScheduled"),a=_("xhrURL"),i=_("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(e=>{e.navigator&&e.navigator.geolocation&&function patchPrototype(e,t){const n=e.constructor.name;for(let r=0;r<t.length;r++){const s=t[r],a=e[s];if(a){if(!isPropertyWritable(o(e,s)))continue;e[s]=(e=>{const patched=function(){return e.apply(this,bindArguments(arguments,n+"."+s))};return attachOriginToPatched(patched,e),patched})(a)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",((e,t)=>{function findPromiseRejectionHandler(t){return function(n){findEventTasks(e,t).forEach((o=>{const r=e.PromiseRejectionEvent;if(r){const e=new r(t,{promise:n.promise,reason:n.rejection});o.invoke(e)}}))}}e.PromiseRejectionEvent&&(t[_("unhandledPromiseRejectionHandler")]=findPromiseRejectionHandler("unhandledrejection"),t[_("rejectionHandledHandler")]=findPromiseRejectionHandler("rejectionhandled"))}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFlBQy9FdE8sRUFBVVQsT0FBTzhmLEVBQ3JCLElBRVIsQ0FDSixDQUNJL2lCLEVBQThCLHdCQUM5QlUsRUFBSytNLEVBQVcscUNBQ1pvViw0QkFBNEIsc0JBQ2hDbmlCLEVBQUsrTSxFQUFXLDRCQUNab1YsNEJBQTRCLG9CQUNwQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dpbnNjb3BlLy4vbm9kZV9tb2R1bGVzL3pvbmUuanMvZmVzbTIwMTUvem9uZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXIgdjE0LjIuMC1uZXh0LjBcbiAqIChjKSAyMDEwLTIwMjIgR29vZ2xlIExMQy4gaHR0cHM6Ly9hbmd1bGFyLmlvL1xuICogTGljZW5zZTogTUlUXG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuKChmdW5jdGlvbiAoZ2xvYmFsKSB7XG4gICAgY29uc3QgcGVyZm9ybWFuY2UgPSBnbG9iYWxbJ3BlcmZvcm1hbmNlJ107XG4gICAgZnVuY3Rpb24gbWFyayhuYW1lKSB7XG4gICAgICAgIHBlcmZvcm1hbmNlICYmIHBlcmZvcm1hbmNlWydtYXJrJ10gJiYgcGVyZm9ybWFuY2VbJ21hcmsnXShuYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVyZm9ybWFuY2VNZWFzdXJlKG5hbWUsIGxhYmVsKSB7XG4gICAgICAgIHBlcmZvcm1hbmNlICYmIHBlcmZvcm1hbmNlWydtZWFzdXJlJ10gJiYgcGVyZm9ybWFuY2VbJ21lYXN1cmUnXShuYW1lLCBsYWJlbCk7XG4gICAgfVxuICAgIG1hcmsoJ1pvbmUnKTtcbiAgICAvLyBJbml0aWFsaXplIGJlZm9yZSBpdCdzIGFjY2Vzc2VkIGJlbG93LlxuICAgIC8vIF9fWm9uZV9zeW1ib2xfcHJlZml4IGdsb2JhbCBjYW4gYmUgdXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCB6b25lXG4gICAgLy8gc3ltYm9sIHByZWZpeCB3aXRoIGEgY3VzdG9tIG9uZSBpZiBuZWVkZWQuXG4gICAgY29uc3Qgc3ltYm9sUHJlZml4ID0gZ2xvYmFsWydfX1pvbmVfc3ltYm9sX3ByZWZpeCddIHx8ICdfX3pvbmVfc3ltYm9sX18nO1xuICAgIGZ1bmN0aW9uIF9fc3ltYm9sX18obmFtZSkge1xuICAgICAgICByZXR1cm4gc3ltYm9sUHJlZml4ICsgbmFtZTtcbiAgICB9XG4gICAgY29uc3QgY2hlY2tEdXBsaWNhdGUgPSBnbG9iYWxbX19zeW1ib2xfXygnZm9yY2VEdXBsaWNhdGVab25lQ2hlY2snKV0gPT09IHRydWU7XG4gICAgaWYgKGdsb2JhbFsnWm9uZSddKSB7XG4gICAgICAgIC8vIGlmIGdsb2JhbFsnWm9uZSddIGFscmVhZHkgZXhpc3RzIChtYXliZSB6b25lLmpzIHdhcyBhbHJlYWR5IGxvYWRlZCBvclxuICAgICAgICAvLyBzb21lIG90aGVyIGxpYiBhbHNvIHJlZ2lzdGVyZWQgYSBnbG9iYWwgb2JqZWN0IG5hbWVkIFpvbmUpLCB3ZSBtYXkgbmVlZFxuICAgICAgICAvLyB0byB0aHJvdyBhbiBlcnJvciwgYnV0IHNvbWV0aW1lcyB1c2VyIG1heSBub3Qgd2FudCB0aGlzIGVycm9yLlxuICAgICAgICAvLyBGb3IgZXhhbXBsZSxcbiAgICAgICAgLy8gd2UgaGF2ZSB0d28gd2ViIHBhZ2VzLCBwYWdlMSBpbmNsdWRlcyB6b25lLmpzLCBwYWdlMiBkb2Vzbid0LlxuICAgICAgICAvLyBhbmQgdGhlIDFzdCB0aW1lIHVzZXIgbG9hZCBwYWdlMSBhbmQgcGFnZTIsIGV2ZXJ5dGhpbmcgd29yayBmaW5lLFxuICAgICAgICAvLyBidXQgd2hlbiB1c2VyIGxvYWQgcGFnZTIgYWdhaW4sIGVycm9yIG9jY3VycyBiZWNhdXNlIGdsb2JhbFsnWm9uZSddIGFscmVhZHkgZXhpc3RzLlxuICAgICAgICAvLyBzbyB3ZSBhZGQgYSBmbGFnIHRvIGxldCB1c2VyIGNob29zZSB3aGV0aGVyIHRvIHRocm93IHRoaXMgZXJyb3Igb3Igbm90LlxuICAgICAgICAvLyBCeSBkZWZhdWx0LCBpZiBleGlzdGluZyBab25lIGlzIGZyb20gem9uZS5qcywgd2Ugd2lsbCBub3QgdGhyb3cgdGhlIGVycm9yLlxuICAgICAgICBpZiAoY2hlY2tEdXBsaWNhdGUgfHwgdHlwZW9mIGdsb2JhbFsnWm9uZSddLl9fc3ltYm9sX18gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWm9uZSBhbHJlYWR5IGxvYWRlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBnbG9iYWxbJ1pvbmUnXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGFzcyBab25lIHtcbiAgICAgICAgY29uc3RydWN0b3IocGFyZW50LCB6b25lU3BlYykge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgdGhpcy5fbmFtZSA9IHpvbmVTcGVjID8gem9uZVNwZWMubmFtZSB8fCAndW5uYW1lZCcgOiAnPHJvb3Q+JztcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSB6b25lU3BlYyAmJiB6b25lU3BlYy5wcm9wZXJ0aWVzIHx8IHt9O1xuICAgICAgICAgICAgdGhpcy5fem9uZURlbGVnYXRlID1cbiAgICAgICAgICAgICAgICBuZXcgX1pvbmVEZWxlZ2F0ZSh0aGlzLCB0aGlzLl9wYXJlbnQgJiYgdGhpcy5fcGFyZW50Ll96b25lRGVsZWdhdGUsIHpvbmVTcGVjKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgYXNzZXJ0Wm9uZVBhdGNoZWQoKSB7XG4gICAgICAgICAgICBpZiAoZ2xvYmFsWydQcm9taXNlJ10gIT09IHBhdGNoZXNbJ1pvbmVBd2FyZVByb21pc2UnXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWm9uZS5qcyBoYXMgZGV0ZWN0ZWQgdGhhdCBab25lQXdhcmVQcm9taXNlIGAod2luZG93fGdsb2JhbCkuUHJvbWlzZWAgJyArXG4gICAgICAgICAgICAgICAgICAgICdoYXMgYmVlbiBvdmVyd3JpdHRlbi5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ01vc3QgbGlrZWx5IGNhdXNlIGlzIHRoYXQgYSBQcm9taXNlIHBvbHlmaWxsIGhhcyBiZWVuIGxvYWRlZCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FmdGVyIFpvbmUuanMgKFBvbHlmaWxsaW5nIFByb21pc2UgYXBpIGlzIG5vdCBuZWNlc3Nhcnkgd2hlbiB6b25lLmpzIGlzIGxvYWRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdJZiB5b3UgbXVzdCBsb2FkIG9uZSwgZG8gc28gYmVmb3JlIGxvYWRpbmcgem9uZS5qcy4pJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIGdldCByb290KCkge1xuICAgICAgICAgICAgbGV0IHpvbmUgPSBab25lLmN1cnJlbnQ7XG4gICAgICAgICAgICB3aGlsZSAoem9uZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB6b25lID0gem9uZS5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gem9uZTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgZ2V0IGN1cnJlbnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2N1cnJlbnRab25lRnJhbWUuem9uZTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgZ2V0IGN1cnJlbnRUYXNrKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jdXJyZW50VGFzaztcbiAgICAgICAgfVxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cmVxdWlyZS1pbnRlcm5hbC13aXRoLXVuZGVyc2NvcmVcbiAgICAgICAgc3RhdGljIF9fbG9hZF9wYXRjaChuYW1lLCBmbiwgaWdub3JlRHVwbGljYXRlID0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChwYXRjaGVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgLy8gYGNoZWNrRHVwbGljYXRlYCBvcHRpb24gaXMgZGVmaW5lZCBmcm9tIGdsb2JhbCB2YXJpYWJsZVxuICAgICAgICAgICAgICAgIC8vIHNvIGl0IHdvcmtzIGZvciBhbGwgbW9kdWxlcy5cbiAgICAgICAgICAgICAgICAvLyBgaWdub3JlRHVwbGljYXRlYCBjYW4gd29yayBmb3IgdGhlIHNwZWNpZmllZCBtb2R1bGVcbiAgICAgICAgICAgICAgICBpZiAoIWlnbm9yZUR1cGxpY2F0ZSAmJiBjaGVja0R1cGxpY2F0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignQWxyZWFkeSBsb2FkZWQgcGF0Y2g6ICcgKyBuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghZ2xvYmFsWydfX1pvbmVfZGlzYWJsZV8nICsgbmFtZV0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwZXJmTmFtZSA9ICdab25lOicgKyBuYW1lO1xuICAgICAgICAgICAgICAgIG1hcmsocGVyZk5hbWUpO1xuICAgICAgICAgICAgICAgIHBhdGNoZXNbbmFtZV0gPSBmbihnbG9iYWwsIFpvbmUsIF9hcGkpO1xuICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlTWVhc3VyZShwZXJmTmFtZSwgcGVyZk5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIGdldCBuYW1lKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0KGtleSkge1xuICAgICAgICAgICAgY29uc3Qgem9uZSA9IHRoaXMuZ2V0Wm9uZVdpdGgoa2V5KTtcbiAgICAgICAgICAgIGlmICh6b25lKVxuICAgICAgICAgICAgICAgIHJldHVybiB6b25lLl9wcm9wZXJ0aWVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZ2V0Wm9uZVdpdGgoa2V5KSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudCA9IHRoaXM7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Ll9wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Ll9wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmb3JrKHpvbmVTcGVjKSB7XG4gICAgICAgICAgICBpZiAoIXpvbmVTcGVjKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWm9uZVNwZWMgcmVxdWlyZWQhJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmZvcmsodGhpcywgem9uZVNwZWMpO1xuICAgICAgICB9XG4gICAgICAgIHdyYXAoY2FsbGJhY2ssIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0aW5nIGZ1bmN0aW9uIGdvdDogJyArIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IF9jYWxsYmFjayA9IHRoaXMuX3pvbmVEZWxlZ2F0ZS5pbnRlcmNlcHQodGhpcywgY2FsbGJhY2ssIHNvdXJjZSk7XG4gICAgICAgICAgICBjb25zdCB6b25lID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHpvbmUucnVuR3VhcmRlZChfY2FsbGJhY2ssIHRoaXMsIGFyZ3VtZW50cywgc291cmNlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcnVuKGNhbGxiYWNrLCBhcHBseVRoaXMsIGFwcGx5QXJncywgc291cmNlKSB7XG4gICAgICAgICAgICBfY3VycmVudFpvbmVGcmFtZSA9IHsgcGFyZW50OiBfY3VycmVudFpvbmVGcmFtZSwgem9uZTogdGhpcyB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fem9uZURlbGVnYXRlLmludm9rZSh0aGlzLCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBfY3VycmVudFpvbmVGcmFtZSA9IF9jdXJyZW50Wm9uZUZyYW1lLnBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBydW5HdWFyZGVkKGNhbGxiYWNrLCBhcHBseVRoaXMgPSBudWxsLCBhcHBseUFyZ3MsIHNvdXJjZSkge1xuICAgICAgICAgICAgX2N1cnJlbnRab25lRnJhbWUgPSB7IHBhcmVudDogX2N1cnJlbnRab25lRnJhbWUsIHpvbmU6IHRoaXMgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3pvbmVEZWxlZ2F0ZS5pbnZva2UodGhpcywgY2FsbGJhY2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzLCBzb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3pvbmVEZWxlZ2F0ZS5oYW5kbGVFcnJvcih0aGlzLCBlcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgX2N1cnJlbnRab25lRnJhbWUgPSBfY3VycmVudFpvbmVGcmFtZS5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcnVuVGFzayh0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncykge1xuICAgICAgICAgICAgaWYgKHRhc2suem9uZSAhPSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHRhc2sgY2FuIG9ubHkgYmUgcnVuIGluIHRoZSB6b25lIG9mIGNyZWF0aW9uISAoQ3JlYXRpb246ICcgK1xuICAgICAgICAgICAgICAgICAgICAodGFzay56b25lIHx8IE5PX1pPTkUpLm5hbWUgKyAnOyBFeGVjdXRpb246ICcgKyB0aGlzLm5hbWUgKyAnKScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvem9uZS5qcy9pc3N1ZXMvNzc4LCBzb21ldGltZXMgZXZlbnRUYXNrXG4gICAgICAgICAgICAvLyB3aWxsIHJ1biBpbiBub3RTY2hlZHVsZWQoY2FuY2VsZWQpIHN0YXRlLCB3ZSBzaG91bGQgbm90IHRyeSB0b1xuICAgICAgICAgICAgLy8gcnVuIHN1Y2gga2luZCBvZiB0YXNrIGJ1dCBqdXN0IHJldHVyblxuICAgICAgICAgICAgaWYgKHRhc2suc3RhdGUgPT09IG5vdFNjaGVkdWxlZCAmJiAodGFzay50eXBlID09PSBldmVudFRhc2sgfHwgdGFzay50eXBlID09PSBtYWNyb1Rhc2spKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVFbnRyeUd1YXJkID0gdGFzay5zdGF0ZSAhPSBydW5uaW5nO1xuICAgICAgICAgICAgcmVFbnRyeUd1YXJkICYmIHRhc2suX3RyYW5zaXRpb25UbyhydW5uaW5nLCBzY2hlZHVsZWQpO1xuICAgICAgICAgICAgdGFzay5ydW5Db3VudCsrO1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNUYXNrID0gX2N1cnJlbnRUYXNrO1xuICAgICAgICAgICAgX2N1cnJlbnRUYXNrID0gdGFzaztcbiAgICAgICAgICAgIF9jdXJyZW50Wm9uZUZyYW1lID0geyBwYXJlbnQ6IF9jdXJyZW50Wm9uZUZyYW1lLCB6b25lOiB0aGlzIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0YXNrLnR5cGUgPT0gbWFjcm9UYXNrICYmIHRhc2suZGF0YSAmJiAhdGFzay5kYXRhLmlzUGVyaW9kaWMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5jYW5jZWxGbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3pvbmVEZWxlZ2F0ZS5pbnZva2VUYXNrKHRoaXMsIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl96b25lRGVsZWdhdGUuaGFuZGxlRXJyb3IodGhpcywgZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB0YXNrJ3Mgc3RhdGUgaXMgbm90U2NoZWR1bGVkIG9yIHVua25vd24sIHRoZW4gaXQgaGFzIGFscmVhZHkgYmVlbiBjYW5jZWxsZWRcbiAgICAgICAgICAgICAgICAvLyB3ZSBzaG91bGQgbm90IHJlc2V0IHRoZSBzdGF0ZSB0byBzY2hlZHVsZWRcbiAgICAgICAgICAgICAgICBpZiAodGFzay5zdGF0ZSAhPT0gbm90U2NoZWR1bGVkICYmIHRhc2suc3RhdGUgIT09IHVua25vd24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2sudHlwZSA9PSBldmVudFRhc2sgfHwgKHRhc2suZGF0YSAmJiB0YXNrLmRhdGEuaXNQZXJpb2RpYykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlRW50cnlHdWFyZCAmJiB0YXNrLl90cmFuc2l0aW9uVG8oc2NoZWR1bGVkLCBydW5uaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sucnVuQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGFza0NvdW50KHRhc2ssIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlRW50cnlHdWFyZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suX3RyYW5zaXRpb25Ubyhub3RTY2hlZHVsZWQsIHJ1bm5pbmcsIG5vdFNjaGVkdWxlZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2N1cnJlbnRab25lRnJhbWUgPSBfY3VycmVudFpvbmVGcmFtZS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgX2N1cnJlbnRUYXNrID0gcHJldmlvdXNUYXNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlVGFzayh0YXNrKSB7XG4gICAgICAgICAgICBpZiAodGFzay56b25lICYmIHRhc2suem9uZSAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSB0YXNrIHdhcyByZXNjaGVkdWxlZCwgdGhlIG5ld1pvbmVcbiAgICAgICAgICAgICAgICAvLyBzaG91bGQgbm90IGJlIHRoZSBjaGlsZHJlbiBvZiB0aGUgb3JpZ2luYWwgem9uZVxuICAgICAgICAgICAgICAgIGxldCBuZXdab25lID0gdGhpcztcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV3Wm9uZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3Wm9uZSA9PT0gdGFzay56b25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgY2FuIG5vdCByZXNjaGVkdWxlIHRhc2sgdG8gJHt0aGlzLm5hbWV9IHdoaWNoIGlzIGRlc2NlbmRhbnRzIG9mIHRoZSBvcmlnaW5hbCB6b25lICR7dGFzay56b25lLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV3Wm9uZSA9IG5ld1pvbmUucGFyZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhc2suX3RyYW5zaXRpb25UbyhzY2hlZHVsaW5nLCBub3RTY2hlZHVsZWQpO1xuICAgICAgICAgICAgY29uc3Qgem9uZURlbGVnYXRlcyA9IFtdO1xuICAgICAgICAgICAgdGFzay5fem9uZURlbGVnYXRlcyA9IHpvbmVEZWxlZ2F0ZXM7XG4gICAgICAgICAgICB0YXNrLl96b25lID0gdGhpcztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGFzayA9IHRoaXMuX3pvbmVEZWxlZ2F0ZS5zY2hlZHVsZVRhc2sodGhpcywgdGFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIHNldCB0YXNrJ3Mgc3RhdGUgdG8gdW5rbm93biB3aGVuIHNjaGVkdWxlVGFzayB0aHJvdyBlcnJvclxuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2UgdGhlIGVyciBtYXkgZnJvbSByZXNjaGVkdWxlLCBzbyB0aGUgZnJvbVN0YXRlIG1heWJlIG5vdFNjaGVkdWxlZFxuICAgICAgICAgICAgICAgIHRhc2suX3RyYW5zaXRpb25Ubyh1bmtub3duLCBzY2hlZHVsaW5nLCBub3RTY2hlZHVsZWQpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IEBKaWFMaVBhc3Npb24sIHNob3VsZCB3ZSBjaGVjayB0aGUgcmVzdWx0IGZyb20gaGFuZGxlRXJyb3I/XG4gICAgICAgICAgICAgICAgdGhpcy5fem9uZURlbGVnYXRlLmhhbmRsZUVycm9yKHRoaXMsIGVycik7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRhc2suX3pvbmVEZWxlZ2F0ZXMgPT09IHpvbmVEZWxlZ2F0ZXMpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBoYXZlIHRvIGNoZWNrIGJlY2F1c2UgaW50ZXJuYWxseSB0aGUgZGVsZWdhdGUgY2FuIHJlc2NoZWR1bGUgdGhlIHRhc2suXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVGFza0NvdW50KHRhc2ssIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRhc2suc3RhdGUgPT0gc2NoZWR1bGluZykge1xuICAgICAgICAgICAgICAgIHRhc2suX3RyYW5zaXRpb25UbyhzY2hlZHVsZWQsIHNjaGVkdWxpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhc2s7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVNaWNyb1Rhc2soc291cmNlLCBjYWxsYmFjaywgZGF0YSwgY3VzdG9tU2NoZWR1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNjaGVkdWxlVGFzayhuZXcgWm9uZVRhc2sobWljcm9UYXNrLCBzb3VyY2UsIGNhbGxiYWNrLCBkYXRhLCBjdXN0b21TY2hlZHVsZSwgdW5kZWZpbmVkKSk7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVNYWNyb1Rhc2soc291cmNlLCBjYWxsYmFjaywgZGF0YSwgY3VzdG9tU2NoZWR1bGUsIGN1c3RvbUNhbmNlbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NoZWR1bGVUYXNrKG5ldyBab25lVGFzayhtYWNyb1Rhc2ssIHNvdXJjZSwgY2FsbGJhY2ssIGRhdGEsIGN1c3RvbVNjaGVkdWxlLCBjdXN0b21DYW5jZWwpKTtcbiAgICAgICAgfVxuICAgICAgICBzY2hlZHVsZUV2ZW50VGFzayhzb3VyY2UsIGNhbGxiYWNrLCBkYXRhLCBjdXN0b21TY2hlZHVsZSwgY3VzdG9tQ2FuY2VsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2hlZHVsZVRhc2sobmV3IFpvbmVUYXNrKGV2ZW50VGFzaywgc291cmNlLCBjYWxsYmFjaywgZGF0YSwgY3VzdG9tU2NoZWR1bGUsIGN1c3RvbUNhbmNlbCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhbmNlbFRhc2sodGFzaykge1xuICAgICAgICAgICAgaWYgKHRhc2suem9uZSAhPSB0aGlzKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSB0YXNrIGNhbiBvbmx5IGJlIGNhbmNlbGxlZCBpbiB0aGUgem9uZSBvZiBjcmVhdGlvbiEgKENyZWF0aW9uOiAnICtcbiAgICAgICAgICAgICAgICAgICAgKHRhc2suem9uZSB8fCBOT19aT05FKS5uYW1lICsgJzsgRXhlY3V0aW9uOiAnICsgdGhpcy5uYW1lICsgJyknKTtcbiAgICAgICAgICAgIHRhc2suX3RyYW5zaXRpb25UbyhjYW5jZWxpbmcsIHNjaGVkdWxlZCwgcnVubmluZyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3pvbmVEZWxlZ2F0ZS5jYW5jZWxUYXNrKHRoaXMsIHRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIC8vIGlmIGVycm9yIG9jY3VycyB3aGVuIGNhbmNlbFRhc2ssIHRyYW5zaXQgdGhlIHN0YXRlIHRvIHVua25vd25cbiAgICAgICAgICAgICAgICB0YXNrLl90cmFuc2l0aW9uVG8odW5rbm93biwgY2FuY2VsaW5nKTtcbiAgICAgICAgICAgICAgICB0aGlzLl96b25lRGVsZWdhdGUuaGFuZGxlRXJyb3IodGhpcywgZXJyKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVUYXNrQ291bnQodGFzaywgLTEpO1xuICAgICAgICAgICAgdGFzay5fdHJhbnNpdGlvblRvKG5vdFNjaGVkdWxlZCwgY2FuY2VsaW5nKTtcbiAgICAgICAgICAgIHRhc2sucnVuQ291bnQgPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHRhc2s7XG4gICAgICAgIH1cbiAgICAgICAgX3VwZGF0ZVRhc2tDb3VudCh0YXNrLCBjb3VudCkge1xuICAgICAgICAgICAgY29uc3Qgem9uZURlbGVnYXRlcyA9IHRhc2suX3pvbmVEZWxlZ2F0ZXM7XG4gICAgICAgICAgICBpZiAoY291bnQgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0YXNrLl96b25lRGVsZWdhdGVzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgem9uZURlbGVnYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHpvbmVEZWxlZ2F0ZXNbaV0uX3VwZGF0ZVRhc2tDb3VudCh0YXNrLnR5cGUsIGNvdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cmVxdWlyZS1pbnRlcm5hbC13aXRoLXVuZGVyc2NvcmVcbiAgICBab25lLl9fc3ltYm9sX18gPSBfX3N5bWJvbF9fO1xuICAgIGNvbnN0IERFTEVHQVRFX1pTID0ge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgb25IYXNUYXNrOiAoZGVsZWdhdGUsIF8sIHRhcmdldCwgaGFzVGFza1N0YXRlKSA9PiBkZWxlZ2F0ZS5oYXNUYXNrKHRhcmdldCwgaGFzVGFza1N0YXRlKSxcbiAgICAgICAgb25TY2hlZHVsZVRhc2s6IChkZWxlZ2F0ZSwgXywgdGFyZ2V0LCB0YXNrKSA9PiBkZWxlZ2F0ZS5zY2hlZHVsZVRhc2sodGFyZ2V0LCB0YXNrKSxcbiAgICAgICAgb25JbnZva2VUYXNrOiAoZGVsZWdhdGUsIF8sIHRhcmdldCwgdGFzaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MpID0+IGRlbGVnYXRlLmludm9rZVRhc2sodGFyZ2V0LCB0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncyksXG4gICAgICAgIG9uQ2FuY2VsVGFzazogKGRlbGVnYXRlLCBfLCB0YXJnZXQsIHRhc2spID0+IGRlbGVnYXRlLmNhbmNlbFRhc2sodGFyZ2V0LCB0YXNrKVxuICAgIH07XG4gICAgY2xhc3MgX1pvbmVEZWxlZ2F0ZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHpvbmUsIHBhcmVudERlbGVnYXRlLCB6b25lU3BlYykge1xuICAgICAgICAgICAgdGhpcy5fdGFza0NvdW50cyA9IHsgJ21pY3JvVGFzayc6IDAsICdtYWNyb1Rhc2snOiAwLCAnZXZlbnRUYXNrJzogMCB9O1xuICAgICAgICAgICAgdGhpcy56b25lID0gem9uZTtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudERlbGVnYXRlID0gcGFyZW50RGVsZWdhdGU7XG4gICAgICAgICAgICB0aGlzLl9mb3JrWlMgPSB6b25lU3BlYyAmJiAoem9uZVNwZWMgJiYgem9uZVNwZWMub25Gb3JrID8gem9uZVNwZWMgOiBwYXJlbnREZWxlZ2F0ZS5fZm9ya1pTKTtcbiAgICAgICAgICAgIHRoaXMuX2ZvcmtEbGd0ID0gem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uRm9yayA/IHBhcmVudERlbGVnYXRlIDogcGFyZW50RGVsZWdhdGUuX2ZvcmtEbGd0KTtcbiAgICAgICAgICAgIHRoaXMuX2ZvcmtDdXJyWm9uZSA9XG4gICAgICAgICAgICAgICAgem9uZVNwZWMgJiYgKHpvbmVTcGVjLm9uRm9yayA/IHRoaXMuem9uZSA6IHBhcmVudERlbGVnYXRlLl9mb3JrQ3VyclpvbmUpO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJjZXB0WlMgPVxuICAgICAgICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludGVyY2VwdCA/IHpvbmVTcGVjIDogcGFyZW50RGVsZWdhdGUuX2ludGVyY2VwdFpTKTtcbiAgICAgICAgICAgIHRoaXMuX2ludGVyY2VwdERsZ3QgPVxuICAgICAgICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludGVyY2VwdCA/IHBhcmVudERlbGVnYXRlIDogcGFyZW50RGVsZWdhdGUuX2ludGVyY2VwdERsZ3QpO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJjZXB0Q3VyclpvbmUgPVxuICAgICAgICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludGVyY2VwdCA/IHRoaXMuem9uZSA6IHBhcmVudERlbGVnYXRlLl9pbnRlcmNlcHRDdXJyWm9uZSk7XG4gICAgICAgICAgICB0aGlzLl9pbnZva2VaUyA9IHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludm9rZSA/IHpvbmVTcGVjIDogcGFyZW50RGVsZWdhdGUuX2ludm9rZVpTKTtcbiAgICAgICAgICAgIHRoaXMuX2ludm9rZURsZ3QgPVxuICAgICAgICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludm9rZSA/IHBhcmVudERlbGVnYXRlIDogcGFyZW50RGVsZWdhdGUuX2ludm9rZURsZ3QpO1xuICAgICAgICAgICAgdGhpcy5faW52b2tlQ3VyclpvbmUgPVxuICAgICAgICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkludm9rZSA/IHRoaXMuem9uZSA6IHBhcmVudERlbGVnYXRlLl9pbnZva2VDdXJyWm9uZSk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVFcnJvclpTID1cbiAgICAgICAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25IYW5kbGVFcnJvciA/IHpvbmVTcGVjIDogcGFyZW50RGVsZWdhdGUuX2hhbmRsZUVycm9yWlMpO1xuICAgICAgICAgICAgdGhpcy5faGFuZGxlRXJyb3JEbGd0ID1cbiAgICAgICAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25IYW5kbGVFcnJvciA/IHBhcmVudERlbGVnYXRlIDogcGFyZW50RGVsZWdhdGUuX2hhbmRsZUVycm9yRGxndCk7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVFcnJvckN1cnJab25lID1cbiAgICAgICAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25IYW5kbGVFcnJvciA/IHRoaXMuem9uZSA6IHBhcmVudERlbGVnYXRlLl9oYW5kbGVFcnJvckN1cnJab25lKTtcbiAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlVGFza1pTID1cbiAgICAgICAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25TY2hlZHVsZVRhc2sgPyB6b25lU3BlYyA6IHBhcmVudERlbGVnYXRlLl9zY2hlZHVsZVRhc2taUyk7XG4gICAgICAgICAgICB0aGlzLl9zY2hlZHVsZVRhc2tEbGd0ID0gem9uZVNwZWMgJiZcbiAgICAgICAgICAgICAgICAoem9uZVNwZWMub25TY2hlZHVsZVRhc2sgPyBwYXJlbnREZWxlZ2F0ZSA6IHBhcmVudERlbGVnYXRlLl9zY2hlZHVsZVRhc2tEbGd0KTtcbiAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlVGFza0N1cnJab25lID1cbiAgICAgICAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25TY2hlZHVsZVRhc2sgPyB0aGlzLnpvbmUgOiBwYXJlbnREZWxlZ2F0ZS5fc2NoZWR1bGVUYXNrQ3VyclpvbmUpO1xuICAgICAgICAgICAgdGhpcy5faW52b2tlVGFza1pTID1cbiAgICAgICAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25JbnZva2VUYXNrID8gem9uZVNwZWMgOiBwYXJlbnREZWxlZ2F0ZS5faW52b2tlVGFza1pTKTtcbiAgICAgICAgICAgIHRoaXMuX2ludm9rZVRhc2tEbGd0ID1cbiAgICAgICAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25JbnZva2VUYXNrID8gcGFyZW50RGVsZWdhdGUgOiBwYXJlbnREZWxlZ2F0ZS5faW52b2tlVGFza0RsZ3QpO1xuICAgICAgICAgICAgdGhpcy5faW52b2tlVGFza0N1cnJab25lID1cbiAgICAgICAgICAgICAgICB6b25lU3BlYyAmJiAoem9uZVNwZWMub25JbnZva2VUYXNrID8gdGhpcy56b25lIDogcGFyZW50RGVsZWdhdGUuX2ludm9rZVRhc2tDdXJyWm9uZSk7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxUYXNrWlMgPVxuICAgICAgICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkNhbmNlbFRhc2sgPyB6b25lU3BlYyA6IHBhcmVudERlbGVnYXRlLl9jYW5jZWxUYXNrWlMpO1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsVGFza0RsZ3QgPVxuICAgICAgICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkNhbmNlbFRhc2sgPyBwYXJlbnREZWxlZ2F0ZSA6IHBhcmVudERlbGVnYXRlLl9jYW5jZWxUYXNrRGxndCk7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxUYXNrQ3VyclpvbmUgPVxuICAgICAgICAgICAgICAgIHpvbmVTcGVjICYmICh6b25lU3BlYy5vbkNhbmNlbFRhc2sgPyB0aGlzLnpvbmUgOiBwYXJlbnREZWxlZ2F0ZS5fY2FuY2VsVGFza0N1cnJab25lKTtcbiAgICAgICAgICAgIHRoaXMuX2hhc1Rhc2taUyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9oYXNUYXNrRGxndCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9oYXNUYXNrRGxndE93bmVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2hhc1Rhc2tDdXJyWm9uZSA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCB6b25lU3BlY0hhc1Rhc2sgPSB6b25lU3BlYyAmJiB6b25lU3BlYy5vbkhhc1Rhc2s7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRIYXNUYXNrID0gcGFyZW50RGVsZWdhdGUgJiYgcGFyZW50RGVsZWdhdGUuX2hhc1Rhc2taUztcbiAgICAgICAgICAgIGlmICh6b25lU3BlY0hhc1Rhc2sgfHwgcGFyZW50SGFzVGFzaykge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIG5lZWQgdG8gcmVwb3J0IGhhc1Rhc2ssIHRoYW4gdGhpcyBaUyBuZWVkcyB0byBkbyByZWYgY291bnRpbmcgb24gdGFza3MuIEluIHN1Y2hcbiAgICAgICAgICAgICAgICAvLyBhIGNhc2UgYWxsIHRhc2sgcmVsYXRlZCBpbnRlcmNlcHRvcnMgbXVzdCBnbyB0aHJvdWdoIHRoaXMgWkQuIFdlIGNhbid0IHNob3J0IGNpcmN1aXQgaXQuXG4gICAgICAgICAgICAgICAgdGhpcy5faGFzVGFza1pTID0gem9uZVNwZWNIYXNUYXNrID8gem9uZVNwZWMgOiBERUxFR0FURV9aUztcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNUYXNrRGxndCA9IHBhcmVudERlbGVnYXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhc1Rhc2tEbGd0T3duZXIgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhc1Rhc2tDdXJyWm9uZSA9IHpvbmU7XG4gICAgICAgICAgICAgICAgaWYgKCF6b25lU3BlYy5vblNjaGVkdWxlVGFzaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY2hlZHVsZVRhc2taUyA9IERFTEVHQVRFX1pTO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY2hlZHVsZVRhc2tEbGd0ID0gcGFyZW50RGVsZWdhdGU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlVGFza0N1cnJab25lID0gdGhpcy56b25lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXpvbmVTcGVjLm9uSW52b2tlVGFzaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnZva2VUYXNrWlMgPSBERUxFR0FURV9aUztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW52b2tlVGFza0RsZ3QgPSBwYXJlbnREZWxlZ2F0ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW52b2tlVGFza0N1cnJab25lID0gdGhpcy56b25lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXpvbmVTcGVjLm9uQ2FuY2VsVGFzaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYW5jZWxUYXNrWlMgPSBERUxFR0FURV9aUztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsVGFza0RsZ3QgPSBwYXJlbnREZWxlZ2F0ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsVGFza0N1cnJab25lID0gdGhpcy56b25lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3JrKHRhcmdldFpvbmUsIHpvbmVTcGVjKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9ya1pTID8gdGhpcy5fZm9ya1pTLm9uRm9yayh0aGlzLl9mb3JrRGxndCwgdGhpcy56b25lLCB0YXJnZXRab25lLCB6b25lU3BlYykgOlxuICAgICAgICAgICAgICAgIG5ldyBab25lKHRhcmdldFpvbmUsIHpvbmVTcGVjKTtcbiAgICAgICAgfVxuICAgICAgICBpbnRlcmNlcHQodGFyZ2V0Wm9uZSwgY2FsbGJhY2ssIHNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVyY2VwdFpTID9cbiAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcmNlcHRaUy5vbkludGVyY2VwdCh0aGlzLl9pbnRlcmNlcHREbGd0LCB0aGlzLl9pbnRlcmNlcHRDdXJyWm9uZSwgdGFyZ2V0Wm9uZSwgY2FsbGJhY2ssIHNvdXJjZSkgOlxuICAgICAgICAgICAgICAgIGNhbGxiYWNrO1xuICAgICAgICB9XG4gICAgICAgIGludm9rZSh0YXJnZXRab25lLCBjYWxsYmFjaywgYXBwbHlUaGlzLCBhcHBseUFyZ3MsIHNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZVpTID8gdGhpcy5faW52b2tlWlMub25JbnZva2UodGhpcy5faW52b2tlRGxndCwgdGhpcy5faW52b2tlQ3VyclpvbmUsIHRhcmdldFpvbmUsIGNhbGxiYWNrLCBhcHBseVRoaXMsIGFwcGx5QXJncywgc291cmNlKSA6XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkoYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZUVycm9yKHRhcmdldFpvbmUsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlRXJyb3JaUyA/XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlRXJyb3JaUy5vbkhhbmRsZUVycm9yKHRoaXMuX2hhbmRsZUVycm9yRGxndCwgdGhpcy5faGFuZGxlRXJyb3JDdXJyWm9uZSwgdGFyZ2V0Wm9uZSwgZXJyb3IpIDpcbiAgICAgICAgICAgICAgICB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHNjaGVkdWxlVGFzayh0YXJnZXRab25lLCB0YXNrKSB7XG4gICAgICAgICAgICBsZXQgcmV0dXJuVGFzayA9IHRhc2s7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2NoZWR1bGVUYXNrWlMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faGFzVGFza1pTKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblRhc2suX3pvbmVEZWxlZ2F0ZXMucHVzaCh0aGlzLl9oYXNUYXNrRGxndE93bmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY2xhbmctZm9ybWF0IG9mZlxuICAgICAgICAgICAgICAgIHJldHVyblRhc2sgPSB0aGlzLl9zY2hlZHVsZVRhc2taUy5vblNjaGVkdWxlVGFzayh0aGlzLl9zY2hlZHVsZVRhc2tEbGd0LCB0aGlzLl9zY2hlZHVsZVRhc2tDdXJyWm9uZSwgdGFyZ2V0Wm9uZSwgdGFzayk7XG4gICAgICAgICAgICAgICAgLy8gY2xhbmctZm9ybWF0IG9uXG4gICAgICAgICAgICAgICAgaWYgKCFyZXR1cm5UYXNrKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5UYXNrID0gdGFzaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0YXNrLnNjaGVkdWxlRm4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay5zY2hlZHVsZUZuKHRhc2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0YXNrLnR5cGUgPT0gbWljcm9UYXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlTWljcm9UYXNrKHRhc2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYXNrIGlzIG1pc3Npbmcgc2NoZWR1bGVGbi4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVGFzaztcbiAgICAgICAgfVxuICAgICAgICBpbnZva2VUYXNrKHRhcmdldFpvbmUsIHRhc2ssIGFwcGx5VGhpcywgYXBwbHlBcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlVGFza1pTID8gdGhpcy5faW52b2tlVGFza1pTLm9uSW52b2tlVGFzayh0aGlzLl9pbnZva2VUYXNrRGxndCwgdGhpcy5faW52b2tlVGFza0N1cnJab25lLCB0YXJnZXRab25lLCB0YXNrLCBhcHBseVRoaXMsIGFwcGx5QXJncykgOlxuICAgICAgICAgICAgICAgIHRhc2suY2FsbGJhY2suYXBwbHkoYXBwbHlUaGlzLCBhcHBseUFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhbmNlbFRhc2sodGFyZ2V0Wm9uZSwgdGFzaykge1xuICAgICAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbmNlbFRhc2taUykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fY2FuY2VsVGFza1pTLm9uQ2FuY2VsVGFzayh0aGlzLl9jYW5jZWxUYXNrRGxndCwgdGhpcy5fY2FuY2VsVGFza0N1cnJab25lLCB0YXJnZXRab25lLCB0YXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghdGFzay5jYW5jZWxGbikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignVGFzayBpcyBub3QgY2FuY2VsYWJsZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRhc2suY2FuY2VsRm4odGFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaGFzVGFzayh0YXJnZXRab25lLCBpc0VtcHR5KSB7XG4gICAgICAgICAgICAvLyBoYXNUYXNrIHNob3VsZCBub3QgdGhyb3cgZXJyb3Igc28gb3RoZXIgWm9uZURlbGVnYXRlXG4gICAgICAgICAgICAvLyBjYW4gc3RpbGwgdHJpZ2dlciBoYXNUYXNrIGNhbGxiYWNrXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhc1Rhc2taUyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYXNUYXNrWlMub25IYXNUYXNrKHRoaXMuX2hhc1Rhc2tEbGd0LCB0aGlzLl9oYXNUYXNrQ3VyclpvbmUsIHRhcmdldFpvbmUsIGlzRW1wdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IodGFyZ2V0Wm9uZSwgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6cmVxdWlyZS1pbnRlcm5hbC13aXRoLXVuZGVyc2NvcmVcbiAgICAgICAgX3VwZGF0ZVRhc2tDb3VudCh0eXBlLCBjb3VudCkge1xuICAgICAgICAgICAgY29uc3QgY291bnRzID0gdGhpcy5fdGFza0NvdW50cztcbiAgICAgICAgICAgIGNvbnN0IHByZXYgPSBjb3VudHNbdHlwZV07XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gY291bnRzW3R5cGVdID0gcHJldiArIGNvdW50O1xuICAgICAgICAgICAgaWYgKG5leHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb3JlIHRhc2tzIGV4ZWN1dGVkIHRoZW4gd2VyZSBzY2hlZHVsZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJldiA9PSAwIHx8IG5leHQgPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzRW1wdHkgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1pY3JvVGFzazogY291bnRzWydtaWNyb1Rhc2snXSA+IDAsXG4gICAgICAgICAgICAgICAgICAgIG1hY3JvVGFzazogY291bnRzWydtYWNyb1Rhc2snXSA+IDAsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VGFzazogY291bnRzWydldmVudFRhc2snXSA+IDAsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZTogdHlwZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNUYXNrKHRoaXMuem9uZSwgaXNFbXB0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xhc3MgWm9uZVRhc2sge1xuICAgICAgICBjb25zdHJ1Y3Rvcih0eXBlLCBzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zLCBzY2hlZHVsZUZuLCBjYW5jZWxGbikge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnJlcXVpcmUtaW50ZXJuYWwtd2l0aC11bmRlcnNjb3JlXG4gICAgICAgICAgICB0aGlzLl96b25lID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucnVuQ291bnQgPSAwO1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnJlcXVpcmUtaW50ZXJuYWwtd2l0aC11bmRlcnNjb3JlXG4gICAgICAgICAgICB0aGlzLl96b25lRGVsZWdhdGVzID0gbnVsbDtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpyZXF1aXJlLWludGVybmFsLXdpdGgtdW5kZXJzY29yZVxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnbm90U2NoZWR1bGVkJztcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG9wdGlvbnM7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlRm4gPSBzY2hlZHVsZUZuO1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxGbiA9IGNhbmNlbEZuO1xuICAgICAgICAgICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2FsbGJhY2sgaXMgbm90IGRlZmluZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgLy8gVE9ETzogQEppYUxpUGFzc2lvbiBvcHRpb25zIHNob3VsZCBoYXZlIGludGVyZmFjZVxuICAgICAgICAgICAgaWYgKHR5cGUgPT09IGV2ZW50VGFzayAmJiBvcHRpb25zICYmIG9wdGlvbnMudXNlRykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW52b2tlID0gWm9uZVRhc2suaW52b2tlVGFzaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW52b2tlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWm9uZVRhc2suaW52b2tlVGFzay5jYWxsKGdsb2JhbCwgc2VsZiwgdGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyBpbnZva2VUYXNrKHRhc2ssIHRhcmdldCwgYXJncykge1xuICAgICAgICAgICAgaWYgKCF0YXNrKSB7XG4gICAgICAgICAgICAgICAgdGFzayA9IHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfbnVtYmVyT2ZOZXN0ZWRUYXNrRnJhbWVzKys7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRhc2sucnVuQ291bnQrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFzay56b25lLnJ1blRhc2sodGFzaywgdGFyZ2V0LCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmIChfbnVtYmVyT2ZOZXN0ZWRUYXNrRnJhbWVzID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhaW5NaWNyb1Rhc2tRdWV1ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfbnVtYmVyT2ZOZXN0ZWRUYXNrRnJhbWVzLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHpvbmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fem9uZTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgc3RhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgY2FuY2VsU2NoZWR1bGVSZXF1ZXN0KCkge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvblRvKG5vdFNjaGVkdWxlZCwgc2NoZWR1bGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnJlcXVpcmUtaW50ZXJuYWwtd2l0aC11bmRlcnNjb3JlXG4gICAgICAgIF90cmFuc2l0aW9uVG8odG9TdGF0ZSwgZnJvbVN0YXRlMSwgZnJvbVN0YXRlMikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBmcm9tU3RhdGUxIHx8IHRoaXMuX3N0YXRlID09PSBmcm9tU3RhdGUyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSB0b1N0YXRlO1xuICAgICAgICAgICAgICAgIGlmICh0b1N0YXRlID09IG5vdFNjaGVkdWxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl96b25lRGVsZWdhdGVzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy50eXBlfSAnJHt0aGlzLnNvdXJjZX0nOiBjYW4gbm90IHRyYW5zaXRpb24gdG8gJyR7dG9TdGF0ZX0nLCBleHBlY3Rpbmcgc3RhdGUgJyR7ZnJvbVN0YXRlMX0nJHtmcm9tU3RhdGUyID8gJyBvciBcXCcnICsgZnJvbVN0YXRlMiArICdcXCcnIDogJyd9LCB3YXMgJyR7dGhpcy5fc3RhdGV9Jy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEgJiYgdHlwZW9mIHRoaXMuZGF0YS5oYW5kbGVJZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmhhbmRsZUlkLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCB0b0pTT04gbWV0aG9kIHRvIHByZXZlbnQgY3ljbGljIGVycm9yIHdoZW5cbiAgICAgICAgLy8gY2FsbCBKU09OLnN0cmluZ2lmeSh6b25lVGFzaylcbiAgICAgICAgdG9KU09OKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgc291cmNlOiB0aGlzLnNvdXJjZSxcbiAgICAgICAgICAgICAgICB6b25lOiB0aGlzLnpvbmUubmFtZSxcbiAgICAgICAgICAgICAgICBydW5Db3VudDogdGhpcy5ydW5Db3VudFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLy8gIE1JQ1JPVEFTSyBRVUVVRVxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIGNvbnN0IHN5bWJvbFNldFRpbWVvdXQgPSBfX3N5bWJvbF9fKCdzZXRUaW1lb3V0Jyk7XG4gICAgY29uc3Qgc3ltYm9sUHJvbWlzZSA9IF9fc3ltYm9sX18oJ1Byb21pc2UnKTtcbiAgICBjb25zdCBzeW1ib2xUaGVuID0gX19zeW1ib2xfXygndGhlbicpO1xuICAgIGxldCBfbWljcm9UYXNrUXVldWUgPSBbXTtcbiAgICBsZXQgX2lzRHJhaW5pbmdNaWNyb3Rhc2tRdWV1ZSA9IGZhbHNlO1xuICAgIGxldCBuYXRpdmVNaWNyb1Rhc2tRdWV1ZVByb21pc2U7XG4gICAgZnVuY3Rpb24gbmF0aXZlU2NoZWR1bGVNaWNyb1Rhc2soZnVuYykge1xuICAgICAgICBpZiAoIW5hdGl2ZU1pY3JvVGFza1F1ZXVlUHJvbWlzZSkge1xuICAgICAgICAgICAgaWYgKGdsb2JhbFtzeW1ib2xQcm9taXNlXSkge1xuICAgICAgICAgICAgICAgIG5hdGl2ZU1pY3JvVGFza1F1ZXVlUHJvbWlzZSA9IGdsb2JhbFtzeW1ib2xQcm9taXNlXS5yZXNvbHZlKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuYXRpdmVNaWNyb1Rhc2tRdWV1ZVByb21pc2UpIHtcbiAgICAgICAgICAgIGxldCBuYXRpdmVUaGVuID0gbmF0aXZlTWljcm9UYXNrUXVldWVQcm9taXNlW3N5bWJvbFRoZW5dO1xuICAgICAgICAgICAgaWYgKCFuYXRpdmVUaGVuKSB7XG4gICAgICAgICAgICAgICAgLy8gbmF0aXZlIFByb21pc2UgaXMgbm90IHBhdGNoYWJsZSwgd2UgbmVlZCB0byB1c2UgYHRoZW5gIGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgLy8gaXNzdWUgMTA3OFxuICAgICAgICAgICAgICAgIG5hdGl2ZVRoZW4gPSBuYXRpdmVNaWNyb1Rhc2tRdWV1ZVByb21pc2VbJ3RoZW4nXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5hdGl2ZVRoZW4uY2FsbChuYXRpdmVNaWNyb1Rhc2tRdWV1ZVByb21pc2UsIGZ1bmMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsW3N5bWJvbFNldFRpbWVvdXRdKGZ1bmMsIDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlTWljcm9UYXNrKHRhc2spIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBydW5uaW5nIGluIGFueSB0YXNrLCBhbmQgdGhlcmUgaGFzIG5vdCBiZWVuIGFueXRoaW5nIHNjaGVkdWxlZFxuICAgICAgICAvLyB3ZSBtdXN0IGJvb3RzdHJhcCB0aGUgaW5pdGlhbCB0YXNrIGNyZWF0aW9uIGJ5IG1hbnVhbGx5IHNjaGVkdWxpbmcgdGhlIGRyYWluXG4gICAgICAgIGlmIChfbnVtYmVyT2ZOZXN0ZWRUYXNrRnJhbWVzID09PSAwICYmIF9taWNyb1Rhc2tRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIFdlIGFyZSBub3QgcnVubmluZyBpbiBUYXNrLCBzbyB3ZSBuZWVkIHRvIGtpY2tzdGFydCB0aGUgbWljcm90YXNrIHF1ZXVlLlxuICAgICAgICAgICAgbmF0aXZlU2NoZWR1bGVNaWNyb1Rhc2soZHJhaW5NaWNyb1Rhc2tRdWV1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGFzayAmJiBfbWljcm9UYXNrUXVldWUucHVzaCh0YXNrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZHJhaW5NaWNyb1Rhc2tRdWV1ZSgpIHtcbiAgICAgICAgaWYgKCFfaXNEcmFpbmluZ01pY3JvdGFza1F1ZXVlKSB7XG4gICAgICAgICAgICBfaXNEcmFpbmluZ01pY3JvdGFza1F1ZXVlID0gdHJ1ZTtcbiAgICAgICAgICAgIHdoaWxlIChfbWljcm9UYXNrUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcXVldWUgPSBfbWljcm9UYXNrUXVldWU7XG4gICAgICAgICAgICAgICAgX21pY3JvVGFza1F1ZXVlID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gcXVldWVbaV07XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrLnpvbmUucnVuVGFzayh0YXNrLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hcGkub25VbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfYXBpLm1pY3JvdGFza0RyYWluRG9uZSgpO1xuICAgICAgICAgICAgX2lzRHJhaW5pbmdNaWNyb3Rhc2tRdWV1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vLyAgQk9PVFNUUkFQXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgY29uc3QgTk9fWk9ORSA9IHsgbmFtZTogJ05PIFpPTkUnIH07XG4gICAgY29uc3Qgbm90U2NoZWR1bGVkID0gJ25vdFNjaGVkdWxlZCcsIHNjaGVkdWxpbmcgPSAnc2NoZWR1bGluZycsIHNjaGVkdWxlZCA9ICdzY2hlZHVsZWQnLCBydW5uaW5nID0gJ3J1bm5pbmcnLCBjYW5jZWxpbmcgPSAnY2FuY2VsaW5nJywgdW5rbm93biA9ICd1bmtub3duJztcbiAgICBjb25zdCBtaWNyb1Rhc2sgPSAnbWljcm9UYXNrJywgbWFjcm9UYXNrID0gJ21hY3JvVGFzaycsIGV2ZW50VGFzayA9ICdldmVudFRhc2snO1xuICAgIGNvbnN0IHBhdGNoZXMgPSB7fTtcbiAgICBjb25zdCBfYXBpID0ge1xuICAgICAgICBzeW1ib2w6IF9fc3ltYm9sX18sXG4gICAgICAgIGN1cnJlbnRab25lRnJhbWU6ICgpID0+IF9jdXJyZW50Wm9uZUZyYW1lLFxuICAgICAgICBvblVuaGFuZGxlZEVycm9yOiBub29wLFxuICAgICAgICBtaWNyb3Rhc2tEcmFpbkRvbmU6IG5vb3AsXG4gICAgICAgIHNjaGVkdWxlTWljcm9UYXNrOiBzY2hlZHVsZU1pY3JvVGFzayxcbiAgICAgICAgc2hvd1VuY2F1Z2h0RXJyb3I6ICgpID0+ICFab25lW19fc3ltYm9sX18oJ2lnbm9yZUNvbnNvbGVFcnJvclVuY2F1Z2h0RXJyb3InKV0sXG4gICAgICAgIHBhdGNoRXZlbnRUYXJnZXQ6ICgpID0+IFtdLFxuICAgICAgICBwYXRjaE9uUHJvcGVydGllczogbm9vcCxcbiAgICAgICAgcGF0Y2hNZXRob2Q6ICgpID0+IG5vb3AsXG4gICAgICAgIGJpbmRBcmd1bWVudHM6ICgpID0+IFtdLFxuICAgICAgICBwYXRjaFRoZW46ICgpID0+IG5vb3AsXG4gICAgICAgIHBhdGNoTWFjcm9UYXNrOiAoKSA9PiBub29wLFxuICAgICAgICBwYXRjaEV2ZW50UHJvdG90eXBlOiAoKSA9PiBub29wLFxuICAgICAgICBpc0lFT3JFZGdlOiAoKSA9PiBmYWxzZSxcbiAgICAgICAgZ2V0R2xvYmFsT2JqZWN0czogKCkgPT4gdW5kZWZpbmVkLFxuICAgICAgICBPYmplY3REZWZpbmVQcm9wZXJ0eTogKCkgPT4gbm9vcCxcbiAgICAgICAgT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAoKSA9PiB1bmRlZmluZWQsXG4gICAgICAgIE9iamVjdENyZWF0ZTogKCkgPT4gdW5kZWZpbmVkLFxuICAgICAgICBBcnJheVNsaWNlOiAoKSA9PiBbXSxcbiAgICAgICAgcGF0Y2hDbGFzczogKCkgPT4gbm9vcCxcbiAgICAgICAgd3JhcFdpdGhDdXJyZW50Wm9uZTogKCkgPT4gbm9vcCxcbiAgICAgICAgZmlsdGVyUHJvcGVydGllczogKCkgPT4gW10sXG4gICAgICAgIGF0dGFjaE9yaWdpblRvUGF0Y2hlZDogKCkgPT4gbm9vcCxcbiAgICAgICAgX3JlZGVmaW5lUHJvcGVydHk6ICgpID0+IG5vb3AsXG4gICAgICAgIHBhdGNoQ2FsbGJhY2tzOiAoKSA9PiBub29wLFxuICAgICAgICBuYXRpdmVTY2hlZHVsZU1pY3JvVGFzazogbmF0aXZlU2NoZWR1bGVNaWNyb1Rhc2tcbiAgICB9O1xuICAgIGxldCBfY3VycmVudFpvbmVGcmFtZSA9IHsgcGFyZW50OiBudWxsLCB6b25lOiBuZXcgWm9uZShudWxsLCBudWxsKSB9O1xuICAgIGxldCBfY3VycmVudFRhc2sgPSBudWxsO1xuICAgIGxldCBfbnVtYmVyT2ZOZXN0ZWRUYXNrRnJhbWVzID0gMDtcbiAgICBmdW5jdGlvbiBub29wKCkgeyB9XG4gICAgcGVyZm9ybWFuY2VNZWFzdXJlKCdab25lJywgJ1pvbmUnKTtcbiAgICByZXR1cm4gZ2xvYmFsWydab25lJ10gPSBab25lO1xufSkpKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdyB8fCB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiB8fCBnbG9iYWwpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbi8qKlxuICogU3VwcHJlc3MgY2xvc3VyZSBjb21waWxlciBlcnJvcnMgYWJvdXQgdW5rbm93biAnWm9uZScgdmFyaWFibGVcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIEBzdXBwcmVzcyB7dW5kZWZpbmVkVmFycyxnbG9iYWxUaGlzLG1pc3NpbmdSZXF1aXJlfVxuICovXG4vLy8gPHJlZmVyZW5jZSB0eXBlcz1cIm5vZGVcIi8+XG4vLyBpc3N1ZSAjOTg5LCB0byByZWR1Y2UgYnVuZGxlIHNpemUsIHVzZSBzaG9ydCBuYW1lXG4vKiogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciAqL1xuY29uc3QgT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbi8qKiBPYmplY3QuZGVmaW5lUHJvcGVydHkgKi9cbmNvbnN0IE9iamVjdERlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuLyoqIE9iamVjdC5nZXRQcm90b3R5cGVPZiAqL1xuY29uc3QgT2JqZWN0R2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4vKiogT2JqZWN0LmNyZWF0ZSAqL1xuY29uc3QgT2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZTtcbi8qKiBBcnJheS5wcm90b3R5cGUuc2xpY2UgKi9cbmNvbnN0IEFycmF5U2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG4vKiogYWRkRXZlbnRMaXN0ZW5lciBzdHJpbmcgY29uc3QgKi9cbmNvbnN0IEFERF9FVkVOVF9MSVNURU5FUl9TVFIgPSAnYWRkRXZlbnRMaXN0ZW5lcic7XG4vKiogcmVtb3ZlRXZlbnRMaXN0ZW5lciBzdHJpbmcgY29uc3QgKi9cbmNvbnN0IFJFTU9WRV9FVkVOVF9MSVNURU5FUl9TVFIgPSAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG4vKiogem9uZVN5bWJvbCBhZGRFdmVudExpc3RlbmVyICovXG5jb25zdCBaT05FX1NZTUJPTF9BRERfRVZFTlRfTElTVEVORVIgPSBab25lLl9fc3ltYm9sX18oQUREX0VWRU5UX0xJU1RFTkVSX1NUUik7XG4vKiogem9uZVN5bWJvbCByZW1vdmVFdmVudExpc3RlbmVyICovXG5jb25zdCBaT05FX1NZTUJPTF9SRU1PVkVfRVZFTlRfTElTVEVORVIgPSBab25lLl9fc3ltYm9sX18oUkVNT1ZFX0VWRU5UX0xJU1RFTkVSX1NUUik7XG4vKiogdHJ1ZSBzdHJpbmcgY29uc3QgKi9cbmNvbnN0IFRSVUVfU1RSID0gJ3RydWUnO1xuLyoqIGZhbHNlIHN0cmluZyBjb25zdCAqL1xuY29uc3QgRkFMU0VfU1RSID0gJ2ZhbHNlJztcbi8qKiBab25lIHN5bWJvbCBwcmVmaXggc3RyaW5nIGNvbnN0LiAqL1xuY29uc3QgWk9ORV9TWU1CT0xfUFJFRklYID0gWm9uZS5fX3N5bWJvbF9fKCcnKTtcbmZ1bmN0aW9uIHdyYXBXaXRoQ3VycmVudFpvbmUoY2FsbGJhY2ssIHNvdXJjZSkge1xuICAgIHJldHVybiBab25lLmN1cnJlbnQud3JhcChjYWxsYmFjaywgc291cmNlKTtcbn1cbmZ1bmN0aW9uIHNjaGVkdWxlTWFjcm9UYXNrV2l0aEN1cnJlbnRab25lKHNvdXJjZSwgY2FsbGJhY2ssIGRhdGEsIGN1c3RvbVNjaGVkdWxlLCBjdXN0b21DYW5jZWwpIHtcbiAgICByZXR1cm4gWm9uZS5jdXJyZW50LnNjaGVkdWxlTWFjcm9UYXNrKHNvdXJjZSwgY2FsbGJhY2ssIGRhdGEsIGN1c3RvbVNjaGVkdWxlLCBjdXN0b21DYW5jZWwpO1xufVxuY29uc3Qgem9uZVN5bWJvbCA9IFpvbmUuX19zeW1ib2xfXztcbmNvbnN0IGlzV2luZG93RXhpc3RzID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5jb25zdCBpbnRlcm5hbFdpbmRvdyA9IGlzV2luZG93RXhpc3RzID8gd2luZG93IDogdW5kZWZpbmVkO1xuY29uc3QgX2dsb2JhbCA9IGlzV2luZG93RXhpc3RzICYmIGludGVybmFsV2luZG93IHx8IHR5cGVvZiBzZWxmID09PSAnb2JqZWN0JyAmJiBzZWxmIHx8IGdsb2JhbDtcbmNvbnN0IFJFTU9WRV9BVFRSSUJVVEUgPSAncmVtb3ZlQXR0cmlidXRlJztcbmZ1bmN0aW9uIGJpbmRBcmd1bWVudHMoYXJncywgc291cmNlKSB7XG4gICAgZm9yIChsZXQgaSA9IGFyZ3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2ldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBhcmdzW2ldID0gd3JhcFdpdGhDdXJyZW50Wm9uZShhcmdzW2ldLCBzb3VyY2UgKyAnXycgKyBpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJncztcbn1cbmZ1bmN0aW9uIHBhdGNoUHJvdG90eXBlKHByb3RvdHlwZSwgZm5OYW1lcykge1xuICAgIGNvbnN0IHNvdXJjZSA9IHByb3RvdHlwZS5jb25zdHJ1Y3RvclsnbmFtZSddO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm5OYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBuYW1lID0gZm5OYW1lc1tpXTtcbiAgICAgICAgY29uc3QgZGVsZWdhdGUgPSBwcm90b3R5cGVbbmFtZV07XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgICAgY29uc3QgcHJvdG90eXBlRGVzYyA9IE9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90b3R5cGUsIG5hbWUpO1xuICAgICAgICAgICAgaWYgKCFpc1Byb3BlcnR5V3JpdGFibGUocHJvdG90eXBlRGVzYykpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb3RvdHlwZVtuYW1lXSA9ICgoZGVsZWdhdGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRjaGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuYXBwbHkodGhpcywgYmluZEFyZ3VtZW50cyhhcmd1bWVudHMsIHNvdXJjZSArICcuJyArIG5hbWUpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGF0dGFjaE9yaWdpblRvUGF0Y2hlZChwYXRjaGVkLCBkZWxlZ2F0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGNoZWQ7XG4gICAgICAgICAgICB9KShkZWxlZ2F0ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBpc1Byb3BlcnR5V3JpdGFibGUocHJvcGVydHlEZXNjKSB7XG4gICAgaWYgKCFwcm9wZXJ0eURlc2MpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChwcm9wZXJ0eURlc2Mud3JpdGFibGUgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICEodHlwZW9mIHByb3BlcnR5RGVzYy5nZXQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHByb3BlcnR5RGVzYy5zZXQgPT09ICd1bmRlZmluZWQnKTtcbn1cbmNvbnN0IGlzV2ViV29ya2VyID0gKHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlKTtcbi8vIE1ha2Ugc3VyZSB0byBhY2Nlc3MgYHByb2Nlc3NgIHRocm91Z2ggYF9nbG9iYWxgIHNvIHRoYXQgV2ViUGFjayBkb2VzIG5vdCBhY2NpZGVudGFsbHkgYnJvd3NlcmlmeVxuLy8gdGhpcyBjb2RlLlxuY29uc3QgaXNOb2RlID0gKCEoJ253JyBpbiBfZ2xvYmFsKSAmJiB0eXBlb2YgX2dsb2JhbC5wcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHt9LnRvU3RyaW5nLmNhbGwoX2dsb2JhbC5wcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nKTtcbmNvbnN0IGlzQnJvd3NlciA9ICFpc05vZGUgJiYgIWlzV2ViV29ya2VyICYmICEhKGlzV2luZG93RXhpc3RzICYmIGludGVybmFsV2luZG93WydIVE1MRWxlbWVudCddKTtcbi8vIHdlIGFyZSBpbiBlbGVjdHJvbiBvZiBudywgc28gd2UgYXJlIGJvdGggYnJvd3NlciBhbmQgbm9kZWpzXG4vLyBNYWtlIHN1cmUgdG8gYWNjZXNzIGBwcm9jZXNzYCB0aHJvdWdoIGBfZ2xvYmFsYCBzbyB0aGF0IFdlYlBhY2sgZG9lcyBub3QgYWNjaWRlbnRhbGx5IGJyb3dzZXJpZnlcbi8vIHRoaXMgY29kZS5cbmNvbnN0IGlzTWl4ID0gdHlwZW9mIF9nbG9iYWwucHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB7fS50b1N0cmluZy5jYWxsKF9nbG9iYWwucHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJyAmJiAhaXNXZWJXb3JrZXIgJiZcbiAgICAhIShpc1dpbmRvd0V4aXN0cyAmJiBpbnRlcm5hbFdpbmRvd1snSFRNTEVsZW1lbnQnXSk7XG5jb25zdCB6b25lU3ltYm9sRXZlbnROYW1lcyQxID0ge307XG5jb25zdCB3cmFwRm4gPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci96b25lLmpzL2lzc3Vlcy85MTEsIGluIElFLCBzb21ldGltZXNcbiAgICAvLyBldmVudCB3aWxsIGJlIHVuZGVmaW5lZCwgc28gd2UgbmVlZCB0byB1c2Ugd2luZG93LmV2ZW50XG4gICAgZXZlbnQgPSBldmVudCB8fCBfZ2xvYmFsLmV2ZW50O1xuICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZXZlbnROYW1lU3ltYm9sID0gem9uZVN5bWJvbEV2ZW50TmFtZXMkMVtldmVudC50eXBlXTtcbiAgICBpZiAoIWV2ZW50TmFtZVN5bWJvbCkge1xuICAgICAgICBldmVudE5hbWVTeW1ib2wgPSB6b25lU3ltYm9sRXZlbnROYW1lcyQxW2V2ZW50LnR5cGVdID0gem9uZVN5bWJvbCgnT05fUFJPUEVSVFknICsgZXZlbnQudHlwZSk7XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldCA9IHRoaXMgfHwgZXZlbnQudGFyZ2V0IHx8IF9nbG9iYWw7XG4gICAgY29uc3QgbGlzdGVuZXIgPSB0YXJnZXRbZXZlbnROYW1lU3ltYm9sXTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmIChpc0Jyb3dzZXIgJiYgdGFyZ2V0ID09PSBpbnRlcm5hbFdpbmRvdyAmJiBldmVudC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgIC8vIHdpbmRvdy5vbmVycm9yIGhhdmUgZGlmZmVyZW50IHNpZ25hdHVyZVxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvR2xvYmFsRXZlbnRIYW5kbGVycy9vbmVycm9yI3dpbmRvdy5vbmVycm9yXG4gICAgICAgIC8vIGFuZCBvbmVycm9yIGNhbGxiYWNrIHdpbGwgcHJldmVudCBkZWZhdWx0IHdoZW4gY2FsbGJhY2sgcmV0dXJuIHRydWVcbiAgICAgICAgY29uc3QgZXJyb3JFdmVudCA9IGV2ZW50O1xuICAgICAgICByZXN1bHQgPSBsaXN0ZW5lciAmJlxuICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBlcnJvckV2ZW50Lm1lc3NhZ2UsIGVycm9yRXZlbnQuZmlsZW5hbWUsIGVycm9yRXZlbnQubGluZW5vLCBlcnJvckV2ZW50LmNvbG5vLCBlcnJvckV2ZW50LmVycm9yKTtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gbGlzdGVuZXIgJiYgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKHJlc3VsdCAhPSB1bmRlZmluZWQgJiYgIXJlc3VsdCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbmZ1bmN0aW9uIHBhdGNoUHJvcGVydHkob2JqLCBwcm9wLCBwcm90b3R5cGUpIHtcbiAgICBsZXQgZGVzYyA9IE9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3ApO1xuICAgIGlmICghZGVzYyAmJiBwcm90b3R5cGUpIHtcbiAgICAgICAgLy8gd2hlbiBwYXRjaCB3aW5kb3cgb2JqZWN0LCB1c2UgcHJvdG90eXBlIHRvIGNoZWNrIHByb3AgZXhpc3Qgb3Igbm90XG4gICAgICAgIGNvbnN0IHByb3RvdHlwZURlc2MgPSBPYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG90eXBlLCBwcm9wKTtcbiAgICAgICAgaWYgKHByb3RvdHlwZURlc2MpIHtcbiAgICAgICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGlmIHRoZSBkZXNjcmlwdG9yIG5vdCBleGlzdHMgb3IgaXMgbm90IGNvbmZpZ3VyYWJsZVxuICAgIC8vIGp1c3QgcmV0dXJuXG4gICAgaWYgKCFkZXNjIHx8ICFkZXNjLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG9uUHJvcFBhdGNoZWRTeW1ib2wgPSB6b25lU3ltYm9sKCdvbicgKyBwcm9wICsgJ3BhdGNoZWQnKTtcbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KG9uUHJvcFBhdGNoZWRTeW1ib2wpICYmIG9ialtvblByb3BQYXRjaGVkU3ltYm9sXSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEEgcHJvcGVydHkgZGVzY3JpcHRvciBjYW5ub3QgaGF2ZSBnZXR0ZXIvc2V0dGVyIGFuZCBiZSB3cml0YWJsZVxuICAgIC8vIGRlbGV0aW5nIHRoZSB3cml0YWJsZSBhbmQgdmFsdWUgcHJvcGVydGllcyBhdm9pZHMgdGhpcyBlcnJvcjpcbiAgICAvL1xuICAgIC8vIFR5cGVFcnJvcjogcHJvcGVydHkgZGVzY3JpcHRvcnMgbXVzdCBub3Qgc3BlY2lmeSBhIHZhbHVlIG9yIGJlIHdyaXRhYmxlIHdoZW4gYVxuICAgIC8vIGdldHRlciBvciBzZXR0ZXIgaGFzIGJlZW4gc3BlY2lmaWVkXG4gICAgZGVsZXRlIGRlc2Mud3JpdGFibGU7XG4gICAgZGVsZXRlIGRlc2MudmFsdWU7XG4gICAgY29uc3Qgb3JpZ2luYWxEZXNjR2V0ID0gZGVzYy5nZXQ7XG4gICAgY29uc3Qgb3JpZ2luYWxEZXNjU2V0ID0gZGVzYy5zZXQ7XG4gICAgLy8gc2xpY2UoMikgY3V6ICdvbmNsaWNrJyAtPiAnY2xpY2snLCBldGNcbiAgICBjb25zdCBldmVudE5hbWUgPSBwcm9wLnNsaWNlKDIpO1xuICAgIGxldCBldmVudE5hbWVTeW1ib2wgPSB6b25lU3ltYm9sRXZlbnROYW1lcyQxW2V2ZW50TmFtZV07XG4gICAgaWYgKCFldmVudE5hbWVTeW1ib2wpIHtcbiAgICAgICAgZXZlbnROYW1lU3ltYm9sID0gem9uZVN5bWJvbEV2ZW50TmFtZXMkMVtldmVudE5hbWVdID0gem9uZVN5bWJvbCgnT05fUFJPUEVSVFknICsgZXZlbnROYW1lKTtcbiAgICB9XG4gICAgZGVzYy5zZXQgPSBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgLy8gaW4gc29tZSBvZiB3aW5kb3dzJ3Mgb25wcm9wZXJ0eSBjYWxsYmFjaywgdGhpcyBpcyB1bmRlZmluZWRcbiAgICAgICAgLy8gc28gd2UgbmVlZCB0byBjaGVjayBpdFxuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcztcbiAgICAgICAgaWYgKCF0YXJnZXQgJiYgb2JqID09PSBfZ2xvYmFsKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSBfZ2xvYmFsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IHRhcmdldFtldmVudE5hbWVTeW1ib2xdO1xuICAgICAgICBpZiAodHlwZW9mIHByZXZpb3VzVmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgd3JhcEZuKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpc3N1ZSAjOTc4LCB3aGVuIG9ubG9hZCBoYW5kbGVyIHdhcyBhZGRlZCBiZWZvcmUgbG9hZGluZyB6b25lLmpzXG4gICAgICAgIC8vIHdlIHNob3VsZCByZW1vdmUgaXQgd2l0aCBvcmlnaW5hbERlc2NTZXRcbiAgICAgICAgb3JpZ2luYWxEZXNjU2V0ICYmIG9yaWdpbmFsRGVzY1NldC5jYWxsKHRhcmdldCwgbnVsbCk7XG4gICAgICAgIHRhcmdldFtldmVudE5hbWVTeW1ib2xdID0gbmV3VmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgbmV3VmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgd3JhcEZuLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFRoZSBnZXR0ZXIgd291bGQgcmV0dXJuIHVuZGVmaW5lZCBmb3IgdW5hc3NpZ25lZCBwcm9wZXJ0aWVzIGJ1dCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBhblxuICAgIC8vIHVuYXNzaWduZWQgcHJvcGVydHkgaXMgbnVsbFxuICAgIGRlc2MuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpbiBzb21lIG9mIHdpbmRvd3MncyBvbnByb3BlcnR5IGNhbGxiYWNrLCB0aGlzIGlzIHVuZGVmaW5lZFxuICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIGNoZWNrIGl0XG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzO1xuICAgICAgICBpZiAoIXRhcmdldCAmJiBvYmogPT09IF9nbG9iYWwpIHtcbiAgICAgICAgICAgIHRhcmdldCA9IF9nbG9iYWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gdGFyZ2V0W2V2ZW50TmFtZVN5bWJvbF07XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9yaWdpbmFsRGVzY0dldCkge1xuICAgICAgICAgICAgLy8gcmVzdWx0IHdpbGwgYmUgbnVsbCB3aGVuIHVzZSBpbmxpbmUgZXZlbnQgYXR0cmlidXRlLFxuICAgICAgICAgICAgLy8gc3VjaCBhcyA8YnV0dG9uIG9uY2xpY2s9XCJmdW5jKCk7XCI+T0s8L2J1dHRvbj5cbiAgICAgICAgICAgIC8vIGJlY2F1c2UgdGhlIG9uY2xpY2sgZnVuY3Rpb24gaXMgaW50ZXJuYWwgcmF3IHVuY29tcGlsZWQgaGFuZGxlclxuICAgICAgICAgICAgLy8gdGhlIG9uY2xpY2sgd2lsbCBiZSBldmFsdWF0ZWQgd2hlbiBmaXJzdCB0aW1lIGV2ZW50IHdhcyB0cmlnZ2VyZWQgb3JcbiAgICAgICAgICAgIC8vIHRoZSBwcm9wZXJ0eSBpcyBhY2Nlc3NlZCwgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvem9uZS5qcy9pc3N1ZXMvNTI1XG4gICAgICAgICAgICAvLyBzbyB3ZSBzaG91bGQgdXNlIG9yaWdpbmFsIG5hdGl2ZSBnZXQgdG8gcmV0cmlldmUgdGhlIGhhbmRsZXJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IG9yaWdpbmFsRGVzY0dldC5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZGVzYy5zZXQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRbUkVNT1ZFX0FUVFJJQlVURV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0RGVmaW5lUHJvcGVydHkob2JqLCBwcm9wLCBkZXNjKTtcbiAgICBvYmpbb25Qcm9wUGF0Y2hlZFN5bWJvbF0gPSB0cnVlO1xufVxuZnVuY3Rpb24gcGF0Y2hPblByb3BlcnRpZXMob2JqLCBwcm9wZXJ0aWVzLCBwcm90b3R5cGUpIHtcbiAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhdGNoUHJvcGVydHkob2JqLCAnb24nICsgcHJvcGVydGllc1tpXSwgcHJvdG90eXBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgb25Qcm9wZXJ0aWVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChwcm9wLnNsaWNlKDAsIDIpID09ICdvbicpIHtcbiAgICAgICAgICAgICAgICBvblByb3BlcnRpZXMucHVzaChwcm9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG9uUHJvcGVydGllcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgcGF0Y2hQcm9wZXJ0eShvYmosIG9uUHJvcGVydGllc1tqXSwgcHJvdG90eXBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IG9yaWdpbmFsSW5zdGFuY2VLZXkgPSB6b25lU3ltYm9sKCdvcmlnaW5hbEluc3RhbmNlJyk7XG4vLyB3cmFwIHNvbWUgbmF0aXZlIEFQSSBvbiBgd2luZG93YFxuZnVuY3Rpb24gcGF0Y2hDbGFzcyhjbGFzc05hbWUpIHtcbiAgICBjb25zdCBPcmlnaW5hbENsYXNzID0gX2dsb2JhbFtjbGFzc05hbWVdO1xuICAgIGlmICghT3JpZ2luYWxDbGFzcylcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIGtlZXAgb3JpZ2luYWwgY2xhc3MgaW4gZ2xvYmFsXG4gICAgX2dsb2JhbFt6b25lU3ltYm9sKGNsYXNzTmFtZSldID0gT3JpZ2luYWxDbGFzcztcbiAgICBfZ2xvYmFsW2NsYXNzTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGEgPSBiaW5kQXJndW1lbnRzKGFyZ3VtZW50cywgY2xhc3NOYW1lKTtcbiAgICAgICAgc3dpdGNoIChhLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXNbb3JpZ2luYWxJbnN0YW5jZUtleV0gPSBuZXcgT3JpZ2luYWxDbGFzcygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRoaXNbb3JpZ2luYWxJbnN0YW5jZUtleV0gPSBuZXcgT3JpZ2luYWxDbGFzcyhhWzBdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzW29yaWdpbmFsSW5zdGFuY2VLZXldID0gbmV3IE9yaWdpbmFsQ2xhc3MoYVswXSwgYVsxXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpc1tvcmlnaW5hbEluc3RhbmNlS2V5XSA9IG5ldyBPcmlnaW5hbENsYXNzKGFbMF0sIGFbMV0sIGFbMl0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHRoaXNbb3JpZ2luYWxJbnN0YW5jZUtleV0gPSBuZXcgT3JpZ2luYWxDbGFzcyhhWzBdLCBhWzFdLCBhWzJdLCBhWzNdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcmcgbGlzdCB0b28gbG9uZy4nKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gYXR0YWNoIG9yaWdpbmFsIGRlbGVnYXRlIHRvIHBhdGNoZWQgZnVuY3Rpb25cbiAgICBhdHRhY2hPcmlnaW5Ub1BhdGNoZWQoX2dsb2JhbFtjbGFzc05hbWVdLCBPcmlnaW5hbENsYXNzKTtcbiAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBPcmlnaW5hbENsYXNzKGZ1bmN0aW9uICgpIHsgfSk7XG4gICAgbGV0IHByb3A7XG4gICAgZm9yIChwcm9wIGluIGluc3RhbmNlKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD00NDcyMVxuICAgICAgICBpZiAoY2xhc3NOYW1lID09PSAnWE1MSHR0cFJlcXVlc3QnICYmIHByb3AgPT09ICdyZXNwb25zZUJsb2InKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZVtwcm9wXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIF9nbG9iYWxbY2xhc3NOYW1lXS5wcm90b3R5cGVbcHJvcF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW29yaWdpbmFsSW5zdGFuY2VLZXldW3Byb3BdLmFwcGx5KHRoaXNbb3JpZ2luYWxJbnN0YW5jZUtleV0sIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIE9iamVjdERlZmluZVByb3BlcnR5KF9nbG9iYWxbY2xhc3NOYW1lXS5wcm90b3R5cGUsIHByb3AsIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzW29yaWdpbmFsSW5zdGFuY2VLZXldW3Byb3BdID0gd3JhcFdpdGhDdXJyZW50Wm9uZShmbiwgY2xhc3NOYW1lICsgJy4nICsgcHJvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8ga2VlcCBjYWxsYmFjayBpbiB3cmFwcGVkIGZ1bmN0aW9uIHNvIHdlIGNhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZSBpdCBpbiBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgdG8gcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIG5hdGl2ZSBvbmUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoT3JpZ2luVG9QYXRjaGVkKHRoaXNbb3JpZ2luYWxJbnN0YW5jZUtleV1bcHJvcF0sIGZuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbb3JpZ2luYWxJbnN0YW5jZUtleV1bcHJvcF0gPSBmbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1tvcmlnaW5hbEluc3RhbmNlS2V5XVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KHByb3ApKTtcbiAgICB9XG4gICAgZm9yIChwcm9wIGluIE9yaWdpbmFsQ2xhc3MpIHtcbiAgICAgICAgaWYgKHByb3AgIT09ICdwcm90b3R5cGUnICYmIE9yaWdpbmFsQ2xhc3MuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgIF9nbG9iYWxbY2xhc3NOYW1lXVtwcm9wXSA9IE9yaWdpbmFsQ2xhc3NbcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBwYXRjaE1ldGhvZCh0YXJnZXQsIG5hbWUsIHBhdGNoRm4pIHtcbiAgICBsZXQgcHJvdG8gPSB0YXJnZXQ7XG4gICAgd2hpbGUgKHByb3RvICYmICFwcm90by5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBwcm90byA9IE9iamVjdEdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgICB9XG4gICAgaWYgKCFwcm90byAmJiB0YXJnZXRbbmFtZV0pIHtcbiAgICAgICAgLy8gc29tZWhvdyB3ZSBkaWQgbm90IGZpbmQgaXQsIGJ1dCB3ZSBjYW4gc2VlIGl0LiBUaGlzIGhhcHBlbnMgb24gSUUgZm9yIFdpbmRvdyBwcm9wZXJ0aWVzLlxuICAgICAgICBwcm90byA9IHRhcmdldDtcbiAgICB9XG4gICAgY29uc3QgZGVsZWdhdGVOYW1lID0gem9uZVN5bWJvbChuYW1lKTtcbiAgICBsZXQgZGVsZWdhdGUgPSBudWxsO1xuICAgIGlmIChwcm90byAmJiAoIShkZWxlZ2F0ZSA9IHByb3RvW2RlbGVnYXRlTmFtZV0pIHx8ICFwcm90by5oYXNPd25Qcm9wZXJ0eShkZWxlZ2F0ZU5hbWUpKSkge1xuICAgICAgICBkZWxlZ2F0ZSA9IHByb3RvW2RlbGVnYXRlTmFtZV0gPSBwcm90b1tuYW1lXTtcbiAgICAgICAgLy8gY2hlY2sgd2hldGhlciBwcm90b1tuYW1lXSBpcyB3cml0YWJsZVxuICAgICAgICAvLyBzb21lIHByb3BlcnR5IGlzIHJlYWRvbmx5IGluIHNhZmFyaSwgc3VjaCBhcyBIdG1sQ2FudmFzRWxlbWVudC5wcm90b3R5cGUudG9CbG9iXG4gICAgICAgIGNvbnN0IGRlc2MgPSBwcm90byAmJiBPYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG8sIG5hbWUpO1xuICAgICAgICBpZiAoaXNQcm9wZXJ0eVdyaXRhYmxlKGRlc2MpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXRjaERlbGVnYXRlID0gcGF0Y2hGbihkZWxlZ2F0ZSwgZGVsZWdhdGVOYW1lLCBuYW1lKTtcbiAgICAgICAgICAgIHByb3RvW25hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRjaERlbGVnYXRlKHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXR0YWNoT3JpZ2luVG9QYXRjaGVkKHByb3RvW25hbWVdLCBkZWxlZ2F0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlbGVnYXRlO1xufVxuLy8gVE9ETzogQEppYUxpUGFzc2lvbiwgc3VwcG9ydCBjYW5jZWwgdGFzayBsYXRlciBpZiBuZWNlc3NhcnlcbmZ1bmN0aW9uIHBhdGNoTWFjcm9UYXNrKG9iaiwgZnVuY05hbWUsIG1ldGFDcmVhdG9yKSB7XG4gICAgbGV0IHNldE5hdGl2ZSA9IG51bGw7XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVUYXNrKHRhc2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRhc2suZGF0YTtcbiAgICAgICAgZGF0YS5hcmdzW2RhdGEuY2JJZHhdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGFzay5pbnZva2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2V0TmF0aXZlLmFwcGx5KGRhdGEudGFyZ2V0LCBkYXRhLmFyZ3MpO1xuICAgICAgICByZXR1cm4gdGFzaztcbiAgICB9XG4gICAgc2V0TmF0aXZlID0gcGF0Y2hNZXRob2Qob2JqLCBmdW5jTmFtZSwgKGRlbGVnYXRlKSA9PiBmdW5jdGlvbiAoc2VsZiwgYXJncykge1xuICAgICAgICBjb25zdCBtZXRhID0gbWV0YUNyZWF0b3Ioc2VsZiwgYXJncyk7XG4gICAgICAgIGlmIChtZXRhLmNiSWR4ID49IDAgJiYgdHlwZW9mIGFyZ3NbbWV0YS5jYklkeF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU1hY3JvVGFza1dpdGhDdXJyZW50Wm9uZShtZXRhLm5hbWUsIGFyZ3NbbWV0YS5jYklkeF0sIG1ldGEsIHNjaGVkdWxlVGFzayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBjYXVzZSBhbiBlcnJvciBieSBjYWxsaW5nIGl0IGRpcmVjdGx5LlxuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiBhdHRhY2hPcmlnaW5Ub1BhdGNoZWQocGF0Y2hlZCwgb3JpZ2luYWwpIHtcbiAgICBwYXRjaGVkW3pvbmVTeW1ib2woJ09yaWdpbmFsRGVsZWdhdGUnKV0gPSBvcmlnaW5hbDtcbn1cbmxldCBpc0RldGVjdGVkSUVPckVkZ2UgPSBmYWxzZTtcbmxldCBpZU9yRWRnZSA9IGZhbHNlO1xuZnVuY3Rpb24gaXNJRSgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1YSA9IGludGVybmFsV2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgICAgIGlmICh1YS5pbmRleE9mKCdNU0lFICcpICE9PSAtMSB8fCB1YS5pbmRleE9mKCdUcmlkZW50LycpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzSUVPckVkZ2UoKSB7XG4gICAgaWYgKGlzRGV0ZWN0ZWRJRU9yRWRnZSkge1xuICAgICAgICByZXR1cm4gaWVPckVkZ2U7XG4gICAgfVxuICAgIGlzRGV0ZWN0ZWRJRU9yRWRnZSA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdWEgPSBpbnRlcm5hbFdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xuICAgICAgICBpZiAodWEuaW5kZXhPZignTVNJRSAnKSAhPT0gLTEgfHwgdWEuaW5kZXhPZignVHJpZGVudC8nKSAhPT0gLTEgfHwgdWEuaW5kZXhPZignRWRnZS8nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGllT3JFZGdlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICB9XG4gICAgcmV0dXJuIGllT3JFZGdlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblpvbmUuX19sb2FkX3BhdGNoKCdab25lQXdhcmVQcm9taXNlJywgKGdsb2JhbCwgWm9uZSwgYXBpKSA9PiB7XG4gICAgY29uc3QgT2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgICBjb25zdCBPYmplY3REZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbiAgICBmdW5jdGlvbiByZWFkYWJsZU9iamVjdFRvU3RyaW5nKG9iaikge1xuICAgICAgICBpZiAob2JqICYmIG9iai50b1N0cmluZyA9PT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZykge1xuICAgICAgICAgICAgY29uc3QgY2xhc3NOYW1lID0gb2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgcmV0dXJuIChjbGFzc05hbWUgPyBjbGFzc05hbWUgOiAnJykgKyAnOiAnICsgSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqID8gb2JqLnRvU3RyaW5nKCkgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKTtcbiAgICB9XG4gICAgY29uc3QgX19zeW1ib2xfXyA9IGFwaS5zeW1ib2w7XG4gICAgY29uc3QgX3VuY2F1Z2h0UHJvbWlzZUVycm9ycyA9IFtdO1xuICAgIGNvbnN0IGlzRGlzYWJsZVdyYXBwaW5nVW5jYXVnaHRQcm9taXNlUmVqZWN0aW9uID0gZ2xvYmFsW19fc3ltYm9sX18oJ0RJU0FCTEVfV1JBUFBJTkdfVU5DQVVHSFRfUFJPTUlTRV9SRUpFQ1RJT04nKV0gPT09IHRydWU7XG4gICAgY29uc3Qgc3ltYm9sUHJvbWlzZSA9IF9fc3ltYm9sX18oJ1Byb21pc2UnKTtcbiAgICBjb25zdCBzeW1ib2xUaGVuID0gX19zeW1ib2xfXygndGhlbicpO1xuICAgIGNvbnN0IGNyZWF0aW9uVHJhY2UgPSAnX19jcmVhdGlvblRyYWNlX18nO1xuICAgIGFwaS5vblVuaGFuZGxlZEVycm9yID0gKGUpID0+IHtcbiAgICAgICAgaWYgKGFwaS5zaG93VW5jYXVnaHRFcnJvcigpKSB7XG4gICAgICAgICAgICBjb25zdCByZWplY3Rpb24gPSBlICYmIGUucmVqZWN0aW9uO1xuICAgICAgICAgICAgaWYgKHJlamVjdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBQcm9taXNlIHJlamVjdGlvbjonLCByZWplY3Rpb24gaW5zdGFuY2VvZiBFcnJvciA/IHJlamVjdGlvbi5tZXNzYWdlIDogcmVqZWN0aW9uLCAnOyBab25lOicsIGUuem9uZS5uYW1lLCAnOyBUYXNrOicsIGUudGFzayAmJiBlLnRhc2suc291cmNlLCAnOyBWYWx1ZTonLCByZWplY3Rpb24sIHJlamVjdGlvbiBpbnN0YW5jZW9mIEVycm9yID8gcmVqZWN0aW9uLnN0YWNrIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGFwaS5taWNyb3Rhc2tEcmFpbkRvbmUgPSAoKSA9PiB7XG4gICAgICAgIHdoaWxlIChfdW5jYXVnaHRQcm9taXNlRXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdW5jYXVnaHRQcm9taXNlRXJyb3IgPSBfdW5jYXVnaHRQcm9taXNlRXJyb3JzLnNoaWZ0KCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHVuY2F1Z2h0UHJvbWlzZUVycm9yLnpvbmUucnVuR3VhcmRlZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1bmNhdWdodFByb21pc2VFcnJvci50aHJvd09yaWdpbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyB1bmNhdWdodFByb21pc2VFcnJvci5yZWplY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgdW5jYXVnaHRQcm9taXNlRXJyb3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRSZWplY3Rpb24oZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBVTkhBTkRMRURfUFJPTUlTRV9SRUpFQ1RJT05fSEFORExFUl9TWU1CT0wgPSBfX3N5bWJvbF9fKCd1bmhhbmRsZWRQcm9taXNlUmVqZWN0aW9uSGFuZGxlcicpO1xuICAgIGZ1bmN0aW9uIGhhbmRsZVVuaGFuZGxlZFJlamVjdGlvbihlKSB7XG4gICAgICAgIGFwaS5vblVuaGFuZGxlZEVycm9yKGUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IFpvbmVbVU5IQU5ETEVEX1BST01JU0VfUkVKRUNUSU9OX0hBTkRMRVJfU1lNQk9MXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaXNUaGVuYWJsZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUudGhlbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZm9yd2FyZFJlc29sdXRpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmb3J3YXJkUmVqZWN0aW9uKHJlamVjdGlvbikge1xuICAgICAgICByZXR1cm4gWm9uZUF3YXJlUHJvbWlzZS5yZWplY3QocmVqZWN0aW9uKTtcbiAgICB9XG4gICAgY29uc3Qgc3ltYm9sU3RhdGUgPSBfX3N5bWJvbF9fKCdzdGF0ZScpO1xuICAgIGNvbnN0IHN5bWJvbFZhbHVlID0gX19zeW1ib2xfXygndmFsdWUnKTtcbiAgICBjb25zdCBzeW1ib2xGaW5hbGx5ID0gX19zeW1ib2xfXygnZmluYWxseScpO1xuICAgIGNvbnN0IHN5bWJvbFBhcmVudFByb21pc2VWYWx1ZSA9IF9fc3ltYm9sX18oJ3BhcmVudFByb21pc2VWYWx1ZScpO1xuICAgIGNvbnN0IHN5bWJvbFBhcmVudFByb21pc2VTdGF0ZSA9IF9fc3ltYm9sX18oJ3BhcmVudFByb21pc2VTdGF0ZScpO1xuICAgIGNvbnN0IHNvdXJjZSA9ICdQcm9taXNlLnRoZW4nO1xuICAgIGNvbnN0IFVOUkVTT0xWRUQgPSBudWxsO1xuICAgIGNvbnN0IFJFU09MVkVEID0gdHJ1ZTtcbiAgICBjb25zdCBSRUpFQ1RFRCA9IGZhbHNlO1xuICAgIGNvbnN0IFJFSkVDVEVEX05PX0NBVENIID0gMDtcbiAgICBmdW5jdGlvbiBtYWtlUmVzb2x2ZXIocHJvbWlzZSwgc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuICh2KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKHByb21pc2UsIHN0YXRlLCB2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlLCBmYWxzZSwgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERvIG5vdCByZXR1cm4gdmFsdWUgb3IgeW91IHdpbGwgYnJlYWsgdGhlIFByb21pc2Ugc3BlYy5cbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgb25jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IHdhc0NhbGxlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gd3JhcHBlcih3cmFwcGVkRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdhc0NhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdhc0NhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgd3JhcHBlZEZ1bmN0aW9uLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgVFlQRV9FUlJPUiA9ICdQcm9taXNlIHJlc29sdmVkIHdpdGggaXRzZWxmJztcbiAgICBjb25zdCBDVVJSRU5UX1RBU0tfVFJBQ0VfU1lNQk9MID0gX19zeW1ib2xfXygnY3VycmVudFRhc2tUcmFjZScpO1xuICAgIC8vIFByb21pc2UgUmVzb2x1dGlvblxuICAgIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHByb21pc2UsIHN0YXRlLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBvbmNlV3JhcHBlciA9IG9uY2UoKTtcbiAgICAgICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFRZUEVfRVJST1IpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9taXNlW3N5bWJvbFN0YXRlXSA9PT0gVU5SRVNPTFZFRCkge1xuICAgICAgICAgICAgLy8gc2hvdWxkIG9ubHkgZ2V0IHZhbHVlLnRoZW4gb25jZSBiYXNlZCBvbiBwcm9taXNlIHNwZWMuXG4gICAgICAgICAgICBsZXQgdGhlbiA9IG51bGw7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGVuID0gdmFsdWUgJiYgdmFsdWUudGhlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgb25jZVdyYXBwZXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlLCBmYWxzZSwgZXJyKTtcbiAgICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgKHZhbHVlIGluc3RhbmNlb2YgWm9uZUF3YXJlUHJvbWlzZSkge1xuICAgICAgICAgICAgaWYgKHN0YXRlICE9PSBSRUpFQ1RFRCAmJiB2YWx1ZSBpbnN0YW5jZW9mIFpvbmVBd2FyZVByb21pc2UgJiZcbiAgICAgICAgICAgICAgICB2YWx1ZS5oYXNPd25Qcm9wZXJ0eShzeW1ib2xTdGF0ZSkgJiYgdmFsdWUuaGFzT3duUHJvcGVydHkoc3ltYm9sVmFsdWUpICYmXG4gICAgICAgICAgICAgICAgdmFsdWVbc3ltYm9sU3RhdGVdICE9PSBVTlJFU09MVkVEKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJSZWplY3RlZE5vQ2F0Y2godmFsdWUpO1xuICAgICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKHByb21pc2UsIHZhbHVlW3N5bWJvbFN0YXRlXSwgdmFsdWVbc3ltYm9sVmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlICE9PSBSRUpFQ1RFRCAmJiB0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgb25jZVdyYXBwZXIobWFrZVJlc29sdmVyKHByb21pc2UsIHN0YXRlKSksIG9uY2VXcmFwcGVyKG1ha2VSZXNvbHZlcihwcm9taXNlLCBmYWxzZSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBvbmNlV3JhcHBlcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlLCBmYWxzZSwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlW3N5bWJvbFN0YXRlXSA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXVlID0gcHJvbWlzZVtzeW1ib2xWYWx1ZV07XG4gICAgICAgICAgICAgICAgcHJvbWlzZVtzeW1ib2xWYWx1ZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAocHJvbWlzZVtzeW1ib2xGaW5hbGx5XSA9PT0gc3ltYm9sRmluYWxseSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcHJvbWlzZSBpcyBnZW5lcmF0ZWQgYnkgUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IFJFU09MVkVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgc3RhdGUgaXMgcmVzb2x2ZWQsIHNob3VsZCBpZ25vcmUgdGhlIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgdXNlIHBhcmVudCBwcm9taXNlIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlW3N5bWJvbFN0YXRlXSA9IHByb21pc2Vbc3ltYm9sUGFyZW50UHJvbWlzZVN0YXRlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2Vbc3ltYm9sVmFsdWVdID0gcHJvbWlzZVtzeW1ib2xQYXJlbnRQcm9taXNlVmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJlY29yZCB0YXNrIGluZm9ybWF0aW9uIGluIHZhbHVlIHdoZW4gZXJyb3Igb2NjdXJzLCBzbyB3ZSBjYW5cbiAgICAgICAgICAgICAgICAvLyBkbyBzb21lIGFkZGl0aW9uYWwgd29yayBzdWNoIGFzIHJlbmRlciBsb25nU3RhY2tUcmFjZVxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gUkVKRUNURUQgJiYgdmFsdWUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBsb25nU3RhY2tUcmFjZVpvbmUgaXMgaGVyZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFjZSA9IFpvbmUuY3VycmVudFRhc2sgJiYgWm9uZS5jdXJyZW50VGFzay5kYXRhICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBab25lLmN1cnJlbnRUYXNrLmRhdGFbY3JlYXRpb25UcmFjZV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBrZWVwIHRoZSBsb25nIHN0YWNrIHRyYWNlIGludG8gZXJyb3Igd2hlbiBpbiBsb25nU3RhY2tUcmFjZVpvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdERlZmluZVByb3BlcnR5KHZhbHVlLCBDVVJSRU5UX1RBU0tfVFJBQ0VfU1lNQk9MLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogdHJhY2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlUmVzb2x2ZU9yUmVqZWN0KHByb21pc2UsIHF1ZXVlW2krK10sIHF1ZXVlW2krK10sIHF1ZXVlW2krK10sIHF1ZXVlW2krK10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocXVldWUubGVuZ3RoID09IDAgJiYgc3RhdGUgPT0gUkVKRUNURUQpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZVtzeW1ib2xTdGF0ZV0gPSBSRUpFQ1RFRF9OT19DQVRDSDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVuY2F1Z2h0UHJvbWlzZUVycm9yID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIZXJlIHdlIHRocm93cyBhIG5ldyBFcnJvciB0byBwcmludCBtb3JlIHJlYWRhYmxlIGVycm9yIGxvZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGlmIHRoZSB2YWx1ZSBpcyBub3QgYW4gZXJyb3IsIHpvbmUuanMgYnVpbGRzIGFuIGBFcnJvcmBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9iamVjdCBoZXJlIHRvIGF0dGFjaCB0aGUgc3RhY2sgaW5mb3JtYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuY2F1Z2h0IChpbiBwcm9taXNlKTogJyArIHJlYWRhYmxlT2JqZWN0VG9TdHJpbmcodmFsdWUpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodmFsdWUgJiYgdmFsdWUuc3RhY2sgPyAnXFxuJyArIHZhbHVlLnN0YWNrIDogJycpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bmNhdWdodFByb21pc2VFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEaXNhYmxlV3JhcHBpbmdVbmNhdWdodFByb21pc2VSZWplY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGRpc2FibGUgd3JhcHBpbmcgdW5jYXVnaHQgcHJvbWlzZSByZWplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVzZSB0aGUgdmFsdWUgaW5zdGVhZCBvZiB3cmFwcGluZyBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHVuY2F1Z2h0UHJvbWlzZUVycm9yLnRocm93T3JpZ2luYWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHVuY2F1Z2h0UHJvbWlzZUVycm9yLnJlamVjdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB1bmNhdWdodFByb21pc2VFcnJvci5wcm9taXNlID0gcHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgdW5jYXVnaHRQcm9taXNlRXJyb3Iuem9uZSA9IFpvbmUuY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgdW5jYXVnaHRQcm9taXNlRXJyb3IudGFzayA9IFpvbmUuY3VycmVudFRhc2s7XG4gICAgICAgICAgICAgICAgICAgIF91bmNhdWdodFByb21pc2VFcnJvcnMucHVzaCh1bmNhdWdodFByb21pc2VFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGFwaS5zY2hlZHVsZU1pY3JvVGFzaygpOyAvLyB0byBtYWtlIHN1cmUgdGhhdCBpdCBpcyBydW5uaW5nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFJlc29sdmluZyBhbiBhbHJlYWR5IHJlc29sdmVkIHByb21pc2UgaXMgYSBub29wLlxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgY29uc3QgUkVKRUNUSU9OX0hBTkRMRURfSEFORExFUiA9IF9fc3ltYm9sX18oJ3JlamVjdGlvbkhhbmRsZWRIYW5kbGVyJyk7XG4gICAgZnVuY3Rpb24gY2xlYXJSZWplY3RlZE5vQ2F0Y2gocHJvbWlzZSkge1xuICAgICAgICBpZiAocHJvbWlzZVtzeW1ib2xTdGF0ZV0gPT09IFJFSkVDVEVEX05PX0NBVENIKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCBubyBjYXRjaCBzdGF0dXNcbiAgICAgICAgICAgIC8vIGFuZCBxdWV1ZS5sZW5ndGggPiAwLCBtZWFucyB0aGVyZSBpcyBhIGVycm9yIGhhbmRsZXJcbiAgICAgICAgICAgIC8vIGhlcmUgdG8gaGFuZGxlIHRoZSByZWplY3RlZCBwcm9taXNlLCB3ZSBzaG91bGQgdHJpZ2dlclxuICAgICAgICAgICAgLy8gd2luZG93cy5yZWplY3Rpb25oYW5kbGVkIGV2ZW50SGFuZGxlciBvciBub2RlanMgcmVqZWN0aW9uSGFuZGxlZFxuICAgICAgICAgICAgLy8gZXZlbnRIYW5kbGVyXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSBab25lW1JFSkVDVElPTl9IQU5ETEVEX0hBTkRMRVJdO1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyICYmIHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCB7IHJlamVjdGlvbjogcHJvbWlzZVtzeW1ib2xWYWx1ZV0sIHByb21pc2U6IHByb21pc2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvbWlzZVtzeW1ib2xTdGF0ZV0gPSBSRUpFQ1RFRDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgX3VuY2F1Z2h0UHJvbWlzZUVycm9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwcm9taXNlID09PSBfdW5jYXVnaHRQcm9taXNlRXJyb3JzW2ldLnByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgX3VuY2F1Z2h0UHJvbWlzZUVycm9ycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlUmVzb2x2ZU9yUmVqZWN0KHByb21pc2UsIHpvbmUsIGNoYWluUHJvbWlzZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgY2xlYXJSZWplY3RlZE5vQ2F0Y2gocHJvbWlzZSk7XG4gICAgICAgIGNvbnN0IHByb21pc2VTdGF0ZSA9IHByb21pc2Vbc3ltYm9sU3RhdGVdO1xuICAgICAgICBjb25zdCBkZWxlZ2F0ZSA9IHByb21pc2VTdGF0ZSA/XG4gICAgICAgICAgICAodHlwZW9mIG9uRnVsZmlsbGVkID09PSAnZnVuY3Rpb24nKSA/IG9uRnVsZmlsbGVkIDogZm9yd2FyZFJlc29sdXRpb24gOlxuICAgICAgICAgICAgKHR5cGVvZiBvblJlamVjdGVkID09PSAnZnVuY3Rpb24nKSA/IG9uUmVqZWN0ZWQgOlxuICAgICAgICAgICAgICAgIGZvcndhcmRSZWplY3Rpb247XG4gICAgICAgIHpvbmUuc2NoZWR1bGVNaWNyb1Rhc2soc291cmNlLCAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFByb21pc2VWYWx1ZSA9IHByb21pc2Vbc3ltYm9sVmFsdWVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzRmluYWxseVByb21pc2UgPSAhIWNoYWluUHJvbWlzZSAmJiBzeW1ib2xGaW5hbGx5ID09PSBjaGFpblByb21pc2Vbc3ltYm9sRmluYWxseV07XG4gICAgICAgICAgICAgICAgaWYgKGlzRmluYWxseVByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHByb21pc2UgaXMgZ2VuZXJhdGVkIGZyb20gZmluYWxseSBjYWxsLCBrZWVwIHBhcmVudCBwcm9taXNlJ3Mgc3RhdGUgYW5kIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIGNoYWluUHJvbWlzZVtzeW1ib2xQYXJlbnRQcm9taXNlVmFsdWVdID0gcGFyZW50UHJvbWlzZVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBjaGFpblByb21pc2Vbc3ltYm9sUGFyZW50UHJvbWlzZVN0YXRlXSA9IHByb21pc2VTdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIG5vdCBwYXNzIHZhbHVlIHRvIGZpbmFsbHkgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHpvbmUucnVuKGRlbGVnYXRlLCB1bmRlZmluZWQsIGlzRmluYWxseVByb21pc2UgJiYgZGVsZWdhdGUgIT09IGZvcndhcmRSZWplY3Rpb24gJiYgZGVsZWdhdGUgIT09IGZvcndhcmRSZXNvbHV0aW9uID9cbiAgICAgICAgICAgICAgICAgICAgW10gOlxuICAgICAgICAgICAgICAgICAgICBbcGFyZW50UHJvbWlzZVZhbHVlXSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UoY2hhaW5Qcm9taXNlLCB0cnVlLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBlcnJvciBvY2N1cnMsIHNob3VsZCBhbHdheXMgcmV0dXJuIHRoaXMgZXJyb3JcbiAgICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShjaGFpblByb21pc2UsIGZhbHNlLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGNoYWluUHJvbWlzZSk7XG4gICAgfVxuICAgIGNvbnN0IFpPTkVfQVdBUkVfUFJPTUlTRV9UT19TVFJJTkcgPSAnZnVuY3Rpb24gWm9uZUF3YXJlUHJvbWlzZSgpIHsgW25hdGl2ZSBjb2RlXSB9JztcbiAgICBjb25zdCBub29wID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIGNvbnN0IEFnZ3JlZ2F0ZUVycm9yID0gZ2xvYmFsLkFnZ3JlZ2F0ZUVycm9yO1xuICAgIGNsYXNzIFpvbmVBd2FyZVByb21pc2Uge1xuICAgICAgICBzdGF0aWMgdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gWk9ORV9BV0FSRV9QUk9NSVNFX1RPX1NUUklORztcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVQcm9taXNlKG5ldyB0aGlzKG51bGwpLCBSRVNPTFZFRCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyByZWplY3QoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlUHJvbWlzZShuZXcgdGhpcyhudWxsKSwgUkVKRUNURUQsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgYW55KHZhbHVlcykge1xuICAgICAgICAgICAgaWYgKCF2YWx1ZXMgfHwgdHlwZW9mIHZhbHVlc1tTeW1ib2wuaXRlcmF0b3JdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBBZ2dyZWdhdGVFcnJvcihbXSwgJ0FsbCBwcm9taXNlcyB3ZXJlIHJlamVjdGVkJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHYgb2YgdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goWm9uZUF3YXJlUHJvbWlzZS5yZXNvbHZlKHYpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBBZ2dyZWdhdGVFcnJvcihbXSwgJ0FsbCBwcm9taXNlcyB3ZXJlIHJlamVjdGVkJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBBZ2dyZWdhdGVFcnJvcihbXSwgJ0FsbCBwcm9taXNlcyB3ZXJlIHJlamVjdGVkJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWm9uZUF3YXJlUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlc1tpXS50aGVuKHYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgQWdncmVnYXRlRXJyb3IoZXJyb3JzLCAnQWxsIHByb21pc2VzIHdlcmUgcmVqZWN0ZWQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIDtcbiAgICAgICAgc3RhdGljIHJhY2UodmFsdWVzKSB7XG4gICAgICAgICAgICBsZXQgcmVzb2x2ZTtcbiAgICAgICAgICAgIGxldCByZWplY3Q7XG4gICAgICAgICAgICBsZXQgcHJvbWlzZSA9IG5ldyB0aGlzKChyZXMsIHJlaikgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUgPSByZXM7XG4gICAgICAgICAgICAgICAgcmVqZWN0ID0gcmVqO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmdW5jdGlvbiBvblJlc29sdmUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uUmVqZWN0KGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICAgICAgICAgIGlmICghaXNUaGVuYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZS50aGVuKG9uUmVzb2x2ZSwgb25SZWplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIGFsbCh2YWx1ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBab25lQXdhcmVQcm9taXNlLmFsbFdpdGhDYWxsYmFjayh2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyBhbGxTZXR0bGVkKHZhbHVlcykge1xuICAgICAgICAgICAgY29uc3QgUCA9IHRoaXMgJiYgdGhpcy5wcm90b3R5cGUgaW5zdGFuY2VvZiBab25lQXdhcmVQcm9taXNlID8gdGhpcyA6IFpvbmVBd2FyZVByb21pc2U7XG4gICAgICAgICAgICByZXR1cm4gUC5hbGxXaXRoQ2FsbGJhY2sodmFsdWVzLCB7XG4gICAgICAgICAgICAgICAgdGhlbkNhbGxiYWNrOiAodmFsdWUpID0+ICh7IHN0YXR1czogJ2Z1bGZpbGxlZCcsIHZhbHVlIH0pLFxuICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2s6IChlcnIpID0+ICh7IHN0YXR1czogJ3JlamVjdGVkJywgcmVhc29uOiBlcnIgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyBhbGxXaXRoQ2FsbGJhY2sodmFsdWVzLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgbGV0IHJlc29sdmU7XG4gICAgICAgICAgICBsZXQgcmVqZWN0O1xuICAgICAgICAgICAgbGV0IHByb21pc2UgPSBuZXcgdGhpcygocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlID0gcmVzO1xuICAgICAgICAgICAgICAgIHJlamVjdCA9IHJlajtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gU3RhcnQgYXQgMiB0byBwcmV2ZW50IHByZW1hdHVyZWx5IHJlc29sdmluZyBpZiAudGhlbiBpcyBjYWxsZWQgaW1tZWRpYXRlbHkuXG4gICAgICAgICAgICBsZXQgdW5yZXNvbHZlZENvdW50ID0gMjtcbiAgICAgICAgICAgIGxldCB2YWx1ZUluZGV4ID0gMDtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkVmFsdWVzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVGhlbmFibGUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5yZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyVmFsdWVJbmRleCA9IHZhbHVlSW5kZXg7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkVmFsdWVzW2N1clZhbHVlSW5kZXhdID0gY2FsbGJhY2sgPyBjYWxsYmFjay50aGVuQ2FsbGJhY2sodmFsdWUpIDogdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB1bnJlc29sdmVkQ291bnQtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1bnJlc29sdmVkQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc29sdmVkVmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRWYWx1ZXNbY3VyVmFsdWVJbmRleF0gPSBjYWxsYmFjay5lcnJvckNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5yZXNvbHZlZENvdW50LS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVucmVzb2x2ZWRDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc29sdmVkVmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAodGhlbkVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QodGhlbkVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVucmVzb2x2ZWRDb3VudCsrO1xuICAgICAgICAgICAgICAgIHZhbHVlSW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1ha2UgdGhlIHVucmVzb2x2ZWRDb3VudCB6ZXJvLWJhc2VkIGFnYWluLlxuICAgICAgICAgICAgdW5yZXNvbHZlZENvdW50IC09IDI7XG4gICAgICAgICAgICBpZiAodW5yZXNvbHZlZENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNvbHZlZFZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdHJ1Y3RvcihleGVjdXRvcikge1xuICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIShwcm9taXNlIGluc3RhbmNlb2YgWm9uZUF3YXJlUHJvbWlzZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ011c3QgYmUgYW4gaW5zdGFuY2VvZiBQcm9taXNlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvbWlzZVtzeW1ib2xTdGF0ZV0gPSBVTlJFU09MVkVEO1xuICAgICAgICAgICAgcHJvbWlzZVtzeW1ib2xWYWx1ZV0gPSBbXTsgLy8gcXVldWU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9uY2VXcmFwcGVyID0gb25jZSgpO1xuICAgICAgICAgICAgICAgIGV4ZWN1dG9yICYmXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dG9yKG9uY2VXcmFwcGVyKG1ha2VSZXNvbHZlcihwcm9taXNlLCBSRVNPTFZFRCkpLCBvbmNlV3JhcHBlcihtYWtlUmVzb2x2ZXIocHJvbWlzZSwgUkVKRUNURUQpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlLCBmYWxzZSwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICAgICAgICAgIHJldHVybiAnUHJvbWlzZSc7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IFtTeW1ib2wuc3BlY2llc10oKSB7XG4gICAgICAgICAgICByZXR1cm4gWm9uZUF3YXJlUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAvLyBXZSBtdXN0IHJlYWQgYFN5bWJvbC5zcGVjaWVzYCBzYWZlbHkgYmVjYXVzZSBgdGhpc2AgbWF5IGJlIGFueXRoaW5nLiBGb3IgaW5zdGFuY2UsIGB0aGlzYFxuICAgICAgICAgICAgLy8gbWF5IGJlIGFuIG9iamVjdCB3aXRob3V0IGEgcHJvdG90eXBlIChjcmVhdGVkIHRocm91Z2ggYE9iamVjdC5jcmVhdGUobnVsbClgKTsgdGh1c1xuICAgICAgICAgICAgLy8gYHRoaXMuY29uc3RydWN0b3JgIHdpbGwgYmUgdW5kZWZpbmVkLiBPbmUgb2YgdGhlIHVzZSBjYXNlcyBpcyBTeXN0ZW1KUyBjcmVhdGluZ1xuICAgICAgICAgICAgLy8gcHJvdG90eXBlLWxlc3Mgb2JqZWN0cyAobW9kdWxlcykgdmlhIGBPYmplY3QuY3JlYXRlKG51bGwpYC4gVGhlIFN5c3RlbUpTIGNyZWF0ZXMgYW4gZW1wdHlcbiAgICAgICAgICAgIC8vIG9iamVjdCBhbmQgY29waWVzIHByb21pc2UgcHJvcGVydGllcyBpbnRvIHRoYXQgb2JqZWN0ICh3aXRoaW4gdGhlIGBnZXRPckNyZWF0ZUxvYWRgXG4gICAgICAgICAgICAvLyBmdW5jdGlvbikuIFRoZSB6b25lLmpzIHRoZW4gY2hlY2tzIGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBoYXMgdGhlIGB0aGVuYCBtZXRob2QgYW5kIGludm9rZXNcbiAgICAgICAgICAgIC8vIGl0IHdpdGggdGhlIGB2YWx1ZWAgY29udGV4dC4gT3RoZXJ3aXNlLCB0aGlzIHdpbGwgdGhyb3cgYW4gZXJyb3I6IGBUeXBlRXJyb3I6IENhbm5vdCByZWFkXG4gICAgICAgICAgICAvLyBwcm9wZXJ0aWVzIG9mIHVuZGVmaW5lZCAocmVhZGluZyAnU3ltYm9sKFN5bWJvbC5zcGVjaWVzKScpYC5cbiAgICAgICAgICAgIGxldCBDID0gKF9hID0gdGhpcy5jb25zdHJ1Y3RvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW1N5bWJvbC5zcGVjaWVzXTtcbiAgICAgICAgICAgIGlmICghQyB8fCB0eXBlb2YgQyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIEMgPSB0aGlzLmNvbnN0cnVjdG9yIHx8IFpvbmVBd2FyZVByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaGFpblByb21pc2UgPSBuZXcgQyhub29wKTtcbiAgICAgICAgICAgIGNvbnN0IHpvbmUgPSBab25lLmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAodGhpc1tzeW1ib2xTdGF0ZV0gPT0gVU5SRVNPTFZFRCkge1xuICAgICAgICAgICAgICAgIHRoaXNbc3ltYm9sVmFsdWVdLnB1c2goem9uZSwgY2hhaW5Qcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZVJlc29sdmVPclJlamVjdCh0aGlzLCB6b25lLCBjaGFpblByb21pc2UsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaGFpblByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gob25SZWplY3RlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5KG9uRmluYWxseSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgLy8gU2VlIGNvbW1lbnQgb24gdGhlIGNhbGwgdG8gYHRoZW5gIGFib3V0IHdoeSB0aGVlIGBTeW1ib2wuc3BlY2llc2AgaXMgc2FmZWx5IGFjY2Vzc2VkLlxuICAgICAgICAgICAgbGV0IEMgPSAoX2EgPSB0aGlzLmNvbnN0cnVjdG9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbU3ltYm9sLnNwZWNpZXNdO1xuICAgICAgICAgICAgaWYgKCFDIHx8IHR5cGVvZiBDICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgQyA9IFpvbmVBd2FyZVByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaGFpblByb21pc2UgPSBuZXcgQyhub29wKTtcbiAgICAgICAgICAgIGNoYWluUHJvbWlzZVtzeW1ib2xGaW5hbGx5XSA9IHN5bWJvbEZpbmFsbHk7XG4gICAgICAgICAgICBjb25zdCB6b25lID0gWm9uZS5jdXJyZW50O1xuICAgICAgICAgICAgaWYgKHRoaXNbc3ltYm9sU3RhdGVdID09IFVOUkVTT0xWRUQpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3N5bWJvbFZhbHVlXS5wdXNoKHpvbmUsIGNoYWluUHJvbWlzZSwgb25GaW5hbGx5LCBvbkZpbmFsbHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVSZXNvbHZlT3JSZWplY3QodGhpcywgem9uZSwgY2hhaW5Qcm9taXNlLCBvbkZpbmFsbHksIG9uRmluYWxseSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hhaW5Qcm9taXNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFByb3RlY3QgYWdhaW5zdCBhZ2dyZXNzaXZlIG9wdGltaXplcnMgZHJvcHBpbmcgc2VlbWluZ2x5IHVudXNlZCBwcm9wZXJ0aWVzLlxuICAgIC8vIEUuZy4gQ2xvc3VyZSBDb21waWxlciBpbiBhZHZhbmNlZCBtb2RlLlxuICAgIFpvbmVBd2FyZVByb21pc2VbJ3Jlc29sdmUnXSA9IFpvbmVBd2FyZVByb21pc2UucmVzb2x2ZTtcbiAgICBab25lQXdhcmVQcm9taXNlWydyZWplY3QnXSA9IFpvbmVBd2FyZVByb21pc2UucmVqZWN0O1xuICAgIFpvbmVBd2FyZVByb21pc2VbJ3JhY2UnXSA9IFpvbmVBd2FyZVByb21pc2UucmFjZTtcbiAgICBab25lQXdhcmVQcm9taXNlWydhbGwnXSA9IFpvbmVBd2FyZVByb21pc2UuYWxsO1xuICAgIGNvbnN0IE5hdGl2ZVByb21pc2UgPSBnbG9iYWxbc3ltYm9sUHJvbWlzZV0gPSBnbG9iYWxbJ1Byb21pc2UnXTtcbiAgICBnbG9iYWxbJ1Byb21pc2UnXSA9IFpvbmVBd2FyZVByb21pc2U7XG4gICAgY29uc3Qgc3ltYm9sVGhlblBhdGNoZWQgPSBfX3N5bWJvbF9fKCd0aGVuUGF0Y2hlZCcpO1xuICAgIGZ1bmN0aW9uIHBhdGNoVGhlbihDdG9yKSB7XG4gICAgICAgIGNvbnN0IHByb3RvID0gQ3Rvci5wcm90b3R5cGU7XG4gICAgICAgIGNvbnN0IHByb3AgPSBPYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG8sICd0aGVuJyk7XG4gICAgICAgIGlmIChwcm9wICYmIChwcm9wLndyaXRhYmxlID09PSBmYWxzZSB8fCAhcHJvcC5jb25maWd1cmFibGUpKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBDdG9yLnByb3RvdHlwZS50aGVuIHByb3BlcnR5RGVzY3JpcHRvciBpcyB3cml0YWJsZSBvciBub3RcbiAgICAgICAgICAgIC8vIGluIG1ldGVvciBlbnYsIHdyaXRhYmxlIGlzIGZhbHNlLCB3ZSBzaG91bGQgaWdub3JlIHN1Y2ggY2FzZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGhlbiA9IHByb3RvLnRoZW47XG4gICAgICAgIC8vIEtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIG1ldGhvZC5cbiAgICAgICAgcHJvdG9bc3ltYm9sVGhlbl0gPSBvcmlnaW5hbFRoZW47XG4gICAgICAgIEN0b3IucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAob25SZXNvbHZlLCBvblJlamVjdCkge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZCA9IG5ldyBab25lQXdhcmVQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFRoZW4uY2FsbCh0aGlzLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlZC50aGVuKG9uUmVzb2x2ZSwgb25SZWplY3QpO1xuICAgICAgICB9O1xuICAgICAgICBDdG9yW3N5bWJvbFRoZW5QYXRjaGVkXSA9IHRydWU7XG4gICAgfVxuICAgIGFwaS5wYXRjaFRoZW4gPSBwYXRjaFRoZW47XG4gICAgZnVuY3Rpb24gem9uZWlmeShmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNlbGYsIGFyZ3MpIHtcbiAgICAgICAgICAgIGxldCByZXN1bHRQcm9taXNlID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgICAgICBpZiAocmVzdWx0UHJvbWlzZSBpbnN0YW5jZW9mIFpvbmVBd2FyZVByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0UHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjdG9yID0gcmVzdWx0UHJvbWlzZS5jb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIGlmICghY3RvcltzeW1ib2xUaGVuUGF0Y2hlZF0pIHtcbiAgICAgICAgICAgICAgICBwYXRjaFRoZW4oY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0UHJvbWlzZTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKE5hdGl2ZVByb21pc2UpIHtcbiAgICAgICAgcGF0Y2hUaGVuKE5hdGl2ZVByb21pc2UpO1xuICAgICAgICBwYXRjaE1ldGhvZChnbG9iYWwsICdmZXRjaCcsIGRlbGVnYXRlID0+IHpvbmVpZnkoZGVsZWdhdGUpKTtcbiAgICB9XG4gICAgLy8gVGhpcyBpcyBub3QgcGFydCBvZiBwdWJsaWMgQVBJLCBidXQgaXQgaXMgdXNlZnVsIGZvciB0ZXN0cywgc28gd2UgZXhwb3NlIGl0LlxuICAgIFByb21pc2VbWm9uZS5fX3N5bWJvbF9fKCd1bmNhdWdodFByb21pc2VFcnJvcnMnKV0gPSBfdW5jYXVnaHRQcm9taXNlRXJyb3JzO1xuICAgIHJldHVybiBab25lQXdhcmVQcm9taXNlO1xufSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuLy8gb3ZlcnJpZGUgRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nIHRvIG1ha2Ugem9uZS5qcyBwYXRjaGVkIGZ1bmN0aW9uXG4vLyBsb29rIGxpa2UgbmF0aXZlIGZ1bmN0aW9uXG5ab25lLl9fbG9hZF9wYXRjaCgndG9TdHJpbmcnLCAoZ2xvYmFsKSA9PiB7XG4gICAgLy8gcGF0Y2ggRnVuYy5wcm90b3R5cGUudG9TdHJpbmcgdG8gbGV0IHRoZW0gbG9vayBsaWtlIG5hdGl2ZVxuICAgIGNvbnN0IG9yaWdpbmFsRnVuY3Rpb25Ub1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcbiAgICBjb25zdCBPUklHSU5BTF9ERUxFR0FURV9TWU1CT0wgPSB6b25lU3ltYm9sKCdPcmlnaW5hbERlbGVnYXRlJyk7XG4gICAgY29uc3QgUFJPTUlTRV9TWU1CT0wgPSB6b25lU3ltYm9sKCdQcm9taXNlJyk7XG4gICAgY29uc3QgRVJST1JfU1lNQk9MID0gem9uZVN5bWJvbCgnRXJyb3InKTtcbiAgICBjb25zdCBuZXdGdW5jdGlvblRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxEZWxlZ2F0ZSA9IHRoaXNbT1JJR0lOQUxfREVMRUdBVEVfU1lNQk9MXTtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbERlbGVnYXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcmlnaW5hbERlbGVnYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEZ1bmN0aW9uVG9TdHJpbmcuY2FsbChvcmlnaW5hbERlbGVnYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob3JpZ2luYWxEZWxlZ2F0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMgPT09IFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuYXRpdmVQcm9taXNlID0gZ2xvYmFsW1BST01JU0VfU1lNQk9MXTtcbiAgICAgICAgICAgICAgICBpZiAobmF0aXZlUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxGdW5jdGlvblRvU3RyaW5nLmNhbGwobmF0aXZlUHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMgPT09IEVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlRXJyb3IgPSBnbG9iYWxbRVJST1JfU1lNQk9MXTtcbiAgICAgICAgICAgICAgICBpZiAobmF0aXZlRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsRnVuY3Rpb25Ub1N0cmluZy5jYWxsKG5hdGl2ZUVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsRnVuY3Rpb25Ub1N0cmluZy5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgbmV3RnVuY3Rpb25Ub1N0cmluZ1tPUklHSU5BTF9ERUxFR0FURV9TWU1CT0xdID0gb3JpZ2luYWxGdW5jdGlvblRvU3RyaW5nO1xuICAgIEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IG5ld0Z1bmN0aW9uVG9TdHJpbmc7XG4gICAgLy8gcGF0Y2ggT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyB0byBsZXQgdGhlbSBsb29rIGxpa2UgbmF0aXZlXG4gICAgY29uc3Qgb3JpZ2luYWxPYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG4gICAgY29uc3QgUFJPTUlTRV9PQkpFQ1RfVE9fU1RSSU5HID0gJ1tvYmplY3QgUHJvbWlzZV0nO1xuICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIFBST01JU0VfT0JKRUNUX1RPX1NUUklORztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3JpZ2luYWxPYmplY3RUb1N0cmluZy5jYWxsKHRoaXMpO1xuICAgIH07XG59KTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5sZXQgcGFzc2l2ZVN1cHBvcnRlZCA9IGZhbHNlO1xuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwYXNzaXZlU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIE5vdGU6IFdlIHBhc3MgdGhlIGBvcHRpb25zYCBvYmplY3QgYXMgdGhlIGV2ZW50IGhhbmRsZXIgdG9vLiBUaGlzIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlXG4gICAgICAgIC8vIHNpZ25hdHVyZSBvZiBgYWRkRXZlbnRMaXN0ZW5lcmAgb3IgYHJlbW92ZUV2ZW50TGlzdGVuZXJgIGJ1dCBlbmFibGVzIHVzIHRvIHJlbW92ZSB0aGUgaGFuZGxlclxuICAgICAgICAvLyB3aXRob3V0IGFuIGFjdHVhbCBoYW5kbGVyLlxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHBhc3NpdmVTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG59XG4vLyBhbiBpZGVudGlmaWVyIHRvIHRlbGwgWm9uZVRhc2sgZG8gbm90IGNyZWF0ZSBhIG5ldyBpbnZva2UgY2xvc3VyZVxuY29uc3QgT1BUSU1JWkVEX1pPTkVfRVZFTlRfVEFTS19EQVRBID0ge1xuICAgIHVzZUc6IHRydWVcbn07XG5jb25zdCB6b25lU3ltYm9sRXZlbnROYW1lcyA9IHt9O1xuY29uc3QgZ2xvYmFsU291cmNlcyA9IHt9O1xuY29uc3QgRVZFTlRfTkFNRV9TWU1CT0xfUkVHWCA9IG5ldyBSZWdFeHAoJ14nICsgWk9ORV9TWU1CT0xfUFJFRklYICsgJyhcXFxcdyspKHRydWV8ZmFsc2UpJCcpO1xuY29uc3QgSU1NRURJQVRFX1BST1BBR0FUSU9OX1NZTUJPTCA9IHpvbmVTeW1ib2woJ3Byb3BhZ2F0aW9uU3RvcHBlZCcpO1xuZnVuY3Rpb24gcHJlcGFyZUV2ZW50TmFtZXMoZXZlbnROYW1lLCBldmVudE5hbWVUb1N0cmluZykge1xuICAgIGNvbnN0IGZhbHNlRXZlbnROYW1lID0gKGV2ZW50TmFtZVRvU3RyaW5nID8gZXZlbnROYW1lVG9TdHJpbmcoZXZlbnROYW1lKSA6IGV2ZW50TmFtZSkgKyBGQUxTRV9TVFI7XG4gICAgY29uc3QgdHJ1ZUV2ZW50TmFtZSA9IChldmVudE5hbWVUb1N0cmluZyA/IGV2ZW50TmFtZVRvU3RyaW5nKGV2ZW50TmFtZSkgOiBldmVudE5hbWUpICsgVFJVRV9TVFI7XG4gICAgY29uc3Qgc3ltYm9sID0gWk9ORV9TWU1CT0xfUFJFRklYICsgZmFsc2VFdmVudE5hbWU7XG4gICAgY29uc3Qgc3ltYm9sQ2FwdHVyZSA9IFpPTkVfU1lNQk9MX1BSRUZJWCArIHRydWVFdmVudE5hbWU7XG4gICAgem9uZVN5bWJvbEV2ZW50TmFtZXNbZXZlbnROYW1lXSA9IHt9O1xuICAgIHpvbmVTeW1ib2xFdmVudE5hbWVzW2V2ZW50TmFtZV1bRkFMU0VfU1RSXSA9IHN5bWJvbDtcbiAgICB6b25lU3ltYm9sRXZlbnROYW1lc1tldmVudE5hbWVdW1RSVUVfU1RSXSA9IHN5bWJvbENhcHR1cmU7XG59XG5mdW5jdGlvbiBwYXRjaEV2ZW50VGFyZ2V0KF9nbG9iYWwsIGFwaSwgYXBpcywgcGF0Y2hPcHRpb25zKSB7XG4gICAgY29uc3QgQUREX0VWRU5UX0xJU1RFTkVSID0gKHBhdGNoT3B0aW9ucyAmJiBwYXRjaE9wdGlvbnMuYWRkKSB8fCBBRERfRVZFTlRfTElTVEVORVJfU1RSO1xuICAgIGNvbnN0IFJFTU9WRV9FVkVOVF9MSVNURU5FUiA9IChwYXRjaE9wdGlvbnMgJiYgcGF0Y2hPcHRpb25zLnJtKSB8fCBSRU1PVkVfRVZFTlRfTElTVEVORVJfU1RSO1xuICAgIGNvbnN0IExJU1RFTkVSU19FVkVOVF9MSVNURU5FUiA9IChwYXRjaE9wdGlvbnMgJiYgcGF0Y2hPcHRpb25zLmxpc3RlbmVycykgfHwgJ2V2ZW50TGlzdGVuZXJzJztcbiAgICBjb25zdCBSRU1PVkVfQUxMX0xJU1RFTkVSU19FVkVOVF9MSVNURU5FUiA9IChwYXRjaE9wdGlvbnMgJiYgcGF0Y2hPcHRpb25zLnJtQWxsKSB8fCAncmVtb3ZlQWxsTGlzdGVuZXJzJztcbiAgICBjb25zdCB6b25lU3ltYm9sQWRkRXZlbnRMaXN0ZW5lciA9IHpvbmVTeW1ib2woQUREX0VWRU5UX0xJU1RFTkVSKTtcbiAgICBjb25zdCBBRERfRVZFTlRfTElTVEVORVJfU09VUkNFID0gJy4nICsgQUREX0VWRU5UX0xJU1RFTkVSICsgJzonO1xuICAgIGNvbnN0IFBSRVBFTkRfRVZFTlRfTElTVEVORVIgPSAncHJlcGVuZExpc3RlbmVyJztcbiAgICBjb25zdCBQUkVQRU5EX0VWRU5UX0xJU1RFTkVSX1NPVVJDRSA9ICcuJyArIFBSRVBFTkRfRVZFTlRfTElTVEVORVIgKyAnOic7XG4gICAgY29uc3QgaW52b2tlVGFzayA9IGZ1bmN0aW9uICh0YXNrLCB0YXJnZXQsIGV2ZW50KSB7XG4gICAgICAgIC8vIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UsIGNoZWNrIGlzUmVtb3ZlZCB3aGljaCBpcyBzZXRcbiAgICAgICAgLy8gYnkgcmVtb3ZlRXZlbnRMaXN0ZW5lclxuICAgICAgICBpZiAodGFzay5pc1JlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWxlZ2F0ZSA9IHRhc2suY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgZGVsZWdhdGUgPT09ICdvYmplY3QnICYmIGRlbGVnYXRlLmhhbmRsZUV2ZW50KSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIGJpbmQgdmVyc2lvbiBvZiBoYW5kbGVFdmVudCB3aGVuIGludm9rZVxuICAgICAgICAgICAgdGFzay5jYWxsYmFjayA9IChldmVudCkgPT4gZGVsZWdhdGUuaGFuZGxlRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgdGFzay5vcmlnaW5hbERlbGVnYXRlID0gZGVsZWdhdGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW52b2tlIHN0YXRpYyB0YXNrLmludm9rZVxuICAgICAgICAvLyBuZWVkIHRvIHRyeS9jYXRjaCBlcnJvciBoZXJlLCBvdGhlcndpc2UsIHRoZSBlcnJvciBpbiBvbmUgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgLy8gd2lsbCBicmVhayB0aGUgZXhlY3V0aW9ucyBvZiB0aGUgb3RoZXIgZXZlbnQgbGlzdGVuZXJzLiBBbHNvIGVycm9yIHdpbGxcbiAgICAgICAgLy8gbm90IHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgd2hlbiBgb25jZWAgb3B0aW9ucyBpcyB0cnVlLlxuICAgICAgICBsZXQgZXJyb3I7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0YXNrLmludm9rZSh0YXNrLCB0YXJnZXQsIFtldmVudF0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGVycm9yID0gZXJyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0YXNrLm9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0JyAmJiBvcHRpb25zLm9uY2UpIHtcbiAgICAgICAgICAgIC8vIGlmIG9wdGlvbnMub25jZSBpcyB0cnVlLCBhZnRlciBpbnZva2Ugb25jZSByZW1vdmUgbGlzdGVuZXIgaGVyZVxuICAgICAgICAgICAgLy8gb25seSBicm93c2VyIG5lZWQgdG8gZG8gdGhpcywgbm9kZWpzIGV2ZW50RW1pdHRlciB3aWxsIGNhbCByZW1vdmVMaXN0ZW5lclxuICAgICAgICAgICAgLy8gaW5zaWRlIEV2ZW50RW1pdHRlci5vbmNlXG4gICAgICAgICAgICBjb25zdCBkZWxlZ2F0ZSA9IHRhc2sub3JpZ2luYWxEZWxlZ2F0ZSA/IHRhc2sub3JpZ2luYWxEZWxlZ2F0ZSA6IHRhc2suY2FsbGJhY2s7XG4gICAgICAgICAgICB0YXJnZXRbUkVNT1ZFX0VWRU5UX0xJU1RFTkVSXS5jYWxsKHRhcmdldCwgZXZlbnQudHlwZSwgZGVsZWdhdGUsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdsb2JhbENhbGxiYWNrKGNvbnRleHQsIGV2ZW50LCBpc0NhcHR1cmUpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvem9uZS5qcy9pc3N1ZXMvOTExLCBpbiBJRSwgc29tZXRpbWVzXG4gICAgICAgIC8vIGV2ZW50IHdpbGwgYmUgdW5kZWZpbmVkLCBzbyB3ZSBuZWVkIHRvIHVzZSB3aW5kb3cuZXZlbnRcbiAgICAgICAgZXZlbnQgPSBldmVudCB8fCBfZ2xvYmFsLmV2ZW50O1xuICAgICAgICBpZiAoIWV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXZlbnQudGFyZ2V0IGlzIG5lZWRlZCBmb3IgU2Ftc3VuZyBUViBhbmQgU291cmNlQnVmZmVyXG4gICAgICAgIC8vIHx8IGdsb2JhbCBpcyBuZWVkZWQgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvem9uZS5qcy9pc3N1ZXMvMTkwXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGNvbnRleHQgfHwgZXZlbnQudGFyZ2V0IHx8IF9nbG9iYWw7XG4gICAgICAgIGNvbnN0IHRhc2tzID0gdGFyZ2V0W3pvbmVTeW1ib2xFdmVudE5hbWVzW2V2ZW50LnR5cGVdW2lzQ2FwdHVyZSA/IFRSVUVfU1RSIDogRkFMU0VfU1RSXV07XG4gICAgICAgIGlmICh0YXNrcykge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgICAgICAgICAvLyBpbnZva2UgYWxsIHRhc2tzIHdoaWNoIGF0dGFjaGVkIHRvIGN1cnJlbnQgdGFyZ2V0IHdpdGggZ2l2ZW4gZXZlbnQudHlwZSBhbmQgY2FwdHVyZSA9IGZhbHNlXG4gICAgICAgICAgICAvLyBmb3IgcGVyZm9ybWFuY2UgY29uY2VybiwgaWYgdGFzay5sZW5ndGggPT09IDEsIGp1c3QgaW52b2tlXG4gICAgICAgICAgICBpZiAodGFza3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyID0gaW52b2tlVGFzayh0YXNrc1swXSwgdGFyZ2V0LCBldmVudCk7XG4gICAgICAgICAgICAgICAgZXJyICYmIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci96b25lLmpzL2lzc3Vlcy84MzZcbiAgICAgICAgICAgICAgICAvLyBjb3B5IHRoZSB0YXNrcyBhcnJheSBiZWZvcmUgaW52b2tlLCB0byBhdm9pZFxuICAgICAgICAgICAgICAgIC8vIHRoZSBjYWxsYmFjayB3aWxsIHJlbW92ZSBpdHNlbGYgb3Igb3RoZXIgbGlzdGVuZXJcbiAgICAgICAgICAgICAgICBjb25zdCBjb3B5VGFza3MgPSB0YXNrcy5zbGljZSgpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29weVRhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudCAmJiBldmVudFtJTU1FRElBVEVfUFJPUEFHQVRJT05fU1lNQk9MXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gaW52b2tlVGFzayhjb3B5VGFza3NbaV0sIHRhcmdldCwgZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICBlcnIgJiYgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTaW5jZSB0aGVyZSBpcyBvbmx5IG9uZSBlcnJvciwgd2UgZG9uJ3QgbmVlZCB0byBzY2hlZHVsZSBtaWNyb1Rhc2tcbiAgICAgICAgICAgIC8vIHRvIHRocm93IHRoZSBlcnJvci5cbiAgICAgICAgICAgIGlmIChlcnJvcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3JzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcnJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gZXJyb3JzW2ldO1xuICAgICAgICAgICAgICAgICAgICBhcGkubmF0aXZlU2NoZWR1bGVNaWNyb1Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZ2xvYmFsIHNoYXJlZCB6b25lQXdhcmVDYWxsYmFjayB0byBoYW5kbGUgYWxsIGV2ZW50IGNhbGxiYWNrIHdpdGggY2FwdHVyZSA9IGZhbHNlXG4gICAgY29uc3QgZ2xvYmFsWm9uZUF3YXJlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbENhbGxiYWNrKHRoaXMsIGV2ZW50LCBmYWxzZSk7XG4gICAgfTtcbiAgICAvLyBnbG9iYWwgc2hhcmVkIHpvbmVBd2FyZUNhbGxiYWNrIHRvIGhhbmRsZSBhbGwgZXZlbnQgY2FsbGJhY2sgd2l0aCBjYXB0dXJlID0gdHJ1ZVxuICAgIGNvbnN0IGdsb2JhbFpvbmVBd2FyZUNhcHR1cmVDYWxsYmFjayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsQ2FsbGJhY2sodGhpcywgZXZlbnQsIHRydWUpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gcGF0Y2hFdmVudFRhcmdldE1ldGhvZHMob2JqLCBwYXRjaE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdXNlR2xvYmFsQ2FsbGJhY2sgPSB0cnVlO1xuICAgICAgICBpZiAocGF0Y2hPcHRpb25zICYmIHBhdGNoT3B0aW9ucy51c2VHICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHVzZUdsb2JhbENhbGxiYWNrID0gcGF0Y2hPcHRpb25zLnVzZUc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsaWRhdGVIYW5kbGVyID0gcGF0Y2hPcHRpb25zICYmIHBhdGNoT3B0aW9ucy52aDtcbiAgICAgICAgbGV0IGNoZWNrRHVwbGljYXRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHBhdGNoT3B0aW9ucyAmJiBwYXRjaE9wdGlvbnMuY2hrRHVwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlID0gcGF0Y2hPcHRpb25zLmNoa0R1cDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmV0dXJuVGFyZ2V0ID0gZmFsc2U7XG4gICAgICAgIGlmIChwYXRjaE9wdGlvbnMgJiYgcGF0Y2hPcHRpb25zLnJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVyblRhcmdldCA9IHBhdGNoT3B0aW9ucy5ydDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcHJvdG8gPSBvYmo7XG4gICAgICAgIHdoaWxlIChwcm90byAmJiAhcHJvdG8uaGFzT3duUHJvcGVydHkoQUREX0VWRU5UX0xJU1RFTkVSKSkge1xuICAgICAgICAgICAgcHJvdG8gPSBPYmplY3RHZXRQcm90b3R5cGVPZihwcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcm90byAmJiBvYmpbQUREX0VWRU5UX0xJU1RFTkVSXSkge1xuICAgICAgICAgICAgLy8gc29tZWhvdyB3ZSBkaWQgbm90IGZpbmQgaXQsIGJ1dCB3ZSBjYW4gc2VlIGl0LiBUaGlzIGhhcHBlbnMgb24gSUUgZm9yIFdpbmRvdyBwcm9wZXJ0aWVzLlxuICAgICAgICAgICAgcHJvdG8gPSBvYmo7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwcm90bykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm90b1t6b25lU3ltYm9sQWRkRXZlbnRMaXN0ZW5lcl0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBldmVudE5hbWVUb1N0cmluZyA9IHBhdGNoT3B0aW9ucyAmJiBwYXRjaE9wdGlvbnMuZXZlbnROYW1lVG9TdHJpbmc7XG4gICAgICAgIC8vIGEgc2hhcmVkIGdsb2JhbCB0YXNrRGF0YSB0byBwYXNzIGRhdGEgZm9yIHNjaGVkdWxlRXZlbnRUYXNrXG4gICAgICAgIC8vIHNvIHdlIGRvIG5vdCBuZWVkIHRvIGNyZWF0ZSBhIG5ldyBvYmplY3QganVzdCBmb3IgcGFzcyBzb21lIGRhdGFcbiAgICAgICAgY29uc3QgdGFza0RhdGEgPSB7fTtcbiAgICAgICAgY29uc3QgbmF0aXZlQWRkRXZlbnRMaXN0ZW5lciA9IHByb3RvW3pvbmVTeW1ib2xBZGRFdmVudExpc3RlbmVyXSA9IHByb3RvW0FERF9FVkVOVF9MSVNURU5FUl07XG4gICAgICAgIGNvbnN0IG5hdGl2ZVJlbW92ZUV2ZW50TGlzdGVuZXIgPSBwcm90b1t6b25lU3ltYm9sKFJFTU9WRV9FVkVOVF9MSVNURU5FUildID1cbiAgICAgICAgICAgIHByb3RvW1JFTU9WRV9FVkVOVF9MSVNURU5FUl07XG4gICAgICAgIGNvbnN0IG5hdGl2ZUxpc3RlbmVycyA9IHByb3RvW3pvbmVTeW1ib2woTElTVEVORVJTX0VWRU5UX0xJU1RFTkVSKV0gPVxuICAgICAgICAgICAgcHJvdG9bTElTVEVORVJTX0VWRU5UX0xJU1RFTkVSXTtcbiAgICAgICAgY29uc3QgbmF0aXZlUmVtb3ZlQWxsTGlzdGVuZXJzID0gcHJvdG9bem9uZVN5bWJvbChSRU1PVkVfQUxMX0xJU1RFTkVSU19FVkVOVF9MSVNURU5FUildID1cbiAgICAgICAgICAgIHByb3RvW1JFTU9WRV9BTExfTElTVEVORVJTX0VWRU5UX0xJU1RFTkVSXTtcbiAgICAgICAgbGV0IG5hdGl2ZVByZXBlbmRFdmVudExpc3RlbmVyO1xuICAgICAgICBpZiAocGF0Y2hPcHRpb25zICYmIHBhdGNoT3B0aW9ucy5wcmVwZW5kKSB7XG4gICAgICAgICAgICBuYXRpdmVQcmVwZW5kRXZlbnRMaXN0ZW5lciA9IHByb3RvW3pvbmVTeW1ib2wocGF0Y2hPcHRpb25zLnByZXBlbmQpXSA9XG4gICAgICAgICAgICAgICAgcHJvdG9bcGF0Y2hPcHRpb25zLnByZXBlbmRdO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHV0aWwgZnVuY3Rpb24gd2lsbCBidWlsZCBhbiBvcHRpb24gb2JqZWN0IHdpdGggcGFzc2l2ZSBvcHRpb25cbiAgICAgICAgICogdG8gaGFuZGxlIGFsbCBwb3NzaWJsZSBpbnB1dCBmcm9tIHRoZSB1c2VyLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYnVpbGRFdmVudExpc3RlbmVyT3B0aW9ucyhvcHRpb25zLCBwYXNzaXZlKSB7XG4gICAgICAgICAgICBpZiAoIXBhc3NpdmVTdXBwb3J0ZWQgJiYgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAvLyBkb2Vzbid0IHN1cHBvcnQgcGFzc2l2ZSBidXQgdXNlciB3YW50IHRvIHBhc3MgYW4gb2JqZWN0IGFzIG9wdGlvbnMuXG4gICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIG5vdCB3b3JrIG9uIHNvbWUgb2xkIGJyb3dzZXIsIHNvIHdlIGp1c3QgcGFzcyBhIGJvb2xlYW5cbiAgICAgICAgICAgICAgICAvLyBhcyB1c2VDYXB0dXJlIHBhcmFtZXRlclxuICAgICAgICAgICAgICAgIHJldHVybiAhIW9wdGlvbnMuY2FwdHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcGFzc2l2ZVN1cHBvcnRlZCB8fCAhcGFzc2l2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBjYXB0dXJlOiBvcHRpb25zLCBwYXNzaXZlOiB0cnVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBwYXNzaXZlOiB0cnVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmIG9wdGlvbnMucGFzc2l2ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VzdG9tU2NoZWR1bGVHbG9iYWwgPSBmdW5jdGlvbiAodGFzaykge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYWxyZWFkeSBhIHRhc2sgZm9yIHRoZSBldmVudE5hbWUgKyBjYXB0dXJlLFxuICAgICAgICAgICAgLy8ganVzdCByZXR1cm4sIGJlY2F1c2Ugd2UgdXNlIHRoZSBzaGFyZWQgZ2xvYmFsWm9uZUF3YXJlQ2FsbGJhY2sgaGVyZS5cbiAgICAgICAgICAgIGlmICh0YXNrRGF0YS5pc0V4aXN0aW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUFkZEV2ZW50TGlzdGVuZXIuY2FsbCh0YXNrRGF0YS50YXJnZXQsIHRhc2tEYXRhLmV2ZW50TmFtZSwgdGFza0RhdGEuY2FwdHVyZSA/IGdsb2JhbFpvbmVBd2FyZUNhcHR1cmVDYWxsYmFjayA6IGdsb2JhbFpvbmVBd2FyZUNhbGxiYWNrLCB0YXNrRGF0YS5vcHRpb25zKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY3VzdG9tQ2FuY2VsR2xvYmFsID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgICAgIC8vIGlmIHRhc2sgaXMgbm90IG1hcmtlZCBhcyBpc1JlbW92ZWQsIHRoaXMgY2FsbCBpcyBkaXJlY3RseVxuICAgICAgICAgICAgLy8gZnJvbSBab25lLnByb3RvdHlwZS5jYW5jZWxUYXNrLCB3ZSBzaG91bGQgcmVtb3ZlIHRoZSB0YXNrXG4gICAgICAgICAgICAvLyBmcm9tIHRhc2tzTGlzdCBvZiB0YXJnZXQgZmlyc3RcbiAgICAgICAgICAgIGlmICghdGFzay5pc1JlbW92ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzeW1ib2xFdmVudE5hbWVzID0gem9uZVN5bWJvbEV2ZW50TmFtZXNbdGFzay5ldmVudE5hbWVdO1xuICAgICAgICAgICAgICAgIGxldCBzeW1ib2xFdmVudE5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKHN5bWJvbEV2ZW50TmFtZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ltYm9sRXZlbnROYW1lID0gc3ltYm9sRXZlbnROYW1lc1t0YXNrLmNhcHR1cmUgPyBUUlVFX1NUUiA6IEZBTFNFX1NUUl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVGFza3MgPSBzeW1ib2xFdmVudE5hbWUgJiYgdGFzay50YXJnZXRbc3ltYm9sRXZlbnROYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdUYXNrcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV4aXN0aW5nVGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVGFzayA9IGV4aXN0aW5nVGFza3NbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdUYXNrID09PSB0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdUYXNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGlzUmVtb3ZlZCB0byBkYXRhIGZvciBmYXN0ZXIgaW52b2tlVGFzayBjaGVja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suaXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdUYXNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxsIHRhc2tzIGZvciB0aGUgZXZlbnROYW1lICsgY2FwdHVyZSBoYXZlIGdvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBnbG9iYWxab25lQXdhcmVDYWxsYmFjayBhbmQgcmVtb3ZlIHRoZSB0YXNrIGNhY2hlIGZyb20gdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suYWxsUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sudGFyZ2V0W3N5bWJvbEV2ZW50TmFtZV0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGFsbCB0YXNrcyBmb3IgdGhlIGV2ZW50TmFtZSArIGNhcHR1cmUgaGF2ZSBnb25lLFxuICAgICAgICAgICAgLy8gd2Ugd2lsbCByZWFsbHkgcmVtb3ZlIHRoZSBnbG9iYWwgZXZlbnQgY2FsbGJhY2ssXG4gICAgICAgICAgICAvLyBpZiBub3QsIHJldHVyblxuICAgICAgICAgICAgaWYgKCF0YXNrLmFsbFJlbW92ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlUmVtb3ZlRXZlbnRMaXN0ZW5lci5jYWxsKHRhc2sudGFyZ2V0LCB0YXNrLmV2ZW50TmFtZSwgdGFzay5jYXB0dXJlID8gZ2xvYmFsWm9uZUF3YXJlQ2FwdHVyZUNhbGxiYWNrIDogZ2xvYmFsWm9uZUF3YXJlQ2FsbGJhY2ssIHRhc2sub3B0aW9ucyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGN1c3RvbVNjaGVkdWxlTm9uR2xvYmFsID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVBZGRFdmVudExpc3RlbmVyLmNhbGwodGFza0RhdGEudGFyZ2V0LCB0YXNrRGF0YS5ldmVudE5hbWUsIHRhc2suaW52b2tlLCB0YXNrRGF0YS5vcHRpb25zKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY3VzdG9tU2NoZWR1bGVQcmVwZW5kID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgICAgIHJldHVybiBuYXRpdmVQcmVwZW5kRXZlbnRMaXN0ZW5lci5jYWxsKHRhc2tEYXRhLnRhcmdldCwgdGFza0RhdGEuZXZlbnROYW1lLCB0YXNrLmludm9rZSwgdGFza0RhdGEub3B0aW9ucyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGN1c3RvbUNhbmNlbE5vbkdsb2JhbCA9IGZ1bmN0aW9uICh0YXNrKSB7XG4gICAgICAgICAgICByZXR1cm4gbmF0aXZlUmVtb3ZlRXZlbnRMaXN0ZW5lci5jYWxsKHRhc2sudGFyZ2V0LCB0YXNrLmV2ZW50TmFtZSwgdGFzay5pbnZva2UsIHRhc2sub3B0aW9ucyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGN1c3RvbVNjaGVkdWxlID0gdXNlR2xvYmFsQ2FsbGJhY2sgPyBjdXN0b21TY2hlZHVsZUdsb2JhbCA6IGN1c3RvbVNjaGVkdWxlTm9uR2xvYmFsO1xuICAgICAgICBjb25zdCBjdXN0b21DYW5jZWwgPSB1c2VHbG9iYWxDYWxsYmFjayA/IGN1c3RvbUNhbmNlbEdsb2JhbCA6IGN1c3RvbUNhbmNlbE5vbkdsb2JhbDtcbiAgICAgICAgY29uc3QgY29tcGFyZVRhc2tDYWxsYmFja1ZzRGVsZWdhdGUgPSBmdW5jdGlvbiAodGFzaywgZGVsZWdhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVPZkRlbGVnYXRlID0gdHlwZW9mIGRlbGVnYXRlO1xuICAgICAgICAgICAgcmV0dXJuICh0eXBlT2ZEZWxlZ2F0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0YXNrLmNhbGxiYWNrID09PSBkZWxlZ2F0ZSkgfHxcbiAgICAgICAgICAgICAgICAodHlwZU9mRGVsZWdhdGUgPT09ICdvYmplY3QnICYmIHRhc2sub3JpZ2luYWxEZWxlZ2F0ZSA9PT0gZGVsZWdhdGUpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjb21wYXJlID0gKHBhdGNoT3B0aW9ucyAmJiBwYXRjaE9wdGlvbnMuZGlmZikgPyBwYXRjaE9wdGlvbnMuZGlmZiA6IGNvbXBhcmVUYXNrQ2FsbGJhY2tWc0RlbGVnYXRlO1xuICAgICAgICBjb25zdCB1bnBhdGNoZWRFdmVudHMgPSBab25lW3pvbmVTeW1ib2woJ1VOUEFUQ0hFRF9FVkVOVFMnKV07XG4gICAgICAgIGNvbnN0IHBhc3NpdmVFdmVudHMgPSBfZ2xvYmFsW3pvbmVTeW1ib2woJ1BBU1NJVkVfRVZFTlRTJyldO1xuICAgICAgICBjb25zdCBtYWtlQWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAobmF0aXZlTGlzdGVuZXIsIGFkZFNvdXJjZSwgY3VzdG9tU2NoZWR1bGVGbiwgY3VzdG9tQ2FuY2VsRm4sIHJldHVyblRhcmdldCA9IGZhbHNlLCBwcmVwZW5kID0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcyB8fCBfZ2xvYmFsO1xuICAgICAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoT3B0aW9ucyAmJiBwYXRjaE9wdGlvbnMudHJhbnNmZXJFdmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnROYW1lID0gcGF0Y2hPcHRpb25zLnRyYW5zZmVyRXZlbnROYW1lKGV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBkZWxlZ2F0ZSA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgICAgICBpZiAoIWRlbGVnYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuYXRpdmVMaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNOb2RlICYmIGV2ZW50TmFtZSA9PT0gJ3VuY2F1Z2h0RXhjZXB0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBwYXRjaCB1bmNhdWdodEV4Y2VwdGlvbiBvZiBub2RlanMgdG8gcHJldmVudCBlbmRsZXNzIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRvbid0IGNyZWF0ZSB0aGUgYmluZCBkZWxlZ2F0ZSBmdW5jdGlvbiBmb3IgaGFuZGxlRXZlbnRcbiAgICAgICAgICAgICAgICAvLyBjYXNlIGhlcmUgdG8gaW1wcm92ZSBhZGRFdmVudExpc3RlbmVyIHBlcmZvcm1hbmNlXG4gICAgICAgICAgICAgICAgLy8gd2Ugd2lsbCBjcmVhdGUgdGhlIGJpbmQgZGVsZWdhdGUgd2hlbiBpbnZva2VcbiAgICAgICAgICAgICAgICBsZXQgaXNIYW5kbGVFdmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVsZWdhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkZWxlZ2F0ZS5oYW5kbGVFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaXNIYW5kbGVFdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0ZUhhbmRsZXIgJiYgIXZhbGlkYXRlSGFuZGxlcihuYXRpdmVMaXN0ZW5lciwgZGVsZWdhdGUsIHRhcmdldCwgYXJndW1lbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBhc3NpdmUgPSBwYXNzaXZlU3VwcG9ydGVkICYmICEhcGFzc2l2ZUV2ZW50cyAmJiBwYXNzaXZlRXZlbnRzLmluZGV4T2YoZXZlbnROYW1lKSAhPT0gLTE7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGJ1aWxkRXZlbnRMaXN0ZW5lck9wdGlvbnMoYXJndW1lbnRzWzJdLCBwYXNzaXZlKTtcbiAgICAgICAgICAgICAgICBpZiAodW5wYXRjaGVkRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIHVucGF0Y2hlZCBsaXN0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdW5wYXRjaGVkRXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnROYW1lID09PSB1bnBhdGNoZWRFdmVudHNbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFzc2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlTGlzdGVuZXIuY2FsbCh0YXJnZXQsIGV2ZW50TmFtZSwgZGVsZWdhdGUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNhcHR1cmUgPSAhb3B0aW9ucyA/IGZhbHNlIDogdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IHRydWUgOiBvcHRpb25zLmNhcHR1cmU7XG4gICAgICAgICAgICAgICAgY29uc3Qgb25jZSA9IG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnID8gb3B0aW9ucy5vbmNlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3Qgem9uZSA9IFpvbmUuY3VycmVudDtcbiAgICAgICAgICAgICAgICBsZXQgc3ltYm9sRXZlbnROYW1lcyA9IHpvbmVTeW1ib2xFdmVudE5hbWVzW2V2ZW50TmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKCFzeW1ib2xFdmVudE5hbWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXBhcmVFdmVudE5hbWVzKGV2ZW50TmFtZSwgZXZlbnROYW1lVG9TdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICBzeW1ib2xFdmVudE5hbWVzID0gem9uZVN5bWJvbEV2ZW50TmFtZXNbZXZlbnROYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ltYm9sRXZlbnROYW1lID0gc3ltYm9sRXZlbnROYW1lc1tjYXB0dXJlID8gVFJVRV9TVFIgOiBGQUxTRV9TVFJdO1xuICAgICAgICAgICAgICAgIGxldCBleGlzdGluZ1Rhc2tzID0gdGFyZ2V0W3N5bWJvbEV2ZW50TmFtZV07XG4gICAgICAgICAgICAgICAgbGV0IGlzRXhpc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdUYXNrcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IGhhdmUgdGFzayByZWdpc3RlcmVkXG4gICAgICAgICAgICAgICAgICAgIGlzRXhpc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tEdXBsaWNhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhpc3RpbmdUYXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wYXJlKGV4aXN0aW5nVGFza3NbaV0sIGRlbGVnYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzYW1lIGNhbGxiYWNrLCBzYW1lIGNhcHR1cmUsIHNhbWUgZXZlbnQgbmFtZSwganVzdCByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdUYXNrcyA9IHRhcmdldFtzeW1ib2xFdmVudE5hbWVdID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBzb3VyY2U7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uc3RydWN0b3JOYW1lID0gdGFyZ2V0LmNvbnN0cnVjdG9yWyduYW1lJ107XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0U291cmNlID0gZ2xvYmFsU291cmNlc1tjb25zdHJ1Y3Rvck5hbWVdO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlID0gdGFyZ2V0U291cmNlW2V2ZW50TmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZSA9IGNvbnN0cnVjdG9yTmFtZSArIGFkZFNvdXJjZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAoZXZlbnROYW1lVG9TdHJpbmcgPyBldmVudE5hbWVUb1N0cmluZyhldmVudE5hbWUpIDogZXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG8gbm90IGNyZWF0ZSBhIG5ldyBvYmplY3QgYXMgdGFzay5kYXRhIHRvIHBhc3MgdGhvc2UgdGhpbmdzXG4gICAgICAgICAgICAgICAgLy8ganVzdCB1c2UgdGhlIGdsb2JhbCBzaGFyZWQgb25lXG4gICAgICAgICAgICAgICAgdGFza0RhdGEub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgaWYgKG9uY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgYWRkRXZlbnRMaXN0ZW5lciB3aXRoIG9uY2Ugb3B0aW9ucywgd2UgZG9uJ3QgcGFzcyBpdCB0b1xuICAgICAgICAgICAgICAgICAgICAvLyBuYXRpdmUgYWRkRXZlbnRMaXN0ZW5lciwgaW5zdGVhZCB3ZSBrZWVwIHRoZSBvbmNlIHNldHRpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGhhbmRsZSBvdXJzZWx2ZXMuXG4gICAgICAgICAgICAgICAgICAgIHRhc2tEYXRhLm9wdGlvbnMub25jZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0YXNrRGF0YS50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgdGFza0RhdGEuY2FwdHVyZSA9IGNhcHR1cmU7XG4gICAgICAgICAgICAgICAgdGFza0RhdGEuZXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgICAgICAgICAgICAgIHRhc2tEYXRhLmlzRXhpc3RpbmcgPSBpc0V4aXN0aW5nO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB1c2VHbG9iYWxDYWxsYmFjayA/IE9QVElNSVpFRF9aT05FX0VWRU5UX1RBU0tfREFUQSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAvLyBrZWVwIHRhc2tEYXRhIGludG8gZGF0YSB0byBhbGxvdyBvblNjaGVkdWxlRXZlbnRUYXNrIHRvIGFjY2VzcyB0aGUgdGFzayBpbmZvcm1hdGlvblxuICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudGFza0RhdGEgPSB0YXNrRGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IHpvbmUuc2NoZWR1bGVFdmVudFRhc2soc291cmNlLCBkZWxlZ2F0ZSwgZGF0YSwgY3VzdG9tU2NoZWR1bGVGbiwgY3VzdG9tQ2FuY2VsRm4pO1xuICAgICAgICAgICAgICAgIC8vIHNob3VsZCBjbGVhciB0YXNrRGF0YS50YXJnZXQgdG8gYXZvaWQgbWVtb3J5IGxlYWtcbiAgICAgICAgICAgICAgICAvLyBpc3N1ZSwgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMjA0NDJcbiAgICAgICAgICAgICAgICB0YXNrRGF0YS50YXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gY2xlYXIgdXAgdGFza0RhdGEgYmVjYXVzZSBpdCBpcyBhIGdsb2JhbCBvYmplY3RcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnRhc2tEYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaGF2ZSB0byBzYXZlIHRob3NlIGluZm9ybWF0aW9uIHRvIHRhc2sgaW4gY2FzZVxuICAgICAgICAgICAgICAgIC8vIGFwcGxpY2F0aW9uIG1heSBjYWxsIHRhc2suem9uZS5jYW5jZWxUYXNrKCkgZGlyZWN0bHlcbiAgICAgICAgICAgICAgICBpZiAob25jZSkge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISghcGFzc2l2ZVN1cHBvcnRlZCAmJiB0eXBlb2YgdGFzay5vcHRpb25zID09PSAnYm9vbGVhbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIG5vdCBzdXBwb3J0IHBhc3NpdmUsIGFuZCB3ZSBwYXNzIGFuIG9wdGlvbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gYWRkRXZlbnRMaXN0ZW5lciwgd2Ugc2hvdWxkIHNhdmUgdGhlIG9wdGlvbnMgdG8gdGFza1xuICAgICAgICAgICAgICAgICAgICB0YXNrLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0YXNrLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICB0YXNrLmNhcHR1cmUgPSBjYXB0dXJlO1xuICAgICAgICAgICAgICAgIHRhc2suZXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgICAgICAgICAgICAgIGlmIChpc0hhbmRsZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNhdmUgb3JpZ2luYWwgZGVsZWdhdGUgZm9yIGNvbXBhcmUgdG8gY2hlY2sgZHVwbGljYXRlXG4gICAgICAgICAgICAgICAgICAgIHRhc2sub3JpZ2luYWxEZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXByZXBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdUYXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdUYXNrcy51bnNoaWZ0KHRhc2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmV0dXJuVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgcHJvdG9bQUREX0VWRU5UX0xJU1RFTkVSXSA9IG1ha2VBZGRMaXN0ZW5lcihuYXRpdmVBZGRFdmVudExpc3RlbmVyLCBBRERfRVZFTlRfTElTVEVORVJfU09VUkNFLCBjdXN0b21TY2hlZHVsZSwgY3VzdG9tQ2FuY2VsLCByZXR1cm5UYXJnZXQpO1xuICAgICAgICBpZiAobmF0aXZlUHJlcGVuZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHByb3RvW1BSRVBFTkRfRVZFTlRfTElTVEVORVJdID0gbWFrZUFkZExpc3RlbmVyKG5hdGl2ZVByZXBlbmRFdmVudExpc3RlbmVyLCBQUkVQRU5EX0VWRU5UX0xJU1RFTkVSX1NPVVJDRSwgY3VzdG9tU2NoZWR1bGVQcmVwZW5kLCBjdXN0b21DYW5jZWwsIHJldHVyblRhcmdldCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvdG9bUkVNT1ZFX0VWRU5UX0xJU1RFTkVSXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMgfHwgX2dsb2JhbDtcbiAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICBpZiAocGF0Y2hPcHRpb25zICYmIHBhdGNoT3B0aW9ucy50cmFuc2ZlckV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IHBhdGNoT3B0aW9ucy50cmFuc2ZlckV2ZW50TmFtZShldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIGNvbnN0IGNhcHR1cmUgPSAhb3B0aW9ucyA/IGZhbHNlIDogdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IHRydWUgOiBvcHRpb25zLmNhcHR1cmU7XG4gICAgICAgICAgICBjb25zdCBkZWxlZ2F0ZSA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIGlmICghZGVsZWdhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlUmVtb3ZlRXZlbnRMaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbGlkYXRlSGFuZGxlciAmJlxuICAgICAgICAgICAgICAgICF2YWxpZGF0ZUhhbmRsZXIobmF0aXZlUmVtb3ZlRXZlbnRMaXN0ZW5lciwgZGVsZWdhdGUsIHRhcmdldCwgYXJndW1lbnRzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN5bWJvbEV2ZW50TmFtZXMgPSB6b25lU3ltYm9sRXZlbnROYW1lc1tldmVudE5hbWVdO1xuICAgICAgICAgICAgbGV0IHN5bWJvbEV2ZW50TmFtZTtcbiAgICAgICAgICAgIGlmIChzeW1ib2xFdmVudE5hbWVzKSB7XG4gICAgICAgICAgICAgICAgc3ltYm9sRXZlbnROYW1lID0gc3ltYm9sRXZlbnROYW1lc1tjYXB0dXJlID8gVFJVRV9TVFIgOiBGQUxTRV9TVFJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdUYXNrcyA9IHN5bWJvbEV2ZW50TmFtZSAmJiB0YXJnZXRbc3ltYm9sRXZlbnROYW1lXTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ1Rhc2tzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleGlzdGluZ1Rhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVGFzayA9IGV4aXN0aW5nVGFza3NbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wYXJlKGV4aXN0aW5nVGFzaywgZGVsZWdhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1Rhc2tzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCBpc1JlbW92ZWQgdG8gZGF0YSBmb3IgZmFzdGVyIGludm9rZVRhc2sgY2hlY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nVGFzay5pc1JlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nVGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxsIHRhc2tzIGZvciB0aGUgZXZlbnROYW1lICsgY2FwdHVyZSBoYXZlIGdvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGdsb2JhbFpvbmVBd2FyZUNhbGxiYWNrIGFuZCByZW1vdmUgdGhlIHRhc2sgY2FjaGUgZnJvbSB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ1Rhc2suYWxsUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W3N5bWJvbEV2ZW50TmFtZV0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluIHRoZSB0YXJnZXQsIHdlIGhhdmUgYW4gZXZlbnQgbGlzdGVuZXIgd2hpY2ggaXMgYWRkZWQgYnkgb25fcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdWNoIGFzIHRhcmdldC5vbmNsaWNrID0gZnVuY3Rpb24oKSB7fSwgc28gd2UgbmVlZCB0byBjbGVhciB0aGlzIGludGVybmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvcGVydHkgdG9vIGlmIGFsbCBkZWxlZ2F0ZXMgYWxsIHJlbW92ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50TmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb25Qcm9wZXJ0eVN5bWJvbCA9IFpPTkVfU1lNQk9MX1BSRUZJWCArICdPTl9QUk9QRVJUWScgKyBldmVudE5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtvblByb3BlcnR5U3ltYm9sXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdUYXNrLnpvbmUuY2FuY2VsVGFzayhleGlzdGluZ1Rhc2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVyblRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpc3N1ZSA5MzAsIGRpZG4ndCBmaW5kIHRoZSBldmVudCBuYW1lIG9yIGNhbGxiYWNrXG4gICAgICAgICAgICAvLyBmcm9tIHpvbmUga2VwdCBleGlzdGluZ1Rhc2tzLCB0aGUgY2FsbGJhY2sgbWF5YmVcbiAgICAgICAgICAgIC8vIGFkZGVkIG91dHNpZGUgb2Ygem9uZSwgd2UgbmVlZCB0byBjYWxsIG5hdGl2ZSByZW1vdmVFdmVudExpc3RlbmVyXG4gICAgICAgICAgICAvLyB0byB0cnkgdG8gcmVtb3ZlIGl0LlxuICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZVJlbW92ZUV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICAgICAgcHJvdG9bTElTVEVORVJTX0VWRU5UX0xJU1RFTkVSXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMgfHwgX2dsb2JhbDtcbiAgICAgICAgICAgIGxldCBldmVudE5hbWUgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICBpZiAocGF0Y2hPcHRpb25zICYmIHBhdGNoT3B0aW9ucy50cmFuc2ZlckV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IHBhdGNoT3B0aW9ucy50cmFuc2ZlckV2ZW50TmFtZShldmVudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gW107XG4gICAgICAgICAgICBjb25zdCB0YXNrcyA9IGZpbmRFdmVudFRhc2tzKHRhcmdldCwgZXZlbnROYW1lVG9TdHJpbmcgPyBldmVudE5hbWVUb1N0cmluZyhldmVudE5hbWUpIDogZXZlbnROYW1lKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gdGFza3NbaV07XG4gICAgICAgICAgICAgICAgbGV0IGRlbGVnYXRlID0gdGFzay5vcmlnaW5hbERlbGVnYXRlID8gdGFzay5vcmlnaW5hbERlbGVnYXRlIDogdGFzay5jYWxsYmFjaztcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChkZWxlZ2F0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGlzdGVuZXJzO1xuICAgICAgICB9O1xuICAgICAgICBwcm90b1tSRU1PVkVfQUxMX0xJU1RFTkVSU19FVkVOVF9MSVNURU5FUl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzIHx8IF9nbG9iYWw7XG4gICAgICAgICAgICBsZXQgZXZlbnROYW1lID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgaWYgKCFldmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcCA9IGtleXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gRVZFTlRfTkFNRV9TWU1CT0xfUkVHWC5leGVjKHByb3ApO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZXZ0TmFtZSA9IG1hdGNoICYmIG1hdGNoWzFdO1xuICAgICAgICAgICAgICAgICAgICAvLyBpbiBub2RlanMgRXZlbnRFbWl0dGVyLCByZW1vdmVMaXN0ZW5lciBldmVudCBpc1xuICAgICAgICAgICAgICAgICAgICAvLyB1c2VkIGZvciBtb25pdG9yaW5nIHRoZSByZW1vdmVMaXN0ZW5lciBjYWxsLFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyBqdXN0IGtlZXAgcmVtb3ZlTGlzdGVuZXIgZXZlbnRMaXN0ZW5lciB1bnRpbFxuICAgICAgICAgICAgICAgICAgICAvLyBhbGwgb3RoZXIgZXZlbnRMaXN0ZW5lcnMgYXJlIHJlbW92ZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2dE5hbWUgJiYgZXZ0TmFtZSAhPT0gJ3JlbW92ZUxpc3RlbmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1tSRU1PVkVfQUxMX0xJU1RFTkVSU19FVkVOVF9MSVNURU5FUl0uY2FsbCh0aGlzLCBldnROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgcmVtb3ZlTGlzdGVuZXIgbGlzdGVuZXIgZmluYWxseVxuICAgICAgICAgICAgICAgIHRoaXNbUkVNT1ZFX0FMTF9MSVNURU5FUlNfRVZFTlRfTElTVEVORVJdLmNhbGwodGhpcywgJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hPcHRpb25zICYmIHBhdGNoT3B0aW9ucy50cmFuc2ZlckV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudE5hbWUgPSBwYXRjaE9wdGlvbnMudHJhbnNmZXJFdmVudE5hbWUoZXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ltYm9sRXZlbnROYW1lcyA9IHpvbmVTeW1ib2xFdmVudE5hbWVzW2V2ZW50TmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHN5bWJvbEV2ZW50TmFtZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ltYm9sRXZlbnROYW1lID0gc3ltYm9sRXZlbnROYW1lc1tGQUxTRV9TVFJdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzeW1ib2xDYXB0dXJlRXZlbnROYW1lID0gc3ltYm9sRXZlbnROYW1lc1tUUlVFX1NUUl07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tzID0gdGFyZ2V0W3N5bWJvbEV2ZW50TmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcHR1cmVUYXNrcyA9IHRhcmdldFtzeW1ib2xDYXB0dXJlRXZlbnROYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2tzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVUYXNrcyA9IHRhc2tzLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbW92ZVRhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IHJlbW92ZVRhc2tzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWxlZ2F0ZSA9IHRhc2sub3JpZ2luYWxEZWxlZ2F0ZSA/IHRhc2sub3JpZ2luYWxEZWxlZ2F0ZSA6IHRhc2suY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1tSRU1PVkVfRVZFTlRfTElTVEVORVJdLmNhbGwodGhpcywgZXZlbnROYW1lLCBkZWxlZ2F0ZSwgdGFzay5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FwdHVyZVRhc2tzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1vdmVUYXNrcyA9IGNhcHR1cmVUYXNrcy5zbGljZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW1vdmVUYXNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSByZW1vdmVUYXNrc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVsZWdhdGUgPSB0YXNrLm9yaWdpbmFsRGVsZWdhdGUgPyB0YXNrLm9yaWdpbmFsRGVsZWdhdGUgOiB0YXNrLmNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbUkVNT1ZFX0VWRU5UX0xJU1RFTkVSXS5jYWxsKHRoaXMsIGV2ZW50TmFtZSwgZGVsZWdhdGUsIHRhc2sub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmV0dXJuVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIGZvciBuYXRpdmUgdG9TdHJpbmcgcGF0Y2hcbiAgICAgICAgYXR0YWNoT3JpZ2luVG9QYXRjaGVkKHByb3RvW0FERF9FVkVOVF9MSVNURU5FUl0sIG5hdGl2ZUFkZEV2ZW50TGlzdGVuZXIpO1xuICAgICAgICBhdHRhY2hPcmlnaW5Ub1BhdGNoZWQocHJvdG9bUkVNT1ZFX0VWRU5UX0xJU1RFTkVSXSwgbmF0aXZlUmVtb3ZlRXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIGlmIChuYXRpdmVSZW1vdmVBbGxMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGF0dGFjaE9yaWdpblRvUGF0Y2hlZChwcm90b1tSRU1PVkVfQUxMX0xJU1RFTkVSU19FVkVOVF9MSVNURU5FUl0sIG5hdGl2ZVJlbW92ZUFsbExpc3RlbmVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hdGl2ZUxpc3RlbmVycykge1xuICAgICAgICAgICAgYXR0YWNoT3JpZ2luVG9QYXRjaGVkKHByb3RvW0xJU1RFTkVSU19FVkVOVF9MSVNURU5FUl0sIG5hdGl2ZUxpc3RlbmVycyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCByZXN1bHRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdHNbaV0gPSBwYXRjaEV2ZW50VGFyZ2V0TWV0aG9kcyhhcGlzW2ldLCBwYXRjaE9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbn1cbmZ1bmN0aW9uIGZpbmRFdmVudFRhc2tzKHRhcmdldCwgZXZlbnROYW1lKSB7XG4gICAgaWYgKCFldmVudE5hbWUpIHtcbiAgICAgICAgY29uc3QgZm91bmRUYXNrcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIHRhcmdldCkge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBFVkVOVF9OQU1FX1NZTUJPTF9SRUdYLmV4ZWMocHJvcCk7XG4gICAgICAgICAgICBsZXQgZXZ0TmFtZSA9IG1hdGNoICYmIG1hdGNoWzFdO1xuICAgICAgICAgICAgaWYgKGV2dE5hbWUgJiYgKCFldmVudE5hbWUgfHwgZXZ0TmFtZSA9PT0gZXZlbnROYW1lKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tzID0gdGFyZ2V0W3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmICh0YXNrcykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3VuZFRhc2tzLnB1c2godGFza3NbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3VuZFRhc2tzO1xuICAgIH1cbiAgICBsZXQgc3ltYm9sRXZlbnROYW1lID0gem9uZVN5bWJvbEV2ZW50TmFtZXNbZXZlbnROYW1lXTtcbiAgICBpZiAoIXN5bWJvbEV2ZW50TmFtZSkge1xuICAgICAgICBwcmVwYXJlRXZlbnROYW1lcyhldmVudE5hbWUpO1xuICAgICAgICBzeW1ib2xFdmVudE5hbWUgPSB6b25lU3ltYm9sRXZlbnROYW1lc1tldmVudE5hbWVdO1xuICAgIH1cbiAgICBjb25zdCBjYXB0dXJlRmFsc2VUYXNrcyA9IHRhcmdldFtzeW1ib2xFdmVudE5hbWVbRkFMU0VfU1RSXV07XG4gICAgY29uc3QgY2FwdHVyZVRydWVUYXNrcyA9IHRhcmdldFtzeW1ib2xFdmVudE5hbWVbVFJVRV9TVFJdXTtcbiAgICBpZiAoIWNhcHR1cmVGYWxzZVRhc2tzKSB7XG4gICAgICAgIHJldHVybiBjYXB0dXJlVHJ1ZVRhc2tzID8gY2FwdHVyZVRydWVUYXNrcy5zbGljZSgpIDogW107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY2FwdHVyZVRydWVUYXNrcyA/IGNhcHR1cmVGYWxzZVRhc2tzLmNvbmNhdChjYXB0dXJlVHJ1ZVRhc2tzKSA6XG4gICAgICAgICAgICBjYXB0dXJlRmFsc2VUYXNrcy5zbGljZSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhdGNoRXZlbnRQcm90b3R5cGUoZ2xvYmFsLCBhcGkpIHtcbiAgICBjb25zdCBFdmVudCA9IGdsb2JhbFsnRXZlbnQnXTtcbiAgICBpZiAoRXZlbnQgJiYgRXZlbnQucHJvdG90eXBlKSB7XG4gICAgICAgIGFwaS5wYXRjaE1ldGhvZChFdmVudC5wcm90b3R5cGUsICdzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24nLCAoZGVsZWdhdGUpID0+IGZ1bmN0aW9uIChzZWxmLCBhcmdzKSB7XG4gICAgICAgICAgICBzZWxmW0lNTUVESUFURV9QUk9QQUdBVElPTl9TWU1CT0xdID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gY2FsbCB0aGUgbmF0aXZlIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvblxuICAgICAgICAgICAgLy8gaW4gY2FzZSBpbiBzb21lIGh5YnJpZCBhcHBsaWNhdGlvbiwgc29tZSBwYXJ0IG9mXG4gICAgICAgICAgICAvLyBhcHBsaWNhdGlvbiB3aWxsIGJlIGNvbnRyb2xsZWQgYnkgem9uZSwgc29tZSBhcmUgbm90XG4gICAgICAgICAgICBkZWxlZ2F0ZSAmJiBkZWxlZ2F0ZS5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmZ1bmN0aW9uIHBhdGNoQ2FsbGJhY2tzKGFwaSwgdGFyZ2V0LCB0YXJnZXROYW1lLCBtZXRob2QsIGNhbGxiYWNrcykge1xuICAgIGNvbnN0IHN5bWJvbCA9IFpvbmUuX19zeW1ib2xfXyhtZXRob2QpO1xuICAgIGlmICh0YXJnZXRbc3ltYm9sXSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5hdGl2ZURlbGVnYXRlID0gdGFyZ2V0W3N5bWJvbF0gPSB0YXJnZXRbbWV0aG9kXTtcbiAgICB0YXJnZXRbbWV0aG9kXSA9IGZ1bmN0aW9uIChuYW1lLCBvcHRzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRzICYmIG9wdHMucHJvdG90eXBlKSB7XG4gICAgICAgICAgICBjYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBgJHt0YXJnZXROYW1lfS4ke21ldGhvZH06OmAgKyBjYWxsYmFjaztcbiAgICAgICAgICAgICAgICBjb25zdCBwcm90b3R5cGUgPSBvcHRzLnByb3RvdHlwZTtcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiB0aGUgYHBhdGNoQ2FsbGJhY2tzYCBpcyB1c2VkIGZvciBwYXRjaGluZyB0aGUgYGRvY3VtZW50LnJlZ2lzdGVyRWxlbWVudGAgYW5kXG4gICAgICAgICAgICAgICAgLy8gYGN1c3RvbUVsZW1lbnRzLmRlZmluZWAuIFdlIGV4cGxpY2l0bHkgd3JhcCB0aGUgcGF0Y2hpbmcgY29kZSBpbnRvIHRyeS1jYXRjaCBzaW5jZVxuICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrcyBtYXkgYmUgYWxyZWFkeSBwYXRjaGVkIGJ5IG90aGVyIHdlYiBjb21wb25lbnRzIGZyYW1ld29ya3MgKGUuZy4gTFdDKSwgYW5kIHRoZXlcbiAgICAgICAgICAgICAgICAvLyBtYWtlIHRob3NlIHByb3BlcnRpZXMgbm9uLXdyaXRhYmxlLiBUaGlzIG1lYW5zIHRoYXQgcGF0Y2hpbmcgY2FsbGJhY2sgd2lsbCB0aHJvdyBhbiBlcnJvclxuICAgICAgICAgICAgICAgIC8vIGBjYW5ub3QgYXNzaWduIHRvIHJlYWQtb25seSBwcm9wZXJ0eWAuIFNlZSB0aGlzIGNvZGUgYXMgYW4gZXhhbXBsZTpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc2FsZXNmb3JjZS9sd2MvYmxvYi9tYXN0ZXIvcGFja2FnZXMvQGx3Yy9lbmdpbmUtY29yZS9zcmMvZnJhbWV3b3JrL2Jhc2UtYnJpZGdlLWVsZW1lbnQudHMjTDE4MC1MMTg2XG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBzdG9wIHRoZSBhcHBsaWNhdGlvbiByZW5kZXJpbmcgaWYgd2UgY291bGRuJ3QgcGF0Y2ggc29tZVxuICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrLCBlLmcuIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgLlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm90b3R5cGUuaGFzT3duUHJvcGVydHkoY2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gYXBpLk9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90b3R5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXNjcmlwdG9yICYmIGRlc2NyaXB0b3IudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gYXBpLndyYXBXaXRoQ3VycmVudFpvbmUoZGVzY3JpcHRvci52YWx1ZSwgc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGkuX3JlZGVmaW5lUHJvcGVydHkob3B0cy5wcm90b3R5cGUsIGNhbGxiYWNrLCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3RvdHlwZVtjYWxsYmFja10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm90b3R5cGVbY2FsbGJhY2tdID0gYXBpLndyYXBXaXRoQ3VycmVudFpvbmUocHJvdG90eXBlW2NhbGxiYWNrXSwgc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm90b3R5cGVbY2FsbGJhY2tdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm90b3R5cGVbY2FsbGJhY2tdID0gYXBpLndyYXBXaXRoQ3VycmVudFpvbmUocHJvdG90eXBlW2NhbGxiYWNrXSwgc291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogd2UgbGVhdmUgdGhlIGNhdGNoIGJsb2NrIGVtcHR5IHNpbmNlIHRoZXJlJ3Mgbm8gd2F5IHRvIGhhbmRsZSB0aGUgZXJyb3IgcmVsYXRlZFxuICAgICAgICAgICAgICAgICAgICAvLyB0byBub24td3JpdGFibGUgcHJvcGVydHkuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5hdGl2ZURlbGVnYXRlLmNhbGwodGFyZ2V0LCBuYW1lLCBvcHRzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIGFwaS5hdHRhY2hPcmlnaW5Ub1BhdGNoZWQodGFyZ2V0W21ldGhvZF0sIG5hdGl2ZURlbGVnYXRlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEdvb2dsZSBMTEMgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2FuZ3VsYXIuaW8vbGljZW5zZVxuICovXG5mdW5jdGlvbiBmaWx0ZXJQcm9wZXJ0aWVzKHRhcmdldCwgb25Qcm9wZXJ0aWVzLCBpZ25vcmVQcm9wZXJ0aWVzKSB7XG4gICAgaWYgKCFpZ25vcmVQcm9wZXJ0aWVzIHx8IGlnbm9yZVByb3BlcnRpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBvblByb3BlcnRpZXM7XG4gICAgfVxuICAgIGNvbnN0IHRpcCA9IGlnbm9yZVByb3BlcnRpZXMuZmlsdGVyKGlwID0+IGlwLnRhcmdldCA9PT0gdGFyZ2V0KTtcbiAgICBpZiAoIXRpcCB8fCB0aXAubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBvblByb3BlcnRpZXM7XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldElnbm9yZVByb3BlcnRpZXMgPSB0aXBbMF0uaWdub3JlUHJvcGVydGllcztcbiAgICByZXR1cm4gb25Qcm9wZXJ0aWVzLmZpbHRlcihvcCA9PiB0YXJnZXRJZ25vcmVQcm9wZXJ0aWVzLmluZGV4T2Yob3ApID09PSAtMSk7XG59XG5mdW5jdGlvbiBwYXRjaEZpbHRlcmVkUHJvcGVydGllcyh0YXJnZXQsIG9uUHJvcGVydGllcywgaWdub3JlUHJvcGVydGllcywgcHJvdG90eXBlKSB7XG4gICAgLy8gY2hlY2sgd2hldGhlciB0YXJnZXQgaXMgYXZhaWxhYmxlLCBzb21ldGltZXMgdGFyZ2V0IHdpbGwgYmUgdW5kZWZpbmVkXG4gICAgLy8gYmVjYXVzZSBkaWZmZXJlbnQgYnJvd3NlciBvciBzb21lIDNyZCBwYXJ0eSBwbHVnaW4uXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaWx0ZXJlZFByb3BlcnRpZXMgPSBmaWx0ZXJQcm9wZXJ0aWVzKHRhcmdldCwgb25Qcm9wZXJ0aWVzLCBpZ25vcmVQcm9wZXJ0aWVzKTtcbiAgICBwYXRjaE9uUHJvcGVydGllcyh0YXJnZXQsIGZpbHRlcmVkUHJvcGVydGllcywgcHJvdG90eXBlKTtcbn1cbi8qKlxuICogR2V0IGFsbCBldmVudCBuYW1lIHByb3BlcnRpZXMgd2hpY2ggdGhlIGV2ZW50IG5hbWUgc3RhcnRzV2l0aCBgb25gXG4gKiBmcm9tIHRoZSB0YXJnZXQgb2JqZWN0IGl0c2VsZiwgaW5oZXJpdGVkIHByb3BlcnRpZXMgYXJlIG5vdCBjb25zaWRlcmVkLlxuICovXG5mdW5jdGlvbiBnZXRPbkV2ZW50TmFtZXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldClcbiAgICAgICAgLmZpbHRlcihuYW1lID0+IG5hbWUuc3RhcnRzV2l0aCgnb24nKSAmJiBuYW1lLmxlbmd0aCA+IDIpXG4gICAgICAgIC5tYXAobmFtZSA9PiBuYW1lLnN1YnN0cmluZygyKSk7XG59XG5mdW5jdGlvbiBwcm9wZXJ0eURlc2NyaXB0b3JQYXRjaChhcGksIF9nbG9iYWwpIHtcbiAgICBpZiAoaXNOb2RlICYmICFpc01peCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChab25lW2FwaS5zeW1ib2woJ3BhdGNoRXZlbnRzJyldKSB7XG4gICAgICAgIC8vIGV2ZW50cyBhcmUgYWxyZWFkeSBiZWVuIHBhdGNoZWQgYnkgbGVnYWN5IHBhdGNoLlxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGlnbm9yZVByb3BlcnRpZXMgPSBfZ2xvYmFsWydfX1pvbmVfaWdub3JlX29uX3Byb3BlcnRpZXMnXTtcbiAgICAvLyBmb3IgYnJvd3NlcnMgdGhhdCB3ZSBjYW4gcGF0Y2ggdGhlIGRlc2NyaXB0b3I6ICBDaHJvbWUgJiBGaXJlZm94XG4gICAgbGV0IHBhdGNoVGFyZ2V0cyA9IFtdO1xuICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxXaW5kb3cgPSB3aW5kb3c7XG4gICAgICAgIHBhdGNoVGFyZ2V0cyA9IHBhdGNoVGFyZ2V0cy5jb25jYXQoW1xuICAgICAgICAgICAgJ0RvY3VtZW50JywgJ1NWR0VsZW1lbnQnLCAnRWxlbWVudCcsICdIVE1MRWxlbWVudCcsICdIVE1MQm9keUVsZW1lbnQnLCAnSFRNTE1lZGlhRWxlbWVudCcsXG4gICAgICAgICAgICAnSFRNTEZyYW1lU2V0RWxlbWVudCcsICdIVE1MRnJhbWVFbGVtZW50JywgJ0hUTUxJRnJhbWVFbGVtZW50JywgJ0hUTUxNYXJxdWVlRWxlbWVudCcsICdXb3JrZXInXG4gICAgICAgIF0pO1xuICAgICAgICBjb25zdCBpZ25vcmVFcnJvclByb3BlcnRpZXMgPSBpc0lFKCkgPyBbeyB0YXJnZXQ6IGludGVybmFsV2luZG93LCBpZ25vcmVQcm9wZXJ0aWVzOiBbJ2Vycm9yJ10gfV0gOiBbXTtcbiAgICAgICAgLy8gaW4gSUUvRWRnZSwgb25Qcm9wIG5vdCBleGlzdCBpbiB3aW5kb3cgb2JqZWN0LCBidXQgaW4gV2luZG93UHJvdG90eXBlXG4gICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gcGFzcyBXaW5kb3dQcm90b3R5cGUgdG8gY2hlY2sgb25Qcm9wIGV4aXN0IG9yIG5vdFxuICAgICAgICBwYXRjaEZpbHRlcmVkUHJvcGVydGllcyhpbnRlcm5hbFdpbmRvdywgZ2V0T25FdmVudE5hbWVzKGludGVybmFsV2luZG93KSwgaWdub3JlUHJvcGVydGllcyA/IGlnbm9yZVByb3BlcnRpZXMuY29uY2F0KGlnbm9yZUVycm9yUHJvcGVydGllcykgOiBpZ25vcmVQcm9wZXJ0aWVzLCBPYmplY3RHZXRQcm90b3R5cGVPZihpbnRlcm5hbFdpbmRvdykpO1xuICAgIH1cbiAgICBwYXRjaFRhcmdldHMgPSBwYXRjaFRhcmdldHMuY29uY2F0KFtcbiAgICAgICAgJ1hNTEh0dHBSZXF1ZXN0JywgJ1hNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQnLCAnSURCSW5kZXgnLCAnSURCUmVxdWVzdCcsICdJREJPcGVuREJSZXF1ZXN0JyxcbiAgICAgICAgJ0lEQkRhdGFiYXNlJywgJ0lEQlRyYW5zYWN0aW9uJywgJ0lEQkN1cnNvcicsICdXZWJTb2NrZXQnXG4gICAgXSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRjaFRhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gX2dsb2JhbFtwYXRjaFRhcmdldHNbaV1dO1xuICAgICAgICB0YXJnZXQgJiYgdGFyZ2V0LnByb3RvdHlwZSAmJlxuICAgICAgICAgICAgcGF0Y2hGaWx0ZXJlZFByb3BlcnRpZXModGFyZ2V0LnByb3RvdHlwZSwgZ2V0T25FdmVudE5hbWVzKHRhcmdldC5wcm90b3R5cGUpLCBpZ25vcmVQcm9wZXJ0aWVzKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuWm9uZS5fX2xvYWRfcGF0Y2goJ3V0aWwnLCAoZ2xvYmFsLCBab25lLCBhcGkpID0+IHtcbiAgICAvLyBDb2xsZWN0IG5hdGl2ZSBldmVudCBuYW1lcyBieSBsb29raW5nIGF0IHByb3BlcnRpZXNcbiAgICAvLyBvbiB0aGUgZ2xvYmFsIG5hbWVzcGFjZSwgZS5nLiAnb25jbGljaycuXG4gICAgY29uc3QgZXZlbnROYW1lcyA9IGdldE9uRXZlbnROYW1lcyhnbG9iYWwpO1xuICAgIGFwaS5wYXRjaE9uUHJvcGVydGllcyA9IHBhdGNoT25Qcm9wZXJ0aWVzO1xuICAgIGFwaS5wYXRjaE1ldGhvZCA9IHBhdGNoTWV0aG9kO1xuICAgIGFwaS5iaW5kQXJndW1lbnRzID0gYmluZEFyZ3VtZW50cztcbiAgICBhcGkucGF0Y2hNYWNyb1Rhc2sgPSBwYXRjaE1hY3JvVGFzaztcbiAgICAvLyBJbiBlYXJsaWVyIHZlcnNpb24gb2Ygem9uZS5qcyAoPDAuOS4wKSwgd2UgdXNlIGVudiBuYW1lIGBfX3pvbmVfc3ltYm9sX19CTEFDS19MSVNURURfRVZFTlRTYCB0b1xuICAgIC8vIGRlZmluZSB3aGljaCBldmVudHMgd2lsbCBub3QgYmUgcGF0Y2hlZCBieSBgWm9uZS5qc2AuXG4gICAgLy8gSW4gbmV3ZXIgdmVyc2lvbiAoPj0wLjkuMCksIHdlIGNoYW5nZSB0aGUgZW52IG5hbWUgdG8gYF9fem9uZV9zeW1ib2xfX1VOUEFUQ0hFRF9FVkVOVFNgIHRvIGtlZXBcbiAgICAvLyB0aGUgbmFtZSBjb25zaXN0ZW50IHdpdGggYW5ndWxhciByZXBvLlxuICAgIC8vIFRoZSAgYF9fem9uZV9zeW1ib2xfX0JMQUNLX0xJU1RFRF9FVkVOVFNgIGlzIGRlcHJlY2F0ZWQsIGJ1dCBpdCBpcyBzdGlsbCBiZSBzdXBwb3J0ZWQgZm9yXG4gICAgLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4gICAgY29uc3QgU1lNQk9MX0JMQUNLX0xJU1RFRF9FVkVOVFMgPSBab25lLl9fc3ltYm9sX18oJ0JMQUNLX0xJU1RFRF9FVkVOVFMnKTtcbiAgICBjb25zdCBTWU1CT0xfVU5QQVRDSEVEX0VWRU5UUyA9IFpvbmUuX19zeW1ib2xfXygnVU5QQVRDSEVEX0VWRU5UUycpO1xuICAgIGlmIChnbG9iYWxbU1lNQk9MX1VOUEFUQ0hFRF9FVkVOVFNdKSB7XG4gICAgICAgIGdsb2JhbFtTWU1CT0xfQkxBQ0tfTElTVEVEX0VWRU5UU10gPSBnbG9iYWxbU1lNQk9MX1VOUEFUQ0hFRF9FVkVOVFNdO1xuICAgIH1cbiAgICBpZiAoZ2xvYmFsW1NZTUJPTF9CTEFDS19MSVNURURfRVZFTlRTXSkge1xuICAgICAgICBab25lW1NZTUJPTF9CTEFDS19MSVNURURfRVZFTlRTXSA9IFpvbmVbU1lNQk9MX1VOUEFUQ0hFRF9FVkVOVFNdID1cbiAgICAgICAgICAgIGdsb2JhbFtTWU1CT0xfQkxBQ0tfTElTVEVEX0VWRU5UU107XG4gICAgfVxuICAgIGFwaS5wYXRjaEV2ZW50UHJvdG90eXBlID0gcGF0Y2hFdmVudFByb3RvdHlwZTtcbiAgICBhcGkucGF0Y2hFdmVudFRhcmdldCA9IHBhdGNoRXZlbnRUYXJnZXQ7XG4gICAgYXBpLmlzSUVPckVkZ2UgPSBpc0lFT3JFZGdlO1xuICAgIGFwaS5PYmplY3REZWZpbmVQcm9wZXJ0eSA9IE9iamVjdERlZmluZVByb3BlcnR5O1xuICAgIGFwaS5PYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG4gICAgYXBpLk9iamVjdENyZWF0ZSA9IE9iamVjdENyZWF0ZTtcbiAgICBhcGkuQXJyYXlTbGljZSA9IEFycmF5U2xpY2U7XG4gICAgYXBpLnBhdGNoQ2xhc3MgPSBwYXRjaENsYXNzO1xuICAgIGFwaS53cmFwV2l0aEN1cnJlbnRab25lID0gd3JhcFdpdGhDdXJyZW50Wm9uZTtcbiAgICBhcGkuZmlsdGVyUHJvcGVydGllcyA9IGZpbHRlclByb3BlcnRpZXM7XG4gICAgYXBpLmF0dGFjaE9yaWdpblRvUGF0Y2hlZCA9IGF0dGFjaE9yaWdpblRvUGF0Y2hlZDtcbiAgICBhcGkuX3JlZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG4gICAgYXBpLnBhdGNoQ2FsbGJhY2tzID0gcGF0Y2hDYWxsYmFja3M7XG4gICAgYXBpLmdldEdsb2JhbE9iamVjdHMgPSAoKSA9PiAoe1xuICAgICAgICBnbG9iYWxTb3VyY2VzLFxuICAgICAgICB6b25lU3ltYm9sRXZlbnROYW1lcyxcbiAgICAgICAgZXZlbnROYW1lcyxcbiAgICAgICAgaXNCcm93c2VyLFxuICAgICAgICBpc01peCxcbiAgICAgICAgaXNOb2RlLFxuICAgICAgICBUUlVFX1NUUixcbiAgICAgICAgRkFMU0VfU1RSLFxuICAgICAgICBaT05FX1NZTUJPTF9QUkVGSVgsXG4gICAgICAgIEFERF9FVkVOVF9MSVNURU5FUl9TVFIsXG4gICAgICAgIFJFTU9WRV9FVkVOVF9MSVNURU5FUl9TVFJcbiAgICB9KTtcbn0pO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cbmNvbnN0IHRhc2tTeW1ib2wgPSB6b25lU3ltYm9sKCd6b25lVGFzaycpO1xuZnVuY3Rpb24gcGF0Y2hUaW1lcih3aW5kb3csIHNldE5hbWUsIGNhbmNlbE5hbWUsIG5hbWVTdWZmaXgpIHtcbiAgICBsZXQgc2V0TmF0aXZlID0gbnVsbDtcbiAgICBsZXQgY2xlYXJOYXRpdmUgPSBudWxsO1xuICAgIHNldE5hbWUgKz0gbmFtZVN1ZmZpeDtcbiAgICBjYW5jZWxOYW1lICs9IG5hbWVTdWZmaXg7XG4gICAgY29uc3QgdGFza3NCeUhhbmRsZUlkID0ge307XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVUYXNrKHRhc2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRhc2suZGF0YTtcbiAgICAgICAgZGF0YS5hcmdzWzBdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRhc2suaW52b2tlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICAgIGRhdGEuaGFuZGxlSWQgPSBzZXROYXRpdmUuYXBwbHkod2luZG93LCBkYXRhLmFyZ3MpO1xuICAgICAgICByZXR1cm4gdGFzaztcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYXJUYXNrKHRhc2spIHtcbiAgICAgICAgcmV0dXJuIGNsZWFyTmF0aXZlLmNhbGwod2luZG93LCB0YXNrLmRhdGEuaGFuZGxlSWQpO1xuICAgIH1cbiAgICBzZXROYXRpdmUgPVxuICAgICAgICBwYXRjaE1ldGhvZCh3aW5kb3csIHNldE5hbWUsIChkZWxlZ2F0ZSkgPT4gZnVuY3Rpb24gKHNlbGYsIGFyZ3MpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlzUGVyaW9kaWM6IG5hbWVTdWZmaXggPT09ICdJbnRlcnZhbCcsXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5OiAobmFtZVN1ZmZpeCA9PT0gJ1RpbWVvdXQnIHx8IG5hbWVTdWZmaXggPT09ICdJbnRlcnZhbCcpID8gYXJnc1sxXSB8fCAwIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogYXJnc1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBmdW5jdGlvbiB0aW1lcigpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXNzdWUtOTM0LCB0YXNrIHdpbGwgYmUgY2FuY2VsbGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBldmVuIGl0IGlzIGEgcGVyaW9kaWMgdGFzayBzdWNoIGFzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRJbnRlcnZhbFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvNDAzODdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFudXAgdGFza3NCeUhhbmRsZUlkIHNob3VsZCBiZSBoYW5kbGVkIGJlZm9yZSBzY2hlZHVsZVRhc2tcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHNvbWUgem9uZVNwZWMgbWF5IGludGVyY2VwdCBhbmQgZG9lc24ndCB0cmlnZ2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2hlZHVsZUZuKHNjaGVkdWxlVGFzaykgcHJvdmlkZWQgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG9wdGlvbnMuaXNQZXJpb2RpYykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuaGFuZGxlSWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluIG5vbi1ub2RlanMgZW52LCB3ZSByZW1vdmUgdGltZXJJZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmcm9tIGxvY2FsIGNhY2hlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlSWRbb3B0aW9ucy5oYW5kbGVJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaGFuZGxlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm9kZSByZXR1cm5zIGNvbXBsZXggb2JqZWN0cyBhcyBoYW5kbGVJZHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgcmVtb3ZlIHRhc2sgcmVmZXJlbmNlIGZyb20gdGltZXIgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaGFuZGxlSWRbdGFza1N5bWJvbF0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IHNjaGVkdWxlTWFjcm9UYXNrV2l0aEN1cnJlbnRab25lKHNldE5hbWUsIGFyZ3NbMF0sIG9wdGlvbnMsIHNjaGVkdWxlVGFzaywgY2xlYXJUYXNrKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhc2s7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE5vZGUuanMgbXVzdCBhZGRpdGlvbmFsbHkgc3VwcG9ydCB0aGUgcmVmIGFuZCB1bnJlZiBmdW5jdGlvbnMuXG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlID0gdGFzay5kYXRhLmhhbmRsZUlkO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaGFuZGxlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBmb3Igbm9uIG5vZGVqcyBlbnYsIHdlIHNhdmUgaGFuZGxlSWQ6IHRhc2tcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFwcGluZyBpbiBsb2NhbCBjYWNoZSBmb3IgY2xlYXJUaW1lb3V0XG4gICAgICAgICAgICAgICAgICAgIHRhc2tzQnlIYW5kbGVJZFtoYW5kbGVdID0gdGFzaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGFuZGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBub2RlanMgZW52LCB3ZSBzYXZlIHRhc2tcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVmZXJlbmNlIGluIHRpbWVySWQgT2JqZWN0IGZvciBjbGVhclRpbWVvdXRcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlW3Rhc2tTeW1ib2xdID0gdGFzaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgd2hldGhlciBoYW5kbGUgaXMgbnVsbCwgYmVjYXVzZSBzb21lIHBvbHlmaWxsIG9yIGJyb3dzZXJcbiAgICAgICAgICAgICAgICAvLyBtYXkgcmV0dXJuIHVuZGVmaW5lZCBmcm9tIHNldFRpbWVvdXQvc2V0SW50ZXJ2YWwvc2V0SW1tZWRpYXRlL3JlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAgICAgICAgICAgIGlmIChoYW5kbGUgJiYgaGFuZGxlLnJlZiAmJiBoYW5kbGUudW5yZWYgJiYgdHlwZW9mIGhhbmRsZS5yZWYgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGhhbmRsZS51bnJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0YXNrLnJlZiA9IGhhbmRsZS5yZWYuYmluZChoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICB0YXNrLnVucmVmID0gaGFuZGxlLnVucmVmLmJpbmQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGUgPT09ICdudW1iZXInIHx8IGhhbmRsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGFzaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNhdXNlIGFuIGVycm9yIGJ5IGNhbGxpbmcgaXQgZGlyZWN0bHkuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLmFwcGx5KHdpbmRvdywgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIGNsZWFyTmF0aXZlID1cbiAgICAgICAgcGF0Y2hNZXRob2Qod2luZG93LCBjYW5jZWxOYW1lLCAoZGVsZWdhdGUpID0+IGZ1bmN0aW9uIChzZWxmLCBhcmdzKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGFyZ3NbMF07XG4gICAgICAgICAgICBsZXQgdGFzaztcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgLy8gbm9uIG5vZGVqcyBlbnYuXG4gICAgICAgICAgICAgICAgdGFzayA9IHRhc2tzQnlIYW5kbGVJZFtpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBub2RlanMgZW52LlxuICAgICAgICAgICAgICAgIHRhc2sgPSBpZCAmJiBpZFt0YXNrU3ltYm9sXTtcbiAgICAgICAgICAgICAgICAvLyBvdGhlciBlbnZpcm9ubWVudHMuXG4gICAgICAgICAgICAgICAgaWYgKCF0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2sgPSBpZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGFzayAmJiB0eXBlb2YgdGFzay50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlmICh0YXNrLnN0YXRlICE9PSAnbm90U2NoZWR1bGVkJyAmJlxuICAgICAgICAgICAgICAgICAgICAodGFzay5jYW5jZWxGbiAmJiB0YXNrLmRhdGEuaXNQZXJpb2RpYyB8fCB0YXNrLnJ1bkNvdW50ID09PSAwKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlkID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRhc2tzQnlIYW5kbGVJZFtpZF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkW3Rhc2tTeW1ib2xdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3QgY2FuY2VsIGFscmVhZHkgY2FuY2VsZWQgZnVuY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgIHRhc2suem9uZS5jYW5jZWxUYXNrKHRhc2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGNhdXNlIGFuIGVycm9yIGJ5IGNhbGxpbmcgaXQgZGlyZWN0bHkuXG4gICAgICAgICAgICAgICAgZGVsZWdhdGUuYXBwbHkod2luZG93LCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gcGF0Y2hDdXN0b21FbGVtZW50cyhfZ2xvYmFsLCBhcGkpIHtcbiAgICBjb25zdCB7IGlzQnJvd3NlciwgaXNNaXggfSA9IGFwaS5nZXRHbG9iYWxPYmplY3RzKCk7XG4gICAgaWYgKCghaXNCcm93c2VyICYmICFpc01peCkgfHwgIV9nbG9iYWxbJ2N1c3RvbUVsZW1lbnRzJ10gfHwgISgnY3VzdG9tRWxlbWVudHMnIGluIF9nbG9iYWwpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2FsbGJhY2tzID0gWydjb25uZWN0ZWRDYWxsYmFjaycsICdkaXNjb25uZWN0ZWRDYWxsYmFjaycsICdhZG9wdGVkQ2FsbGJhY2snLCAnYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrJ107XG4gICAgYXBpLnBhdGNoQ2FsbGJhY2tzKGFwaSwgX2dsb2JhbC5jdXN0b21FbGVtZW50cywgJ2N1c3RvbUVsZW1lbnRzJywgJ2RlZmluZScsIGNhbGxiYWNrcyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuZnVuY3Rpb24gZXZlbnRUYXJnZXRQYXRjaChfZ2xvYmFsLCBhcGkpIHtcbiAgICBpZiAoWm9uZVthcGkuc3ltYm9sKCdwYXRjaEV2ZW50VGFyZ2V0JyldKSB7XG4gICAgICAgIC8vIEV2ZW50VGFyZ2V0IGlzIGFscmVhZHkgcGF0Y2hlZC5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IGV2ZW50TmFtZXMsIHpvbmVTeW1ib2xFdmVudE5hbWVzLCBUUlVFX1NUUiwgRkFMU0VfU1RSLCBaT05FX1NZTUJPTF9QUkVGSVggfSA9IGFwaS5nZXRHbG9iYWxPYmplY3RzKCk7XG4gICAgLy8gIHByZWRlZmluZSBhbGwgX196b25lX3N5bWJvbF9fICsgZXZlbnROYW1lICsgdHJ1ZS9mYWxzZSBzdHJpbmdcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZXZlbnROYW1lID0gZXZlbnROYW1lc1tpXTtcbiAgICAgICAgY29uc3QgZmFsc2VFdmVudE5hbWUgPSBldmVudE5hbWUgKyBGQUxTRV9TVFI7XG4gICAgICAgIGNvbnN0IHRydWVFdmVudE5hbWUgPSBldmVudE5hbWUgKyBUUlVFX1NUUjtcbiAgICAgICAgY29uc3Qgc3ltYm9sID0gWk9ORV9TWU1CT0xfUFJFRklYICsgZmFsc2VFdmVudE5hbWU7XG4gICAgICAgIGNvbnN0IHN5bWJvbENhcHR1cmUgPSBaT05FX1NZTUJPTF9QUkVGSVggKyB0cnVlRXZlbnROYW1lO1xuICAgICAgICB6b25lU3ltYm9sRXZlbnROYW1lc1tldmVudE5hbWVdID0ge307XG4gICAgICAgIHpvbmVTeW1ib2xFdmVudE5hbWVzW2V2ZW50TmFtZV1bRkFMU0VfU1RSXSA9IHN5bWJvbDtcbiAgICAgICAgem9uZVN5bWJvbEV2ZW50TmFtZXNbZXZlbnROYW1lXVtUUlVFX1NUUl0gPSBzeW1ib2xDYXB0dXJlO1xuICAgIH1cbiAgICBjb25zdCBFVkVOVF9UQVJHRVQgPSBfZ2xvYmFsWydFdmVudFRhcmdldCddO1xuICAgIGlmICghRVZFTlRfVEFSR0VUIHx8ICFFVkVOVF9UQVJHRVQucHJvdG90eXBlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXBpLnBhdGNoRXZlbnRUYXJnZXQoX2dsb2JhbCwgYXBpLCBbRVZFTlRfVEFSR0VUICYmIEVWRU5UX1RBUkdFVC5wcm90b3R5cGVdKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHBhdGNoRXZlbnQoZ2xvYmFsLCBhcGkpIHtcbiAgICBhcGkucGF0Y2hFdmVudFByb3RvdHlwZShnbG9iYWwsIGFwaSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuWm9uZS5fX2xvYWRfcGF0Y2goJ2xlZ2FjeScsIChnbG9iYWwpID0+IHtcbiAgICBjb25zdCBsZWdhY3lQYXRjaCA9IGdsb2JhbFtab25lLl9fc3ltYm9sX18oJ2xlZ2FjeVBhdGNoJyldO1xuICAgIGlmIChsZWdhY3lQYXRjaCkge1xuICAgICAgICBsZWdhY3lQYXRjaCgpO1xuICAgIH1cbn0pO1xuWm9uZS5fX2xvYWRfcGF0Y2goJ3F1ZXVlTWljcm90YXNrJywgKGdsb2JhbCwgWm9uZSwgYXBpKSA9PiB7XG4gICAgYXBpLnBhdGNoTWV0aG9kKGdsb2JhbCwgJ3F1ZXVlTWljcm90YXNrJywgZGVsZWdhdGUgPT4ge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNlbGYsIGFyZ3MpIHtcbiAgICAgICAgICAgIFpvbmUuY3VycmVudC5zY2hlZHVsZU1pY3JvVGFzaygncXVldWVNaWNyb3Rhc2snLCBhcmdzWzBdKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbn0pO1xuWm9uZS5fX2xvYWRfcGF0Y2goJ3RpbWVycycsIChnbG9iYWwpID0+IHtcbiAgICBjb25zdCBzZXQgPSAnc2V0JztcbiAgICBjb25zdCBjbGVhciA9ICdjbGVhcic7XG4gICAgcGF0Y2hUaW1lcihnbG9iYWwsIHNldCwgY2xlYXIsICdUaW1lb3V0Jyk7XG4gICAgcGF0Y2hUaW1lcihnbG9iYWwsIHNldCwgY2xlYXIsICdJbnRlcnZhbCcpO1xuICAgIHBhdGNoVGltZXIoZ2xvYmFsLCBzZXQsIGNsZWFyLCAnSW1tZWRpYXRlJyk7XG59KTtcblpvbmUuX19sb2FkX3BhdGNoKCdyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnLCAoZ2xvYmFsKSA9PiB7XG4gICAgcGF0Y2hUaW1lcihnbG9iYWwsICdyZXF1ZXN0JywgJ2NhbmNlbCcsICdBbmltYXRpb25GcmFtZScpO1xuICAgIHBhdGNoVGltZXIoZ2xvYmFsLCAnbW96UmVxdWVzdCcsICdtb3pDYW5jZWwnLCAnQW5pbWF0aW9uRnJhbWUnKTtcbiAgICBwYXRjaFRpbWVyKGdsb2JhbCwgJ3dlYmtpdFJlcXVlc3QnLCAnd2Via2l0Q2FuY2VsJywgJ0FuaW1hdGlvbkZyYW1lJyk7XG59KTtcblpvbmUuX19sb2FkX3BhdGNoKCdibG9ja2luZycsIChnbG9iYWwsIFpvbmUpID0+IHtcbiAgICBjb25zdCBibG9ja2luZ01ldGhvZHMgPSBbJ2FsZXJ0JywgJ3Byb21wdCcsICdjb25maXJtJ107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibG9ja2luZ01ldGhvZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGJsb2NraW5nTWV0aG9kc1tpXTtcbiAgICAgICAgcGF0Y2hNZXRob2QoZ2xvYmFsLCBuYW1lLCAoZGVsZWdhdGUsIHN5bWJvbCwgbmFtZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzLCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvbmUuY3VycmVudC5ydW4oZGVsZWdhdGUsIGdsb2JhbCwgYXJncywgbmFtZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG59KTtcblpvbmUuX19sb2FkX3BhdGNoKCdFdmVudFRhcmdldCcsIChnbG9iYWwsIFpvbmUsIGFwaSkgPT4ge1xuICAgIHBhdGNoRXZlbnQoZ2xvYmFsLCBhcGkpO1xuICAgIGV2ZW50VGFyZ2V0UGF0Y2goZ2xvYmFsLCBhcGkpO1xuICAgIC8vIHBhdGNoIFhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQncyBhZGRFdmVudExpc3RlbmVyL3JlbW92ZUV2ZW50TGlzdGVuZXJcbiAgICBjb25zdCBYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0ID0gZ2xvYmFsWydYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0J107XG4gICAgaWYgKFhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQgJiYgWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldC5wcm90b3R5cGUpIHtcbiAgICAgICAgYXBpLnBhdGNoRXZlbnRUYXJnZXQoZ2xvYmFsLCBhcGksIFtYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0LnByb3RvdHlwZV0pO1xuICAgIH1cbn0pO1xuWm9uZS5fX2xvYWRfcGF0Y2goJ011dGF0aW9uT2JzZXJ2ZXInLCAoZ2xvYmFsLCBab25lLCBhcGkpID0+IHtcbiAgICBwYXRjaENsYXNzKCdNdXRhdGlvbk9ic2VydmVyJyk7XG4gICAgcGF0Y2hDbGFzcygnV2ViS2l0TXV0YXRpb25PYnNlcnZlcicpO1xufSk7XG5ab25lLl9fbG9hZF9wYXRjaCgnSW50ZXJzZWN0aW9uT2JzZXJ2ZXInLCAoZ2xvYmFsLCBab25lLCBhcGkpID0+IHtcbiAgICBwYXRjaENsYXNzKCdJbnRlcnNlY3Rpb25PYnNlcnZlcicpO1xufSk7XG5ab25lLl9fbG9hZF9wYXRjaCgnRmlsZVJlYWRlcicsIChnbG9iYWwsIFpvbmUsIGFwaSkgPT4ge1xuICAgIHBhdGNoQ2xhc3MoJ0ZpbGVSZWFkZXInKTtcbn0pO1xuWm9uZS5fX2xvYWRfcGF0Y2goJ29uX3Byb3BlcnR5JywgKGdsb2JhbCwgWm9uZSwgYXBpKSA9PiB7XG4gICAgcHJvcGVydHlEZXNjcmlwdG9yUGF0Y2goYXBpLCBnbG9iYWwpO1xufSk7XG5ab25lLl9fbG9hZF9wYXRjaCgnY3VzdG9tRWxlbWVudHMnLCAoZ2xvYmFsLCBab25lLCBhcGkpID0+IHtcbiAgICBwYXRjaEN1c3RvbUVsZW1lbnRzKGdsb2JhbCwgYXBpKTtcbn0pO1xuWm9uZS5fX2xvYWRfcGF0Y2goJ1hIUicsIChnbG9iYWwsIFpvbmUpID0+IHtcbiAgICAvLyBUcmVhdCBYTUxIdHRwUmVxdWVzdCBhcyBhIG1hY3JvdGFzay5cbiAgICBwYXRjaFhIUihnbG9iYWwpO1xuICAgIGNvbnN0IFhIUl9UQVNLID0gem9uZVN5bWJvbCgneGhyVGFzaycpO1xuICAgIGNvbnN0IFhIUl9TWU5DID0gem9uZVN5bWJvbCgneGhyU3luYycpO1xuICAgIGNvbnN0IFhIUl9MSVNURU5FUiA9IHpvbmVTeW1ib2woJ3hockxpc3RlbmVyJyk7XG4gICAgY29uc3QgWEhSX1NDSEVEVUxFRCA9IHpvbmVTeW1ib2woJ3hoclNjaGVkdWxlZCcpO1xuICAgIGNvbnN0IFhIUl9VUkwgPSB6b25lU3ltYm9sKCd4aHJVUkwnKTtcbiAgICBjb25zdCBYSFJfRVJST1JfQkVGT1JFX1NDSEVEVUxFRCA9IHpvbmVTeW1ib2woJ3hockVycm9yQmVmb3JlU2NoZWR1bGVkJyk7XG4gICAgZnVuY3Rpb24gcGF0Y2hYSFIod2luZG93KSB7XG4gICAgICAgIGNvbnN0IFhNTEh0dHBSZXF1ZXN0ID0gd2luZG93WydYTUxIdHRwUmVxdWVzdCddO1xuICAgICAgICBpZiAoIVhNTEh0dHBSZXF1ZXN0KSB7XG4gICAgICAgICAgICAvLyBYTUxIdHRwUmVxdWVzdCBpcyBub3QgYXZhaWxhYmxlIGluIHNlcnZpY2Ugd29ya2VyXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgWE1MSHR0cFJlcXVlc3RQcm90b3R5cGUgPSBYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGU7XG4gICAgICAgIGZ1bmN0aW9uIGZpbmRQZW5kaW5nVGFzayh0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXRbWEhSX1RBU0tdO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvcmlBZGRMaXN0ZW5lciA9IFhNTEh0dHBSZXF1ZXN0UHJvdG90eXBlW1pPTkVfU1lNQk9MX0FERF9FVkVOVF9MSVNURU5FUl07XG4gICAgICAgIGxldCBvcmlSZW1vdmVMaXN0ZW5lciA9IFhNTEh0dHBSZXF1ZXN0UHJvdG90eXBlW1pPTkVfU1lNQk9MX1JFTU9WRV9FVkVOVF9MSVNURU5FUl07XG4gICAgICAgIGlmICghb3JpQWRkTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IFhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQgPSB3aW5kb3dbJ1hNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQnXTtcbiAgICAgICAgICAgIGlmIChYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldFByb3RvdHlwZSA9IFhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQucHJvdG90eXBlO1xuICAgICAgICAgICAgICAgIG9yaUFkZExpc3RlbmVyID0gWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldFByb3RvdHlwZVtaT05FX1NZTUJPTF9BRERfRVZFTlRfTElTVEVORVJdO1xuICAgICAgICAgICAgICAgIG9yaVJlbW92ZUxpc3RlbmVyID0gWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldFByb3RvdHlwZVtaT05FX1NZTUJPTF9SRU1PVkVfRVZFTlRfTElTVEVORVJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFJFQURZX1NUQVRFX0NIQU5HRSA9ICdyZWFkeXN0YXRlY2hhbmdlJztcbiAgICAgICAgY29uc3QgU0NIRURVTEVEID0gJ3NjaGVkdWxlZCc7XG4gICAgICAgIGZ1bmN0aW9uIHNjaGVkdWxlVGFzayh0YXNrKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGFzay5kYXRhO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZGF0YS50YXJnZXQ7XG4gICAgICAgICAgICB0YXJnZXRbWEhSX1NDSEVEVUxFRF0gPSBmYWxzZTtcbiAgICAgICAgICAgIHRhcmdldFtYSFJfRVJST1JfQkVGT1JFX1NDSEVEVUxFRF0gPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBleGlzdGluZyBldmVudCBsaXN0ZW5lclxuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSB0YXJnZXRbWEhSX0xJU1RFTkVSXTtcbiAgICAgICAgICAgIGlmICghb3JpQWRkTGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBvcmlBZGRMaXN0ZW5lciA9IHRhcmdldFtaT05FX1NZTUJPTF9BRERfRVZFTlRfTElTVEVORVJdO1xuICAgICAgICAgICAgICAgIG9yaVJlbW92ZUxpc3RlbmVyID0gdGFyZ2V0W1pPTkVfU1lNQk9MX1JFTU9WRV9FVkVOVF9MSVNURU5FUl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBvcmlSZW1vdmVMaXN0ZW5lci5jYWxsKHRhcmdldCwgUkVBRFlfU1RBVEVfQ0hBTkdFLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXdMaXN0ZW5lciA9IHRhcmdldFtYSFJfTElTVEVORVJdID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQucmVhZHlTdGF0ZSA9PT0gdGFyZ2V0LkRPTkUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc29tZXRpbWVzIG9uIHNvbWUgYnJvd3NlcnMgWE1MSHR0cFJlcXVlc3Qgd2lsbCBmaXJlIG9ucmVhZHlzdGF0ZWNoYW5nZSB3aXRoXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlYWR5U3RhdGU9NCBtdWx0aXBsZSB0aW1lcywgc28gd2UgbmVlZCB0byBjaGVjayB0YXNrIHN0YXRlIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLmFib3J0ZWQgJiYgdGFyZ2V0W1hIUl9TQ0hFRFVMRURdICYmIHRhc2suc3RhdGUgPT09IFNDSEVEVUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGUgeGhyIGhhcyByZWdpc3RlcmVkIG9ubG9hZCBsaXN0ZW5lclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhhdCBpcyB0aGUgY2FzZSwgdGhlIHRhc2sgc2hvdWxkIGludm9rZSBhZnRlciBhbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubG9hZCBsaXN0ZW5lcnMgZmluaXNoLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxzbyBpZiB0aGUgcmVxdWVzdCBmYWlsZWQgd2l0aG91dCByZXNwb25zZSAoc3RhdHVzID0gMCksIHRoZSBsb2FkIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgbm90IGJlIHRyaWdnZXJlZCwgaW4gdGhhdCBjYXNlLCB3ZSBzaG91bGQgYWxzbyBpbnZva2UgdGhlIHBsYWNlaG9sZGVyIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBjbG9zZSB0aGUgWE1MSHR0cFJlcXVlc3Q6OnNlbmQgbWFjcm9UYXNrLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMzg3OTVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRUYXNrcyA9IHRhcmdldFtab25lLl9fc3ltYm9sX18oJ2xvYWRmYWxzZScpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuc3RhdHVzICE9PSAwICYmIGxvYWRUYXNrcyAmJiBsb2FkVGFza3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaUludm9rZSA9IHRhc2suaW52b2tlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suaW52b2tlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIGxvYWQgdGhlIHRhc2tzIGFnYWluLCBiZWNhdXNlIGluIG90aGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvYWQgbGlzdGVuZXIsIHRoZXkgbWF5IHJlbW92ZSB0aGVtc2VsdmVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRUYXNrcyA9IHRhcmdldFtab25lLl9fc3ltYm9sX18oJ2xvYWRmYWxzZScpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2FkVGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2FkVGFza3NbaV0gPT09IHRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkVGFza3Muc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGF0YS5hYm9ydGVkICYmIHRhc2suc3RhdGUgPT09IFNDSEVEVUxFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpSW52b2tlLmNhbGwodGFzayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRUYXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5pbnZva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghZGF0YS5hYm9ydGVkICYmIHRhcmdldFtYSFJfU0NIRURVTEVEXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVycm9yIG9jY3VycyB3aGVuIHhoci5zZW5kKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtYSFJfRVJST1JfQkVGT1JFX1NDSEVEVUxFRF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG9yaUFkZExpc3RlbmVyLmNhbGwodGFyZ2V0LCBSRUFEWV9TVEFURV9DSEFOR0UsIG5ld0xpc3RlbmVyKTtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZFRhc2sgPSB0YXJnZXRbWEhSX1RBU0tdO1xuICAgICAgICAgICAgaWYgKCFzdG9yZWRUYXNrKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W1hIUl9UQVNLXSA9IHRhc2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZW5kTmF0aXZlLmFwcGx5KHRhcmdldCwgZGF0YS5hcmdzKTtcbiAgICAgICAgICAgIHRhcmdldFtYSFJfU0NIRURVTEVEXSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGFzaztcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBwbGFjZWhvbGRlckNhbGxiYWNrKCkgeyB9XG4gICAgICAgIGZ1bmN0aW9uIGNsZWFyVGFzayh0YXNrKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGFzay5kYXRhO1xuICAgICAgICAgICAgLy8gTm90ZSAtIGlkZWFsbHksIHdlIHdvdWxkIGNhbGwgZGF0YS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lciBoZXJlLCBidXQgaXQncyB0b28gbGF0ZVxuICAgICAgICAgICAgLy8gdG8gcHJldmVudCBpdCBmcm9tIGZpcmluZy4gU28gaW5zdGVhZCwgd2Ugc3RvcmUgaW5mbyBmb3IgdGhlIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgICAgICAgZGF0YS5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBhYm9ydE5hdGl2ZS5hcHBseShkYXRhLnRhcmdldCwgZGF0YS5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcGVuTmF0aXZlID0gcGF0Y2hNZXRob2QoWE1MSHR0cFJlcXVlc3RQcm90b3R5cGUsICdvcGVuJywgKCkgPT4gZnVuY3Rpb24gKHNlbGYsIGFyZ3MpIHtcbiAgICAgICAgICAgIHNlbGZbWEhSX1NZTkNdID0gYXJnc1syXSA9PSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGZbWEhSX1VSTF0gPSBhcmdzWzFdO1xuICAgICAgICAgICAgcmV0dXJuIG9wZW5OYXRpdmUuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBYTUxIVFRQUkVRVUVTVF9TT1VSQ0UgPSAnWE1MSHR0cFJlcXVlc3Quc2VuZCc7XG4gICAgICAgIGNvbnN0IGZldGNoVGFza0Fib3J0aW5nID0gem9uZVN5bWJvbCgnZmV0Y2hUYXNrQWJvcnRpbmcnKTtcbiAgICAgICAgY29uc3QgZmV0Y2hUYXNrU2NoZWR1bGluZyA9IHpvbmVTeW1ib2woJ2ZldGNoVGFza1NjaGVkdWxpbmcnKTtcbiAgICAgICAgY29uc3Qgc2VuZE5hdGl2ZSA9IHBhdGNoTWV0aG9kKFhNTEh0dHBSZXF1ZXN0UHJvdG90eXBlLCAnc2VuZCcsICgpID0+IGZ1bmN0aW9uIChzZWxmLCBhcmdzKSB7XG4gICAgICAgICAgICBpZiAoWm9uZS5jdXJyZW50W2ZldGNoVGFza1NjaGVkdWxpbmddID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgLy8gYSBmZXRjaCBpcyBzY2hlZHVsaW5nLCBzbyB3ZSBhcmUgdXNpbmcgeGhyIHRvIHBvbHlmaWxsIGZldGNoXG4gICAgICAgICAgICAgICAgLy8gYW5kIGJlY2F1c2Ugd2UgYWxyZWFkeSBzY2hlZHVsZSBtYWNyb1Rhc2sgZm9yIGZldGNoLCB3ZSBzaG91bGRcbiAgICAgICAgICAgICAgICAvLyBub3Qgc2NoZWR1bGUgYSBtYWNyb1Rhc2sgZm9yIHhociBhZ2FpblxuICAgICAgICAgICAgICAgIHJldHVybiBzZW5kTmF0aXZlLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlbGZbWEhSX1NZTkNdKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIFhIUiBpcyBzeW5jIHRoZXJlIGlzIG5vIHRhc2sgdG8gc2NoZWR1bGUsIGp1c3QgZXhlY3V0ZSB0aGUgY29kZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZE5hdGl2ZS5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7IHRhcmdldDogc2VsZiwgdXJsOiBzZWxmW1hIUl9VUkxdLCBpc1BlcmlvZGljOiBmYWxzZSwgYXJnczogYXJncywgYWJvcnRlZDogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrID0gc2NoZWR1bGVNYWNyb1Rhc2tXaXRoQ3VycmVudFpvbmUoWE1MSFRUUFJFUVVFU1RfU09VUkNFLCBwbGFjZWhvbGRlckNhbGxiYWNrLCBvcHRpb25zLCBzY2hlZHVsZVRhc2ssIGNsZWFyVGFzayk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYgJiYgc2VsZltYSFJfRVJST1JfQkVGT1JFX1NDSEVEVUxFRF0gPT09IHRydWUgJiYgIW9wdGlvbnMuYWJvcnRlZCAmJlxuICAgICAgICAgICAgICAgICAgICB0YXNrLnN0YXRlID09PSBTQ0hFRFVMRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8geGhyIHJlcXVlc3QgdGhyb3cgZXJyb3Igd2hlbiBzZW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIHNob3VsZCBpbnZva2UgdGFzayBpbnN0ZWFkIG9mIGxlYXZpbmcgYSBzY2hlZHVsZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gcGVuZGluZyBtYWNyb1Rhc2tcbiAgICAgICAgICAgICAgICAgICAgdGFzay5pbnZva2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBhYm9ydE5hdGl2ZSA9IHBhdGNoTWV0aG9kKFhNTEh0dHBSZXF1ZXN0UHJvdG90eXBlLCAnYWJvcnQnLCAoKSA9PiBmdW5jdGlvbiAoc2VsZiwgYXJncykge1xuICAgICAgICAgICAgY29uc3QgdGFzayA9IGZpbmRQZW5kaW5nVGFzayhzZWxmKTtcbiAgICAgICAgICAgIGlmICh0YXNrICYmIHR5cGVvZiB0YXNrLnR5cGUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgWEhSIGhhcyBhbHJlYWR5IGNvbXBsZXRlZCwgZG8gbm90aGluZy5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgWEhSIGhhcyBhbHJlYWR5IGJlZW4gYWJvcnRlZCwgZG8gbm90aGluZy5cbiAgICAgICAgICAgICAgICAvLyBGaXggIzU2OSwgY2FsbCBhYm9ydCBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgZG9uZSB3aWxsIGNhdXNlXG4gICAgICAgICAgICAgICAgLy8gbWFjcm9UYXNrIHRhc2sgY291bnQgYmUgbmVnYXRpdmUgbnVtYmVyXG4gICAgICAgICAgICAgICAgaWYgKHRhc2suY2FuY2VsRm4gPT0gbnVsbCB8fCAodGFzay5kYXRhICYmIHRhc2suZGF0YS5hYm9ydGVkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhc2suem9uZS5jYW5jZWxUYXNrKHRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoWm9uZS5jdXJyZW50W2ZldGNoVGFza0Fib3J0aW5nXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIHRoZSBhYm9ydCBpcyBjYWxsZWQgZnJvbSBmZXRjaCBwb2x5ZmlsbCwgd2UgbmVlZCB0byBjYWxsIG5hdGl2ZSBhYm9ydCBvZiBYSFIuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFib3J0TmF0aXZlLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBhcmUgdHJ5aW5nIHRvIGFib3J0IGFuIFhIUiB3aGljaCBoYXMgbm90IHlldCBiZWVuIHNlbnQsIHNvIHRoZXJlIGlzIG5vXG4gICAgICAgICAgICAvLyB0YXNrXG4gICAgICAgICAgICAvLyB0byBjYW5jZWwuIERvIG5vdGhpbmcuXG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuWm9uZS5fX2xvYWRfcGF0Y2goJ2dlb2xvY2F0aW9uJywgKGdsb2JhbCkgPT4ge1xuICAgIC8vLyBHRU9fTE9DQVRJT05cbiAgICBpZiAoZ2xvYmFsWyduYXZpZ2F0b3InXSAmJiBnbG9iYWxbJ25hdmlnYXRvciddLmdlb2xvY2F0aW9uKSB7XG4gICAgICAgIHBhdGNoUHJvdG90eXBlKGdsb2JhbFsnbmF2aWdhdG9yJ10uZ2VvbG9jYXRpb24sIFsnZ2V0Q3VycmVudFBvc2l0aW9uJywgJ3dhdGNoUG9zaXRpb24nXSk7XG4gICAgfVxufSk7XG5ab25lLl9fbG9hZF9wYXRjaCgnUHJvbWlzZVJlamVjdGlvbkV2ZW50JywgKGdsb2JhbCwgWm9uZSkgPT4ge1xuICAgIC8vIGhhbmRsZSB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25cbiAgICBmdW5jdGlvbiBmaW5kUHJvbWlzZVJlamVjdGlvbkhhbmRsZXIoZXZ0TmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50VGFza3MgPSBmaW5kRXZlbnRUYXNrcyhnbG9iYWwsIGV2dE5hbWUpO1xuICAgICAgICAgICAgZXZlbnRUYXNrcy5mb3JFYWNoKGV2ZW50VGFzayA9PiB7XG4gICAgICAgICAgICAgICAgLy8gd2luZG93cyBoYXMgYWRkZWQgdW5oYW5kbGVkcmVqZWN0aW9uIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICAgICAgLy8gdHJpZ2dlciB0aGUgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgICAgICBjb25zdCBQcm9taXNlUmVqZWN0aW9uRXZlbnQgPSBnbG9iYWxbJ1Byb21pc2VSZWplY3Rpb25FdmVudCddO1xuICAgICAgICAgICAgICAgIGlmIChQcm9taXNlUmVqZWN0aW9uRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZ0ID0gbmV3IFByb21pc2VSZWplY3Rpb25FdmVudChldnROYW1lLCB7IHByb21pc2U6IGUucHJvbWlzZSwgcmVhc29uOiBlLnJlamVjdGlvbiB9KTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRUYXNrLmludm9rZShldnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoZ2xvYmFsWydQcm9taXNlUmVqZWN0aW9uRXZlbnQnXSkge1xuICAgICAgICBab25lW3pvbmVTeW1ib2woJ3VuaGFuZGxlZFByb21pc2VSZWplY3Rpb25IYW5kbGVyJyldID1cbiAgICAgICAgICAgIGZpbmRQcm9taXNlUmVqZWN0aW9uSGFuZGxlcigndW5oYW5kbGVkcmVqZWN0aW9uJyk7XG4gICAgICAgIFpvbmVbem9uZVN5bWJvbCgncmVqZWN0aW9uSGFuZGxlZEhhbmRsZXInKV0gPVxuICAgICAgICAgICAgZmluZFByb21pc2VSZWplY3Rpb25IYW5kbGVyKCdyZWplY3Rpb25oYW5kbGVkJyk7XG4gICAgfVxufSk7XG4iXSwibmFtZXMiOlsiZ2xvYmFsIiwicGVyZm9ybWFuY2UiLCJtYXJrIiwibmFtZSIsInBlcmZvcm1hbmNlTWVhc3VyZSIsImxhYmVsIiwic3ltYm9sUHJlZml4IiwiX19zeW1ib2xfXyIsImNoZWNrRHVwbGljYXRlIiwiRXJyb3IiLCJab25lIiwiY29uc3RydWN0b3IiLCJwYXJlbnQiLCJ6b25lU3BlYyIsInRoaXMiLCJfcGFyZW50IiwiX25hbWUiLCJfcHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJfem9uZURlbGVnYXRlIiwiX1pvbmVEZWxlZ2F0ZSIsImFzc2VydFpvbmVQYXRjaGVkIiwicGF0Y2hlcyIsInJvb3QiLCJ6b25lIiwiY3VycmVudCIsIl9jdXJyZW50Wm9uZUZyYW1lIiwiY3VycmVudFRhc2siLCJfY3VycmVudFRhc2siLCJfX2xvYWRfcGF0Y2giLCJmbiIsImlnbm9yZUR1cGxpY2F0ZSIsImhhc093blByb3BlcnR5IiwicGVyZk5hbWUiLCJfYXBpIiwiZ2V0Iiwia2V5IiwiZ2V0Wm9uZVdpdGgiLCJmb3JrIiwid3JhcCIsImNhbGxiYWNrIiwic291cmNlIiwiX2NhbGxiYWNrIiwiaW50ZXJjZXB0IiwicnVuR3VhcmRlZCIsImFyZ3VtZW50cyIsInJ1biIsImFwcGx5VGhpcyIsImFwcGx5QXJncyIsImludm9rZSIsImVycm9yIiwiaGFuZGxlRXJyb3IiLCJydW5UYXNrIiwidGFzayIsIk5PX1pPTkUiLCJzdGF0ZSIsIm5vdFNjaGVkdWxlZCIsInR5cGUiLCJldmVudFRhc2siLCJtYWNyb1Rhc2siLCJyZUVudHJ5R3VhcmQiLCJydW5uaW5nIiwiX3RyYW5zaXRpb25UbyIsInNjaGVkdWxlZCIsInJ1bkNvdW50IiwicHJldmlvdXNUYXNrIiwiZGF0YSIsImlzUGVyaW9kaWMiLCJjYW5jZWxGbiIsInVuZGVmaW5lZCIsImludm9rZVRhc2siLCJ1bmtub3duIiwiX3VwZGF0ZVRhc2tDb3VudCIsInNjaGVkdWxlVGFzayIsIm5ld1pvbmUiLCJzY2hlZHVsaW5nIiwiem9uZURlbGVnYXRlcyIsIl96b25lRGVsZWdhdGVzIiwiX3pvbmUiLCJlcnIiLCJzY2hlZHVsZU1pY3JvVGFzayIsImN1c3RvbVNjaGVkdWxlIiwiWm9uZVRhc2siLCJtaWNyb1Rhc2siLCJzY2hlZHVsZU1hY3JvVGFzayIsImN1c3RvbUNhbmNlbCIsInNjaGVkdWxlRXZlbnRUYXNrIiwiY2FuY2VsVGFzayIsImNhbmNlbGluZyIsImNvdW50IiwiaSIsImxlbmd0aCIsIkRFTEVHQVRFX1pTIiwib25IYXNUYXNrIiwiZGVsZWdhdGUiLCJfIiwidGFyZ2V0IiwiaGFzVGFza1N0YXRlIiwiaGFzVGFzayIsIm9uU2NoZWR1bGVUYXNrIiwib25JbnZva2VUYXNrIiwib25DYW5jZWxUYXNrIiwicGFyZW50RGVsZWdhdGUiLCJfdGFza0NvdW50cyIsIl9wYXJlbnREZWxlZ2F0ZSIsIl9mb3JrWlMiLCJvbkZvcmsiLCJfZm9ya0RsZ3QiLCJfZm9ya0N1cnJab25lIiwiX2ludGVyY2VwdFpTIiwib25JbnRlcmNlcHQiLCJfaW50ZXJjZXB0RGxndCIsIl9pbnRlcmNlcHRDdXJyWm9uZSIsIl9pbnZva2VaUyIsIm9uSW52b2tlIiwiX2ludm9rZURsZ3QiLCJfaW52b2tlQ3VyclpvbmUiLCJfaGFuZGxlRXJyb3JaUyIsIm9uSGFuZGxlRXJyb3IiLCJfaGFuZGxlRXJyb3JEbGd0IiwiX2hhbmRsZUVycm9yQ3VyclpvbmUiLCJfc2NoZWR1bGVUYXNrWlMiLCJfc2NoZWR1bGVUYXNrRGxndCIsIl9zY2hlZHVsZVRhc2tDdXJyWm9uZSIsIl9pbnZva2VUYXNrWlMiLCJfaW52b2tlVGFza0RsZ3QiLCJfaW52b2tlVGFza0N1cnJab25lIiwiX2NhbmNlbFRhc2taUyIsIl9jYW5jZWxUYXNrRGxndCIsIl9jYW5jZWxUYXNrQ3VyclpvbmUiLCJfaGFzVGFza1pTIiwiX2hhc1Rhc2tEbGd0IiwiX2hhc1Rhc2tEbGd0T3duZXIiLCJfaGFzVGFza0N1cnJab25lIiwiem9uZVNwZWNIYXNUYXNrIiwicGFyZW50SGFzVGFzayIsInRhcmdldFpvbmUiLCJhcHBseSIsInJldHVyblRhc2siLCJwdXNoIiwic2NoZWR1bGVGbiIsInZhbHVlIiwiaXNFbXB0eSIsImNvdW50cyIsInByZXYiLCJuZXh0IiwiY2hhbmdlIiwib3B0aW9ucyIsIl9zdGF0ZSIsInNlbGYiLCJ1c2VHIiwiY2FsbCIsImFyZ3MiLCJfbnVtYmVyT2ZOZXN0ZWRUYXNrRnJhbWVzIiwiZHJhaW5NaWNyb1Rhc2tRdWV1ZSIsImNhbmNlbFNjaGVkdWxlUmVxdWVzdCIsInRvU3RhdGUiLCJmcm9tU3RhdGUxIiwiZnJvbVN0YXRlMiIsInRvU3RyaW5nIiwiaGFuZGxlSWQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b0pTT04iLCJzeW1ib2xTZXRUaW1lb3V0Iiwic3ltYm9sUHJvbWlzZSIsInN5bWJvbFRoZW4iLCJuYXRpdmVNaWNyb1Rhc2tRdWV1ZVByb21pc2UiLCJfbWljcm9UYXNrUXVldWUiLCJfaXNEcmFpbmluZ01pY3JvdGFza1F1ZXVlIiwibmF0aXZlU2NoZWR1bGVNaWNyb1Rhc2siLCJmdW5jIiwicmVzb2x2ZSIsIm5hdGl2ZVRoZW4iLCJxdWV1ZSIsIm9uVW5oYW5kbGVkRXJyb3IiLCJtaWNyb3Rhc2tEcmFpbkRvbmUiLCJzeW1ib2wiLCJjdXJyZW50Wm9uZUZyYW1lIiwibm9vcCIsInNob3dVbmNhdWdodEVycm9yIiwicGF0Y2hFdmVudFRhcmdldCIsInBhdGNoT25Qcm9wZXJ0aWVzIiwicGF0Y2hNZXRob2QiLCJiaW5kQXJndW1lbnRzIiwicGF0Y2hUaGVuIiwicGF0Y2hNYWNyb1Rhc2siLCJwYXRjaEV2ZW50UHJvdG90eXBlIiwiaXNJRU9yRWRnZSIsImdldEdsb2JhbE9iamVjdHMiLCJPYmplY3REZWZpbmVQcm9wZXJ0eSIsIk9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdENyZWF0ZSIsIkFycmF5U2xpY2UiLCJwYXRjaENsYXNzIiwid3JhcFdpdGhDdXJyZW50Wm9uZSIsImZpbHRlclByb3BlcnRpZXMiLCJhdHRhY2hPcmlnaW5Ub1BhdGNoZWQiLCJfcmVkZWZpbmVQcm9wZXJ0eSIsInBhdGNoQ2FsbGJhY2tzIiwid2luZG93IiwiZyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImRlZmluZVByb3BlcnR5IiwiT2JqZWN0R2V0UHJvdG90eXBlT2YiLCJnZXRQcm90b3R5cGVPZiIsImNyZWF0ZSIsIkFycmF5Iiwic2xpY2UiLCJBRERfRVZFTlRfTElTVEVORVJfU1RSIiwiUkVNT1ZFX0VWRU5UX0xJU1RFTkVSX1NUUiIsIlpPTkVfU1lNQk9MX0FERF9FVkVOVF9MSVNURU5FUiIsIlpPTkVfU1lNQk9MX1JFTU9WRV9FVkVOVF9MSVNURU5FUiIsIlRSVUVfU1RSIiwiRkFMU0VfU1RSIiwiWk9ORV9TWU1CT0xfUFJFRklYIiwic2NoZWR1bGVNYWNyb1Rhc2tXaXRoQ3VycmVudFpvbmUiLCJ6b25lU3ltYm9sIiwiaXNXaW5kb3dFeGlzdHMiLCJpbnRlcm5hbFdpbmRvdyIsIl9nbG9iYWwiLCJSRU1PVkVfQVRUUklCVVRFIiwiaXNQcm9wZXJ0eVdyaXRhYmxlIiwicHJvcGVydHlEZXNjIiwid3JpdGFibGUiLCJzZXQiLCJpc1dlYldvcmtlciIsIldvcmtlckdsb2JhbFNjb3BlIiwiaXNOb2RlIiwicHJvY2VzcyIsImlzQnJvd3NlciIsImlzTWl4Iiwiem9uZVN5bWJvbEV2ZW50TmFtZXMkMSIsIndyYXBGbiIsImV2ZW50IiwiZXZlbnROYW1lU3ltYm9sIiwibGlzdGVuZXIiLCJyZXN1bHQiLCJlcnJvckV2ZW50IiwibWVzc2FnZSIsImZpbGVuYW1lIiwibGluZW5vIiwiY29sbm8iLCJwcmV2ZW50RGVmYXVsdCIsInBhdGNoUHJvcGVydHkiLCJvYmoiLCJwcm9wIiwiZGVzYyIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJvblByb3BQYXRjaGVkU3ltYm9sIiwib3JpZ2luYWxEZXNjR2V0Iiwib3JpZ2luYWxEZXNjU2V0IiwiZXZlbnROYW1lIiwibmV3VmFsdWUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUF0dHJpYnV0ZSIsIm9uUHJvcGVydGllcyIsImoiLCJvcmlnaW5hbEluc3RhbmNlS2V5IiwiY2xhc3NOYW1lIiwiT3JpZ2luYWxDbGFzcyIsImEiLCJpbnN0YW5jZSIsInBhdGNoRm4iLCJwcm90byIsImRlbGVnYXRlTmFtZSIsInBhdGNoRGVsZWdhdGUiLCJmdW5jTmFtZSIsIm1ldGFDcmVhdG9yIiwic2V0TmF0aXZlIiwiY2JJZHgiLCJtZXRhIiwicGF0Y2hlZCIsIm9yaWdpbmFsIiwiaXNEZXRlY3RlZElFT3JFZGdlIiwiaWVPckVkZ2UiLCJpc0lFIiwidWEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmRleE9mIiwiYXBpIiwiX3VuY2F1Z2h0UHJvbWlzZUVycm9ycyIsImlzRGlzYWJsZVdyYXBwaW5nVW5jYXVnaHRQcm9taXNlUmVqZWN0aW9uIiwiY3JlYXRpb25UcmFjZSIsImUiLCJyZWplY3Rpb24iLCJjb25zb2xlIiwic3RhY2siLCJ1bmNhdWdodFByb21pc2VFcnJvciIsInNoaWZ0IiwidGhyb3dPcmlnaW5hbCIsImhhbmRsZVVuaGFuZGxlZFJlamVjdGlvbiIsIlVOSEFORExFRF9QUk9NSVNFX1JFSkVDVElPTl9IQU5ETEVSX1NZTUJPTCIsImhhbmRsZXIiLCJpc1RoZW5hYmxlIiwidGhlbiIsImZvcndhcmRSZXNvbHV0aW9uIiwiZm9yd2FyZFJlamVjdGlvbiIsIlpvbmVBd2FyZVByb21pc2UiLCJyZWplY3QiLCJzeW1ib2xTdGF0ZSIsInN5bWJvbFZhbHVlIiwic3ltYm9sRmluYWxseSIsInN5bWJvbFBhcmVudFByb21pc2VWYWx1ZSIsInN5bWJvbFBhcmVudFByb21pc2VTdGF0ZSIsIlVOUkVTT0xWRUQiLCJSRVNPTFZFRCIsIlJFSkVDVEVEIiwiUkVKRUNURURfTk9fQ0FUQ0giLCJtYWtlUmVzb2x2ZXIiLCJwcm9taXNlIiwidiIsInJlc29sdmVQcm9taXNlIiwib25jZSIsIndhc0NhbGxlZCIsIndyYXBwZXIiLCJ3cmFwcGVkRnVuY3Rpb24iLCJUWVBFX0VSUk9SIiwiQ1VSUkVOVF9UQVNLX1RSQUNFX1NZTUJPTCIsIm9uY2VXcmFwcGVyIiwiVHlwZUVycm9yIiwiY2xlYXJSZWplY3RlZE5vQ2F0Y2giLCJ0cmFjZSIsInNjaGVkdWxlUmVzb2x2ZU9yUmVqZWN0IiwicmVhZGFibGVPYmplY3RUb1N0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJSRUpFQ1RJT05fSEFORExFRF9IQU5ETEVSIiwic3BsaWNlIiwiY2hhaW5Qcm9taXNlIiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwicHJvbWlzZVN0YXRlIiwicGFyZW50UHJvbWlzZVZhbHVlIiwiaXNGaW5hbGx5UHJvbWlzZSIsIkFnZ3JlZ2F0ZUVycm9yIiwiYW55IiwidmFsdWVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJQcm9taXNlIiwicHJvbWlzZXMiLCJmaW5pc2hlZCIsImVycm9ycyIsInJhY2UiLCJyZXMiLCJyZWoiLCJvblJlc29sdmUiLCJvblJlamVjdCIsImFsbCIsImFsbFdpdGhDYWxsYmFjayIsImFsbFNldHRsZWQiLCJ0aGVuQ2FsbGJhY2siLCJzdGF0dXMiLCJlcnJvckNhbGxiYWNrIiwicmVhc29uIiwidW5yZXNvbHZlZENvdW50IiwidmFsdWVJbmRleCIsInJlc29sdmVkVmFsdWVzIiwiY3VyVmFsdWVJbmRleCIsInRoZW5FcnIiLCJleGVjdXRvciIsInRvU3RyaW5nVGFnIiwic3BlY2llcyIsIl9hIiwiQyIsIm9uRmluYWxseSIsIk5hdGl2ZVByb21pc2UiLCJzeW1ib2xUaGVuUGF0Y2hlZCIsIkN0b3IiLCJvcmlnaW5hbFRoZW4iLCJ6b25laWZ5IiwicmVzdWx0UHJvbWlzZSIsImN0b3IiLCJvcmlnaW5hbEZ1bmN0aW9uVG9TdHJpbmciLCJGdW5jdGlvbiIsIk9SSUdJTkFMX0RFTEVHQVRFX1NZTUJPTCIsIlBST01JU0VfU1lNQk9MIiwiRVJST1JfU1lNQk9MIiwibmV3RnVuY3Rpb25Ub1N0cmluZyIsIm9yaWdpbmFsRGVsZWdhdGUiLCJuYXRpdmVQcm9taXNlIiwibmF0aXZlRXJyb3IiLCJvcmlnaW5hbE9iamVjdFRvU3RyaW5nIiwicGFzc2l2ZVN1cHBvcnRlZCIsIk9QVElNSVpFRF9aT05FX0VWRU5UX1RBU0tfREFUQSIsInpvbmVTeW1ib2xFdmVudE5hbWVzIiwiZ2xvYmFsU291cmNlcyIsIkVWRU5UX05BTUVfU1lNQk9MX1JFR1giLCJSZWdFeHAiLCJJTU1FRElBVEVfUFJPUEFHQVRJT05fU1lNQk9MIiwicHJlcGFyZUV2ZW50TmFtZXMiLCJldmVudE5hbWVUb1N0cmluZyIsImZhbHNlRXZlbnROYW1lIiwidHJ1ZUV2ZW50TmFtZSIsInN5bWJvbENhcHR1cmUiLCJhcGlzIiwicGF0Y2hPcHRpb25zIiwiQUREX0VWRU5UX0xJU1RFTkVSIiwiYWRkIiwiUkVNT1ZFX0VWRU5UX0xJU1RFTkVSIiwicm0iLCJMSVNURU5FUlNfRVZFTlRfTElTVEVORVIiLCJsaXN0ZW5lcnMiLCJSRU1PVkVfQUxMX0xJU1RFTkVSU19FVkVOVF9MSVNURU5FUiIsInJtQWxsIiwiem9uZVN5bWJvbEFkZEV2ZW50TGlzdGVuZXIiLCJBRERfRVZFTlRfTElTVEVORVJfU09VUkNFIiwiUFJFUEVORF9FVkVOVF9MSVNURU5FUiIsIlBSRVBFTkRfRVZFTlRfTElTVEVORVJfU09VUkNFIiwiaXNSZW1vdmVkIiwiaGFuZGxlRXZlbnQiLCJnbG9iYWxDYWxsYmFjayIsImNvbnRleHQiLCJpc0NhcHR1cmUiLCJ0YXNrcyIsImNvcHlUYXNrcyIsImdsb2JhbFpvbmVBd2FyZUNhbGxiYWNrIiwiZ2xvYmFsWm9uZUF3YXJlQ2FwdHVyZUNhbGxiYWNrIiwicGF0Y2hFdmVudFRhcmdldE1ldGhvZHMiLCJ1c2VHbG9iYWxDYWxsYmFjayIsInZhbGlkYXRlSGFuZGxlciIsInZoIiwiY2hrRHVwIiwicmV0dXJuVGFyZ2V0IiwicnQiLCJ0YXNrRGF0YSIsIm5hdGl2ZUFkZEV2ZW50TGlzdGVuZXIiLCJuYXRpdmVSZW1vdmVFdmVudExpc3RlbmVyIiwibmF0aXZlTGlzdGVuZXJzIiwibmF0aXZlUmVtb3ZlQWxsTGlzdGVuZXJzIiwibmF0aXZlUHJlcGVuZEV2ZW50TGlzdGVuZXIiLCJwcmVwZW5kIiwiY3VzdG9tU2NoZWR1bGVQcmVwZW5kIiwiaXNFeGlzdGluZyIsImNhcHR1cmUiLCJzeW1ib2xFdmVudE5hbWVzIiwic3ltYm9sRXZlbnROYW1lIiwiZXhpc3RpbmdUYXNrcyIsImFsbFJlbW92ZWQiLCJjb21wYXJlIiwiZGlmZiIsInR5cGVPZkRlbGVnYXRlIiwidW5wYXRjaGVkRXZlbnRzIiwicGFzc2l2ZUV2ZW50cyIsIm1ha2VBZGRMaXN0ZW5lciIsIm5hdGl2ZUxpc3RlbmVyIiwiYWRkU291cmNlIiwiY3VzdG9tU2NoZWR1bGVGbiIsImN1c3RvbUNhbmNlbEZuIiwidHJhbnNmZXJFdmVudE5hbWUiLCJpc0hhbmRsZUV2ZW50IiwicGFzc2l2ZSIsImJ1aWxkRXZlbnRMaXN0ZW5lck9wdGlvbnMiLCJhc3NpZ24iLCJjb25zdHJ1Y3Rvck5hbWUiLCJ0YXJnZXRTb3VyY2UiLCJ1bnNoaWZ0IiwiZXhpc3RpbmdUYXNrIiwiZmluZEV2ZW50VGFza3MiLCJzeW1ib2xDYXB0dXJlRXZlbnROYW1lIiwiY2FwdHVyZVRhc2tzIiwicmVtb3ZlVGFza3MiLCJrZXlzIiwibWF0Y2giLCJleGVjIiwiZXZ0TmFtZSIsInJlc3VsdHMiLCJmb3VuZFRhc2tzIiwiY2FwdHVyZUZhbHNlVGFza3MiLCJjYXB0dXJlVHJ1ZVRhc2tzIiwiY29uY2F0IiwiRXZlbnQiLCJ0YXJnZXROYW1lIiwibWV0aG9kIiwiY2FsbGJhY2tzIiwibmF0aXZlRGVsZWdhdGUiLCJvcHRzIiwiZm9yRWFjaCIsImRlc2NyaXB0b3IiLCJpZ25vcmVQcm9wZXJ0aWVzIiwidGlwIiwiZmlsdGVyIiwiaXAiLCJ0YXJnZXRJZ25vcmVQcm9wZXJ0aWVzIiwib3AiLCJwYXRjaEZpbHRlcmVkUHJvcGVydGllcyIsImdldE9uRXZlbnROYW1lcyIsImdldE93blByb3BlcnR5TmFtZXMiLCJzdGFydHNXaXRoIiwibWFwIiwic3Vic3RyaW5nIiwicHJvcGVydHlEZXNjcmlwdG9yUGF0Y2giLCJwYXRjaFRhcmdldHMiLCJpZ25vcmVFcnJvclByb3BlcnRpZXMiLCJldmVudE5hbWVzIiwiU1lNQk9MX0JMQUNLX0xJU1RFRF9FVkVOVFMiLCJTWU1CT0xfVU5QQVRDSEVEX0VWRU5UUyIsInRhc2tTeW1ib2wiLCJwYXRjaFRpbWVyIiwic2V0TmFtZSIsImNhbmNlbE5hbWUiLCJuYW1lU3VmZml4IiwiY2xlYXJOYXRpdmUiLCJ0YXNrc0J5SGFuZGxlSWQiLCJjbGVhclRhc2siLCJkZWxheSIsInRpbWVyIiwiaGFuZGxlIiwicmVmIiwidW5yZWYiLCJiaW5kIiwiaWQiLCJldmVudFRhcmdldFBhdGNoIiwiRVZFTlRfVEFSR0VUIiwibGVnYWN5UGF0Y2giLCJjbGVhciIsImJsb2NraW5nTWV0aG9kcyIsInMiLCJwYXRjaEV2ZW50IiwiWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldCIsInBhdGNoQ3VzdG9tRWxlbWVudHMiLCJjdXN0b21FbGVtZW50cyIsInBhdGNoWEhSIiwiWE1MSHR0cFJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdFByb3RvdHlwZSIsIm9yaUFkZExpc3RlbmVyIiwib3JpUmVtb3ZlTGlzdGVuZXIiLCJYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0UHJvdG90eXBlIiwiUkVBRFlfU1RBVEVfQ0hBTkdFIiwiU0NIRURVTEVEIiwiWEhSX1NDSEVEVUxFRCIsIlhIUl9FUlJPUl9CRUZPUkVfU0NIRURVTEVEIiwiWEhSX0xJU1RFTkVSIiwibmV3TGlzdGVuZXIiLCJyZWFkeVN0YXRlIiwiRE9ORSIsImFib3J0ZWQiLCJsb2FkVGFza3MiLCJvcmlJbnZva2UiLCJYSFJfVEFTSyIsInNlbmROYXRpdmUiLCJwbGFjZWhvbGRlckNhbGxiYWNrIiwiYWJvcnROYXRpdmUiLCJvcGVuTmF0aXZlIiwiWEhSX1NZTkMiLCJYSFJfVVJMIiwiZmV0Y2hUYXNrQWJvcnRpbmciLCJmZXRjaFRhc2tTY2hlZHVsaW5nIiwidXJsIiwiZmluZFBlbmRpbmdUYXNrIiwiZ2VvbG9jYXRpb24iLCJwYXRjaFByb3RvdHlwZSIsImZuTmFtZXMiLCJmaW5kUHJvbWlzZVJlamVjdGlvbkhhbmRsZXIiLCJQcm9taXNlUmVqZWN0aW9uRXZlbnQiLCJldnQiXSwic291cmNlUm9vdCI6IiJ9